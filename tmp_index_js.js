function xk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BC={exports:{}},B0={},$C={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af=Symbol.for("react.element"),wk=Symbol.for("react.portal"),bk=Symbol.for("react.fragment"),Sk=Symbol.for("react.strict_mode"),Ek=Symbol.for("react.profiler"),Ak=Symbol.for("react.provider"),_k=Symbol.for("react.context"),Ck=Symbol.for("react.forward_ref"),Ok=Symbol.for("react.suspense"),Tk=Symbol.for("react.memo"),Nk=Symbol.for("react.lazy"),ob=Symbol.iterator;function Ik(e){return e===null||typeof e!="object"?null:(e=ob&&e[ob]||e["@@iterator"],typeof e=="function"?e:null)}var FC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UC=Object.assign,zC={};function ql(e,t,r){this.props=e,this.context=t,this.refs=zC,this.updater=r||FC}ql.prototype.isReactComponent={};ql.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ql.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function HC(){}HC.prototype=ql.prototype;function _v(e,t,r){this.props=e,this.context=t,this.refs=zC,this.updater=r||FC}var Cv=_v.prototype=new HC;Cv.constructor=_v;UC(Cv,ql.prototype);Cv.isPureReactComponent=!0;var lb=Array.isArray,WC=Object.prototype.hasOwnProperty,Ov={current:null},VC={key:!0,ref:!0,__self:!0,__source:!0};function GC(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)WC.call(t,n)&&!VC.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var f=Array(u),d=0;d<u;d++)f[d]=arguments[d+2];i.children=f}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Af,type:e,key:s,ref:o,props:i,_owner:Ov.current}}function Pk(e,t){return{$$typeof:Af,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Af}function kk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var cb=/\/+/g;function b1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kk(""+e.key):t.toString(36)}function Ud(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Af:case wk:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+b1(o,0):n,lb(i)?(r="",e!=null&&(r=e.replace(cb,"$&/")+"/"),Ud(i,t,r,"",function(d){return d})):i!=null&&(Tv(i)&&(i=Pk(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",lb(e))for(var u=0;u<e.length;u++){s=e[u];var f=n+b1(s,u);o+=Ud(s,t,r,f,i)}else if(f=Ik(e),typeof f=="function")for(e=f.call(e),u=0;!(s=e.next()).done;)s=s.value,f=n+b1(s,u++),o+=Ud(s,t,r,f,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ed(e,t,r){if(e==null)return e;var n=[],i=0;return Ud(e,n,"","",function(s){return t.call(r,s,i++)}),n}function jk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},zd={transition:null},Rk={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:zd,ReactCurrentOwner:Ov};function qC(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:ed,forEach:function(e,t,r){ed(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ed(e,function(){t++}),t},toArray:function(e){return ed(e,function(t){return t})||[]},only:function(e){if(!Tv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=ql;lt.Fragment=bk;lt.Profiler=Ek;lt.PureComponent=_v;lt.StrictMode=Sk;lt.Suspense=Ok;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rk;lt.act=qC;lt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=UC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ov.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(f in t)WC.call(t,f)&&!VC.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&u!==void 0?u[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){u=Array(f);for(var d=0;d<f;d++)u[d]=arguments[d+2];n.children=u}return{$$typeof:Af,type:e.type,key:i,ref:s,props:n,_owner:o}};lt.createContext=function(e){return e={$$typeof:_k,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ak,_context:e},e.Consumer=e};lt.createElement=GC;lt.createFactory=function(e){var t=GC.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:Ck,render:e}};lt.isValidElement=Tv;lt.lazy=function(e){return{$$typeof:Nk,_payload:{_status:-1,_result:e},_init:jk}};lt.memo=function(e,t){return{$$typeof:Tk,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=zd.transition;zd.transition={};try{e()}finally{zd.transition=t}};lt.unstable_act=qC;lt.useCallback=function(e,t){return nn.current.useCallback(e,t)};lt.useContext=function(e){return nn.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return nn.current.useDeferredValue(e)};lt.useEffect=function(e,t){return nn.current.useEffect(e,t)};lt.useId=function(){return nn.current.useId()};lt.useImperativeHandle=function(e,t,r){return nn.current.useImperativeHandle(e,t,r)};lt.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return nn.current.useMemo(e,t)};lt.useReducer=function(e,t,r){return nn.current.useReducer(e,t,r)};lt.useRef=function(e){return nn.current.useRef(e)};lt.useState=function(e){return nn.current.useState(e)};lt.useSyncExternalStore=function(e,t,r){return nn.current.useSyncExternalStore(e,t,r)};lt.useTransition=function(){return nn.current.useTransition()};lt.version="18.3.1";$C.exports=lt;var B=$C.exports;const X=Pt(B),Mk=xk({__proto__:null,default:X},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dk=B,Lk=Symbol.for("react.element"),Bk=Symbol.for("react.fragment"),$k=Object.prototype.hasOwnProperty,Fk=Dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uk={key:!0,ref:!0,__self:!0,__source:!0};function KC(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$k.call(t,n)&&!Uk.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Lk,type:e,key:s,ref:o,props:i,_owner:Fk.current}}B0.Fragment=Bk;B0.jsx=KC;B0.jsxs=KC;BC.exports=B0;var m=BC.exports,Lg={},XC={exports:{}},Dn={},YC={exports:{}},ZC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,ae){var ne=Y.length;Y.push(ae);e:for(;0<ne;){var de=ne-1>>>1,le=Y[de];if(0<i(le,ae))Y[de]=ae,Y[ne]=le,ne=de;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ae=Y[0],ne=Y.pop();if(ne!==ae){Y[0]=ne;e:for(var de=0,le=Y.length,Se=le>>>1;de<Se;){var Te=2*(de+1)-1,qe=Y[Te],we=Te+1,Ot=Y[we];if(0>i(qe,ne))we<le&&0>i(Ot,qe)?(Y[de]=Ot,Y[we]=ne,de=we):(Y[de]=qe,Y[Te]=ne,de=Te);else if(we<le&&0>i(Ot,ne))Y[de]=Ot,Y[we]=ne,de=we;else break e}}return ae}function i(Y,ae){var ne=Y.sortIndex-ae.sortIndex;return ne!==0?ne:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var f=[],d=[],g=1,v=null,w=3,S=!1,E=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Y){for(var ae=r(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=Y)n(d),ae.sortIndex=ae.expirationTime,t(f,ae);else break;ae=r(d)}}function I(Y){if(_=!1,T(Y),!E)if(r(f)!==null)E=!0,ee(P);else{var ae=r(d);ae!==null&&Z(I,ae.startTime-Y)}}function P(Y,ae){E=!1,_&&(_=!1,N(F),F=-1),S=!0;var ne=w;try{for(T(ae),v=r(f);v!==null&&(!(v.expirationTime>ae)||Y&&!V());){var de=v.callback;if(typeof de=="function"){v.callback=null,w=v.priorityLevel;var le=de(v.expirationTime<=ae);ae=e.unstable_now(),typeof le=="function"?v.callback=le:v===r(f)&&n(f),T(ae)}else n(f);v=r(f)}if(v!==null)var Se=!0;else{var Te=r(d);Te!==null&&Z(I,Te.startTime-ae),Se=!1}return Se}finally{v=null,w=ne,S=!1}}var k=!1,R=null,F=-1,L=5,K=-1;function V(){return!(e.unstable_now()-K<L)}function U(){if(R!==null){var Y=e.unstable_now();K=Y;var ae=!0;try{ae=R(!0,Y)}finally{ae?J():(k=!1,R=null)}}else k=!1}var J;if(typeof C=="function")J=function(){C(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=U,J=function(){H.postMessage(null)}}else J=function(){A(U,0)};function ee(Y){R=Y,k||(k=!0,J())}function Z(Y,ae){F=A(function(){Y(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){E||S||(E=!0,ee(P))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ne=w;w=ae;try{return Y()}finally{w=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=w;w=Y;try{return ae()}finally{w=ne}},e.unstable_scheduleCallback=function(Y,ae,ne){var de=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,Y){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ne+le,Y={id:g++,callback:ae,priorityLevel:Y,startTime:ne,expirationTime:le,sortIndex:-1},ne>de?(Y.sortIndex=ne,t(d,Y),r(f)===null&&Y===r(d)&&(_?(N(F),F=-1):_=!0,Z(I,ne-de))):(Y.sortIndex=le,t(f,Y),E||S||(E=!0,ee(P))),Y},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(Y){var ae=w;return function(){var ne=w;w=ae;try{return Y.apply(this,arguments)}finally{w=ne}}}})(ZC);YC.exports=ZC;var zk=YC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=B,Rn=zk;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QC=new Set,pu={};function ro(e,t){dl(e,t),dl(e+"Capture",t)}function dl(e,t){for(pu[e]=t,e=0;e<t.length;e++)QC.add(t[e])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bg=Object.prototype.hasOwnProperty,Wk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ub={},fb={};function Vk(e){return Bg.call(fb,e)?!0:Bg.call(ub,e)?!1:Wk.test(e)?fb[e]=!0:(ub[e]=!0,!1)}function Gk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qk(e,t,r,n){if(t===null||typeof t>"u"||Gk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sn(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ur[e]=new sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ur[t]=new sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ur[e]=new sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ur[e]=new sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ur[e]=new sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ur[e]=new sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ur[e]=new sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ur[e]=new sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ur[e]=new sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nv=/[\-:]([a-z])/g;function Iv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nv,Iv);Ur[t]=new sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nv,Iv);Ur[t]=new sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nv,Iv);Ur[t]=new sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ur[e]=new sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ur[e]=new sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pv(e,t,r,n){var i=Ur.hasOwnProperty(t)?Ur[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qk(t,r,i,n)&&(r=null),n||i===null?Vk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ms=Hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),$g=Symbol.for("react.profiler"),JC=Symbol.for("react.provider"),eO=Symbol.for("react.context"),jv=Symbol.for("react.forward_ref"),Fg=Symbol.for("react.suspense"),Ug=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),tO=Symbol.for("react.offscreen"),db=Symbol.iterator;function Ac(e){return e===null||typeof e!="object"?null:(e=db&&e[db]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,S1;function Wc(e){if(S1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S1=t&&t[1]||""}return`
`+S1+e}var E1=!1;function A1(e,t){if(!e||E1)return"";E1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var f=`
`+i[o].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=o&&0<=u);break}}}finally{E1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wc(e):""}function Kk(e){switch(e.tag){case 5:return Wc(e.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 2:case 15:return e=A1(e.type,!1),e;case 11:return e=A1(e.type.render,!1),e;case 1:return e=A1(e.type,!0),e;default:return""}}function zg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lo:return"Fragment";case Do:return"Portal";case $g:return"Profiler";case kv:return"StrictMode";case Fg:return"Suspense";case Ug:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eO:return(e.displayName||"Context")+".Consumer";case JC:return(e._context.displayName||"Context")+".Provider";case jv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rv:return t=e.displayName||null,t!==null?t:zg(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return zg(e(t))}catch{}}return null}function Xk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zg(t);case 8:return t===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yk(e){var t=rO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rd(e){e._valueTracker||(e._valueTracker=Yk(e))}function nO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hg(e,t){var r=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iO(e,t){t=t.checked,t!=null&&Pv(e,"checked",t,!1)}function Wg(e,t){iO(e,t);var r=Zs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Vg(e,t.type,Zs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Vg(e,t,r){(t!=="number"||nh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vc=Array.isArray;function Jo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zs(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(me(92));if(Vc(r)){if(1<r.length)throw Error(me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zs(r)}}function sO(e,t){var r=Zs(t.value),n=Zs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nd,oO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nd=nd||document.createElement("div"),nd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zk=["Webkit","ms","Moz","O"];Object.keys(Zc).forEach(function(e){Zk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zc[t]=Zc[e]})});function lO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zc.hasOwnProperty(e)&&Zc[e]?(""+t).trim():t+"px"}function cO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=lO(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Qk=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kg(e,t){if(t){if(Qk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function Xg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=null;function Mv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zg=null,el=null,tl=null;function yb(e){if(e=Of(e)){if(typeof Zg!="function")throw Error(me(280));var t=e.stateNode;t&&(t=H0(t),Zg(e.stateNode,e.type,t))}}function uO(e){el?tl?tl.push(e):tl=[e]:el=e}function fO(){if(el){var e=el,t=tl;if(tl=el=null,yb(e),t)for(e=0;e<t.length;e++)yb(t[e])}}function dO(e,t){return e(t)}function hO(){}var _1=!1;function pO(e,t,r){if(_1)return e(t,r);_1=!0;try{return dO(e,t,r)}finally{_1=!1,(el!==null||tl!==null)&&(hO(),fO())}}function mu(e,t){var r=e.stateNode;if(r===null)return null;var n=H0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(me(231,t,typeof r));return r}var Qg=!1;if(os)try{var _c={};Object.defineProperty(_c,"passive",{get:function(){Qg=!0}}),window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{Qg=!1}function Jk(e,t,r,n,i,s,o,u,f){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(g){this.onError(g)}}var Qc=!1,ih=null,sh=!1,Jg=null,e8={onError:function(e){Qc=!0,ih=e}};function t8(e,t,r,n,i,s,o,u,f){Qc=!1,ih=null,Jk.apply(e8,arguments)}function r8(e,t,r,n,i,s,o,u,f){if(t8.apply(this,arguments),Qc){if(Qc){var d=ih;Qc=!1,ih=null}else throw Error(me(198));sh||(sh=!0,Jg=d)}}function no(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vb(e){if(no(e)!==e)throw Error(me(188))}function n8(e){var t=e.alternate;if(!t){if(t=no(e),t===null)throw Error(me(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return vb(i),e;if(s===n)return vb(i),t;s=s.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?e:t}function mO(e){return e=n8(e),e!==null?yO(e):null}function yO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yO(e);if(t!==null)return t;e=e.sibling}return null}var vO=Rn.unstable_scheduleCallback,xb=Rn.unstable_cancelCallback,i8=Rn.unstable_shouldYield,s8=Rn.unstable_requestPaint,lr=Rn.unstable_now,a8=Rn.unstable_getCurrentPriorityLevel,Dv=Rn.unstable_ImmediatePriority,xO=Rn.unstable_UserBlockingPriority,ah=Rn.unstable_NormalPriority,o8=Rn.unstable_LowPriority,wO=Rn.unstable_IdlePriority,$0=null,Li=null;function l8(e){if(Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot($0,e,void 0,(e.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:f8,c8=Math.log,u8=Math.LN2;function f8(e){return e>>>=0,e===0?32:31-(c8(e)/u8|0)|0}var id=64,sd=4194304;function Gc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=Gc(u):(s&=o,s!==0&&(n=Gc(s)))}else o=r&~i,o!==0?n=Gc(o):s!==0&&(n=Gc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wi(t),i=1<<r,n|=e[r],t&=~i;return n}function d8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-wi(s),u=1<<o,f=i[o];f===-1?(!(u&r)||u&n)&&(i[o]=d8(u,t)):f<=t&&(e.expiredLanes|=u),s&=~u}}function em(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bO(){var e=id;return id<<=1,!(id&4194240)&&(id=64),e}function C1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _f(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wi(t),e[t]=r}function p8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-wi(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Lv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wi(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var _t=0;function SO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EO,Bv,AO,_O,CO,tm=!1,ad=[],Fs=null,Us=null,zs=null,yu=new Map,vu=new Map,ks=[],g8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wb(e,t){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":yu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(t.pointerId)}}function Cc(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Of(t),t!==null&&Bv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function m8(e,t,r,n,i){switch(t){case"focusin":return Fs=Cc(Fs,e,t,r,n,i),!0;case"dragenter":return Us=Cc(Us,e,t,r,n,i),!0;case"mouseover":return zs=Cc(zs,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return yu.set(s,Cc(yu.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,vu.set(s,Cc(vu.get(s)||null,e,t,r,n,i)),!0}return!1}function OO(e){var t=Oa(e.target);if(t!==null){var r=no(t);if(r!==null){if(t=r.tag,t===13){if(t=gO(r),t!==null){e.blockedOn=t,CO(e.priority,function(){AO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yg=n,r.target.dispatchEvent(n),Yg=null}else return t=Of(r),t!==null&&Bv(t),e.blockedOn=r,!1;t.shift()}return!0}function bb(e,t,r){Hd(e)&&r.delete(t)}function y8(){tm=!1,Fs!==null&&Hd(Fs)&&(Fs=null),Us!==null&&Hd(Us)&&(Us=null),zs!==null&&Hd(zs)&&(zs=null),yu.forEach(bb),vu.forEach(bb)}function Oc(e,t){e.blockedOn===t&&(e.blockedOn=null,tm||(tm=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,y8)))}function xu(e){function t(i){return Oc(i,e)}if(0<ad.length){Oc(ad[0],e);for(var r=1;r<ad.length;r++){var n=ad[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fs!==null&&Oc(Fs,e),Us!==null&&Oc(Us,e),zs!==null&&Oc(zs,e),yu.forEach(t),vu.forEach(t),r=0;r<ks.length;r++)n=ks[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ks.length&&(r=ks[0],r.blockedOn===null);)OO(r),r.blockedOn===null&&ks.shift()}var rl=ms.ReactCurrentBatchConfig,lh=!0;function v8(e,t,r,n){var i=_t,s=rl.transition;rl.transition=null;try{_t=1,$v(e,t,r,n)}finally{_t=i,rl.transition=s}}function x8(e,t,r,n){var i=_t,s=rl.transition;rl.transition=null;try{_t=4,$v(e,t,r,n)}finally{_t=i,rl.transition=s}}function $v(e,t,r,n){if(lh){var i=rm(e,t,r,n);if(i===null)D1(e,t,n,ch,r),wb(e,n);else if(m8(i,e,t,r,n))n.stopPropagation();else if(wb(e,n),t&4&&-1<g8.indexOf(e)){for(;i!==null;){var s=Of(i);if(s!==null&&EO(s),s=rm(e,t,r,n),s===null&&D1(e,t,n,ch,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else D1(e,t,n,null,r)}}var ch=null;function rm(e,t,r,n){if(ch=null,e=Mv(n),e=Oa(e),e!==null)if(t=no(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ch=e,null}function TO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a8()){case Dv:return 1;case xO:return 4;case ah:case o8:return 16;case wO:return 536870912;default:return 16}default:return 16}}var Ds=null,Fv=null,Wd=null;function NO(){if(Wd)return Wd;var e,t=Fv,r=t.length,n,i="value"in Ds?Ds.value:Ds.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Wd=i.slice(e,1<n?1-n:void 0)}function Vd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function Sb(){return!1}function Ln(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?od:Sb,this.isPropagationStopped=Sb,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),t}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uv=Ln(Kl),Cf=Jt({},Kl,{view:0,detail:0}),w8=Ln(Cf),O1,T1,Tc,F0=Jt({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tc&&(Tc&&e.type==="mousemove"?(O1=e.screenX-Tc.screenX,T1=e.screenY-Tc.screenY):T1=O1=0,Tc=e),O1)},movementY:function(e){return"movementY"in e?e.movementY:T1}}),Eb=Ln(F0),b8=Jt({},F0,{dataTransfer:0}),S8=Ln(b8),E8=Jt({},Cf,{relatedTarget:0}),N1=Ln(E8),A8=Jt({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),_8=Ln(A8),C8=Jt({},Kl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O8=Ln(C8),T8=Jt({},Kl,{data:0}),Ab=Ln(T8),N8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=P8[e])?!!t[e]:!1}function zv(){return k8}var j8=Jt({},Cf,{key:function(e){if(e.key){var t=N8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zv,charCode:function(e){return e.type==="keypress"?Vd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R8=Ln(j8),M8=Jt({},F0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_b=Ln(M8),D8=Jt({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zv}),L8=Ln(D8),B8=Jt({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$8=Ln(B8),F8=Jt({},F0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U8=Ln(F8),z8=[9,13,27,32],Hv=os&&"CompositionEvent"in window,Jc=null;os&&"documentMode"in document&&(Jc=document.documentMode);var H8=os&&"TextEvent"in window&&!Jc,IO=os&&(!Hv||Jc&&8<Jc&&11>=Jc),Cb=" ",Ob=!1;function PO(e,t){switch(e){case"keyup":return z8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bo=!1;function W8(e,t){switch(e){case"compositionend":return kO(t);case"keypress":return t.which!==32?null:(Ob=!0,Cb);case"textInput":return e=t.data,e===Cb&&Ob?null:e;default:return null}}function V8(e,t){if(Bo)return e==="compositionend"||!Hv&&PO(e,t)?(e=NO(),Wd=Fv=Ds=null,Bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IO&&t.locale!=="ko"?null:t.data;default:return null}}var G8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G8[e.type]:t==="textarea"}function jO(e,t,r,n){uO(n),t=uh(t,"onChange"),0<t.length&&(r=new Uv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var eu=null,wu=null;function q8(e){WO(e,0)}function U0(e){var t=Uo(e);if(nO(t))return e}function K8(e,t){if(e==="change")return t}var RO=!1;if(os){var I1;if(os){var P1="oninput"in document;if(!P1){var Nb=document.createElement("div");Nb.setAttribute("oninput","return;"),P1=typeof Nb.oninput=="function"}I1=P1}else I1=!1;RO=I1&&(!document.documentMode||9<document.documentMode)}function Ib(){eu&&(eu.detachEvent("onpropertychange",MO),wu=eu=null)}function MO(e){if(e.propertyName==="value"&&U0(wu)){var t=[];jO(t,wu,e,Mv(e)),pO(q8,t)}}function X8(e,t,r){e==="focusin"?(Ib(),eu=t,wu=r,eu.attachEvent("onpropertychange",MO)):e==="focusout"&&Ib()}function Y8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return U0(wu)}function Z8(e,t){if(e==="click")return U0(t)}function Q8(e,t){if(e==="input"||e==="change")return U0(t)}function J8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Si=typeof Object.is=="function"?Object.is:J8;function bu(e,t){if(Si(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Bg.call(t,i)||!Si(e[i],t[i]))return!1}return!0}function Pb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kb(e,t){var r=Pb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pb(r)}}function DO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?DO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LO(){for(var e=window,t=nh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nh(e.document)}return t}function Wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ej(e){var t=LO(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&DO(r.ownerDocument.documentElement,r)){if(n!==null&&Wv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=kb(r,s);var o=kb(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tj=os&&"documentMode"in document&&11>=document.documentMode,$o=null,nm=null,tu=null,im=!1;function jb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;im||$o==null||$o!==nh(n)||(n=$o,"selectionStart"in n&&Wv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tu&&bu(tu,n)||(tu=n,n=uh(nm,"onSelect"),0<n.length&&(t=new Uv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$o)))}function ld(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fo={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},k1={},BO={};os&&(BO=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function z0(e){if(k1[e])return k1[e];if(!Fo[e])return e;var t=Fo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BO)return k1[e]=t[r];return e}var $O=z0("animationend"),FO=z0("animationiteration"),UO=z0("animationstart"),zO=z0("transitionend"),HO=new Map,Rb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(e,t){HO.set(e,t),ro(t,[e])}for(var j1=0;j1<Rb.length;j1++){var R1=Rb[j1],rj=R1.toLowerCase(),nj=R1[0].toUpperCase()+R1.slice(1);Js(rj,"on"+nj)}Js($O,"onAnimationEnd");Js(FO,"onAnimationIteration");Js(UO,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(zO,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ij=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function Mb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,r8(n,t,void 0,e),e.currentTarget=null}function WO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],f=u.instance,d=u.currentTarget;if(u=u.listener,f!==s&&i.isPropagationStopped())break e;Mb(i,u,d),s=f}else for(o=0;o<n.length;o++){if(u=n[o],f=u.instance,d=u.currentTarget,u=u.listener,f!==s&&i.isPropagationStopped())break e;Mb(i,u,d),s=f}}}if(sh)throw e=Jg,sh=!1,Jg=null,e}function zt(e,t){var r=t[cm];r===void 0&&(r=t[cm]=new Set);var n=e+"__bubble";r.has(n)||(VO(t,e,2,!1),r.add(n))}function M1(e,t,r){var n=0;t&&(n|=4),VO(r,e,n,t)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Su(e){if(!e[cd]){e[cd]=!0,QC.forEach(function(r){r!=="selectionchange"&&(ij.has(r)||M1(r,!1,e),M1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cd]||(t[cd]=!0,M1("selectionchange",!1,t))}}function VO(e,t,r,n){switch(TO(t)){case 1:var i=v8;break;case 4:i=x8;break;default:i=$v}r=i.bind(null,t,r,e),i=void 0,!Qg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function D1(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Oa(u),o===null)return;if(f=o.tag,f===5||f===6){n=s=o;continue e}u=u.parentNode}}n=n.return}pO(function(){var d=s,g=Mv(r),v=[];e:{var w=HO.get(e);if(w!==void 0){var S=Uv,E=e;switch(e){case"keypress":if(Vd(r)===0)break e;case"keydown":case"keyup":S=R8;break;case"focusin":E="focus",S=N1;break;case"focusout":E="blur",S=N1;break;case"beforeblur":case"afterblur":S=N1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Eb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=S8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=L8;break;case $O:case FO:case UO:S=_8;break;case zO:S=$8;break;case"scroll":S=w8;break;case"wheel":S=U8;break;case"copy":case"cut":case"paste":S=O8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=_b}var _=(t&4)!==0,A=!_&&e==="scroll",N=_?w!==null?w+"Capture":null:w;_=[];for(var C=d,T;C!==null;){T=C;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,N!==null&&(I=mu(C,N),I!=null&&_.push(Eu(C,I,T)))),A)break;C=C.return}0<_.length&&(w=new S(w,E,null,r,g),v.push({event:w,listeners:_}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",w&&r!==Yg&&(E=r.relatedTarget||r.fromElement)&&(Oa(E)||E[ls]))break e;if((S||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,S?(E=r.relatedTarget||r.toElement,S=d,E=E?Oa(E):null,E!==null&&(A=no(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(S=null,E=d),S!==E)){if(_=Eb,I="onMouseLeave",N="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(_=_b,I="onPointerLeave",N="onPointerEnter",C="pointer"),A=S==null?w:Uo(S),T=E==null?w:Uo(E),w=new _(I,C+"leave",S,r,g),w.target=A,w.relatedTarget=T,I=null,Oa(g)===d&&(_=new _(N,C+"enter",E,r,g),_.target=T,_.relatedTarget=A,I=_),A=I,S&&E)t:{for(_=S,N=E,C=0,T=_;T;T=wo(T))C++;for(T=0,I=N;I;I=wo(I))T++;for(;0<C-T;)_=wo(_),C--;for(;0<T-C;)N=wo(N),T--;for(;C--;){if(_===N||N!==null&&_===N.alternate)break t;_=wo(_),N=wo(N)}_=null}else _=null;S!==null&&Db(v,w,S,_,!1),E!==null&&A!==null&&Db(v,A,E,_,!0)}}e:{if(w=d?Uo(d):window,S=w.nodeName&&w.nodeName.toLowerCase(),S==="select"||S==="input"&&w.type==="file")var P=K8;else if(Tb(w))if(RO)P=Q8;else{P=Y8;var k=X8}else(S=w.nodeName)&&S.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(P=Z8);if(P&&(P=P(e,d))){jO(v,P,r,g);break e}k&&k(e,w,d),e==="focusout"&&(k=w._wrapperState)&&k.controlled&&w.type==="number"&&Vg(w,"number",w.value)}switch(k=d?Uo(d):window,e){case"focusin":(Tb(k)||k.contentEditable==="true")&&($o=k,nm=d,tu=null);break;case"focusout":tu=nm=$o=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,jb(v,r,g);break;case"selectionchange":if(tj)break;case"keydown":case"keyup":jb(v,r,g)}var R;if(Hv)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Bo?PO(e,r)&&(F="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(IO&&r.locale!=="ko"&&(Bo||F!=="onCompositionStart"?F==="onCompositionEnd"&&Bo&&(R=NO()):(Ds=g,Fv="value"in Ds?Ds.value:Ds.textContent,Bo=!0)),k=uh(d,F),0<k.length&&(F=new Ab(F,e,null,r,g),v.push({event:F,listeners:k}),R?F.data=R:(R=kO(r),R!==null&&(F.data=R)))),(R=H8?W8(e,r):V8(e,r))&&(d=uh(d,"onBeforeInput"),0<d.length&&(g=new Ab("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:d}),g.data=R))}WO(v,t)})}function Eu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mu(e,r),s!=null&&n.unshift(Eu(e,s,i)),s=mu(e,t),s!=null&&n.push(Eu(e,s,i))),e=e.return}return n}function wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Db(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var u=r,f=u.alternate,d=u.stateNode;if(f!==null&&f===n)break;u.tag===5&&d!==null&&(u=d,i?(f=mu(r,s),f!=null&&o.unshift(Eu(r,f,u))):i||(f=mu(r,s),f!=null&&o.push(Eu(r,f,u)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sj=/\r\n?/g,aj=/\u0000|\uFFFD/g;function Lb(e){return(typeof e=="string"?e:""+e).replace(sj,`
`).replace(aj,"")}function ud(e,t,r){if(t=Lb(t),Lb(e)!==t&&r)throw Error(me(425))}function fh(){}var sm=null,am=null;function om(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,oj=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,lj=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(e){return Bb.resolve(null).then(e).catch(cj)}:lm;function cj(e){setTimeout(function(){throw e})}function L1(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),xu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);xu(t)}function Hs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $b(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xl=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Xl,Au="__reactProps$"+Xl,ls="__reactContainer$"+Xl,cm="__reactEvents$"+Xl,uj="__reactListeners$"+Xl,fj="__reactHandles$"+Xl;function Oa(e){var t=e[Mi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ls]||r[Mi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$b(e);e!==null;){if(r=e[Mi])return r;e=$b(e)}return t}e=r,r=e.parentNode}return null}function Of(e){return e=e[Mi]||e[ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function H0(e){return e[Au]||null}var um=[],zo=-1;function ea(e){return{current:e}}function Vt(e){0>zo||(e.current=um[zo],um[zo]=null,zo--)}function Ft(e,t){zo++,um[zo]=e.current,e.current=t}var Qs={},Qr=ea(Qs),pn=ea(!1),za=Qs;function hl(e,t){var r=e.type.contextTypes;if(!r)return Qs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gn(e){return e=e.childContextTypes,e!=null}function dh(){Vt(pn),Vt(Qr)}function Fb(e,t,r){if(Qr.current!==Qs)throw Error(me(168));Ft(Qr,t),Ft(pn,r)}function GO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(me(108,Xk(e)||"Unknown",i));return Jt({},r,n)}function hh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qs,za=Qr.current,Ft(Qr,e),Ft(pn,pn.current),!0}function Ub(e,t,r){var n=e.stateNode;if(!n)throw Error(me(169));r?(e=GO(e,t,za),n.__reactInternalMemoizedMergedChildContext=e,Vt(pn),Vt(Qr),Ft(Qr,e)):Vt(pn),Ft(pn,r)}var Xi=null,W0=!1,B1=!1;function qO(e){Xi===null?Xi=[e]:Xi.push(e)}function dj(e){W0=!0,qO(e)}function ta(){if(!B1&&Xi!==null){B1=!0;var e=0,t=_t;try{var r=Xi;for(_t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xi=null,W0=!1}catch(i){throw Xi!==null&&(Xi=Xi.slice(e+1)),vO(Dv,ta),i}finally{_t=t,B1=!1}}return null}var Ho=[],Wo=0,ph=null,gh=0,Vn=[],Gn=0,Ha=null,Zi=1,Qi="";function va(e,t){Ho[Wo++]=gh,Ho[Wo++]=ph,ph=e,gh=t}function KO(e,t,r){Vn[Gn++]=Zi,Vn[Gn++]=Qi,Vn[Gn++]=Ha,Ha=e;var n=Zi;e=Qi;var i=32-wi(n)-1;n&=~(1<<i),r+=1;var s=32-wi(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Zi=1<<32-wi(t)+i|r<<i|n,Qi=s+e}else Zi=1<<s|r<<i|n,Qi=e}function Vv(e){e.return!==null&&(va(e,1),KO(e,1,0))}function Gv(e){for(;e===ph;)ph=Ho[--Wo],Ho[Wo]=null,gh=Ho[--Wo],Ho[Wo]=null;for(;e===Ha;)Ha=Vn[--Gn],Vn[Gn]=null,Qi=Vn[--Gn],Vn[Gn]=null,Zi=Vn[--Gn],Vn[Gn]=null}var kn=null,Pn=null,qt=!1,mi=null;function XO(e,t){var r=qn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,Pn=Hs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,Pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ha!==null?{id:Zi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kn=e,Pn=null,!0):!1;default:return!1}}function fm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dm(e){if(qt){var t=Pn;if(t){var r=t;if(!zb(e,t)){if(fm(e))throw Error(me(418));t=Hs(r.nextSibling);var n=kn;t&&zb(e,t)?XO(n,r):(e.flags=e.flags&-4097|2,qt=!1,kn=e)}}else{if(fm(e))throw Error(me(418));e.flags=e.flags&-4097|2,qt=!1,kn=e}}}function Hb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function fd(e){if(e!==kn)return!1;if(!qt)return Hb(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!om(e.type,e.memoizedProps)),t&&(t=Pn)){if(fm(e))throw YO(),Error(me(418));for(;t;)XO(e,t),t=Hs(t.nextSibling)}if(Hb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pn=Hs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pn=null}}else Pn=kn?Hs(e.stateNode.nextSibling):null;return!0}function YO(){for(var e=Pn;e;)e=Hs(e.nextSibling)}function pl(){Pn=kn=null,qt=!1}function qv(e){mi===null?mi=[e]:mi.push(e)}var hj=ms.ReactCurrentBatchConfig;function Nc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,e))}return e}function dd(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wb(e){var t=e._init;return t(e._payload)}function ZO(e){function t(N,C){if(e){var T=N.deletions;T===null?(N.deletions=[C],N.flags|=16):T.push(C)}}function r(N,C){if(!e)return null;for(;C!==null;)t(N,C),C=C.sibling;return null}function n(N,C){for(N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function i(N,C){return N=qs(N,C),N.index=0,N.sibling=null,N}function s(N,C,T){return N.index=T,e?(T=N.alternate,T!==null?(T=T.index,T<C?(N.flags|=2,C):T):(N.flags|=2,C)):(N.flags|=1048576,C)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function u(N,C,T,I){return C===null||C.tag!==6?(C=V1(T,N.mode,I),C.return=N,C):(C=i(C,T),C.return=N,C)}function f(N,C,T,I){var P=T.type;return P===Lo?g(N,C,T.props.children,I,T.key):C!==null&&(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ts&&Wb(P)===C.type)?(I=i(C,T.props),I.ref=Nc(N,C,T),I.return=N,I):(I=Qd(T.type,T.key,T.props,null,N.mode,I),I.ref=Nc(N,C,T),I.return=N,I)}function d(N,C,T,I){return C===null||C.tag!==4||C.stateNode.containerInfo!==T.containerInfo||C.stateNode.implementation!==T.implementation?(C=G1(T,N.mode,I),C.return=N,C):(C=i(C,T.children||[]),C.return=N,C)}function g(N,C,T,I,P){return C===null||C.tag!==7?(C=La(T,N.mode,I,P),C.return=N,C):(C=i(C,T),C.return=N,C)}function v(N,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return C=V1(""+C,N.mode,T),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case td:return T=Qd(C.type,C.key,C.props,null,N.mode,T),T.ref=Nc(N,null,C),T.return=N,T;case Do:return C=G1(C,N.mode,T),C.return=N,C;case Ts:var I=C._init;return v(N,I(C._payload),T)}if(Vc(C)||Ac(C))return C=La(C,N.mode,T,null),C.return=N,C;dd(N,C)}return null}function w(N,C,T,I){var P=C!==null?C.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:u(N,C,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case td:return T.key===P?f(N,C,T,I):null;case Do:return T.key===P?d(N,C,T,I):null;case Ts:return P=T._init,w(N,C,P(T._payload),I)}if(Vc(T)||Ac(T))return P!==null?null:g(N,C,T,I,null);dd(N,T)}return null}function S(N,C,T,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return N=N.get(T)||null,u(C,N,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case td:return N=N.get(I.key===null?T:I.key)||null,f(C,N,I,P);case Do:return N=N.get(I.key===null?T:I.key)||null,d(C,N,I,P);case Ts:var k=I._init;return S(N,C,T,k(I._payload),P)}if(Vc(I)||Ac(I))return N=N.get(T)||null,g(C,N,I,P,null);dd(C,I)}return null}function E(N,C,T,I){for(var P=null,k=null,R=C,F=C=0,L=null;R!==null&&F<T.length;F++){R.index>F?(L=R,R=null):L=R.sibling;var K=w(N,R,T[F],I);if(K===null){R===null&&(R=L);break}e&&R&&K.alternate===null&&t(N,R),C=s(K,C,F),k===null?P=K:k.sibling=K,k=K,R=L}if(F===T.length)return r(N,R),qt&&va(N,F),P;if(R===null){for(;F<T.length;F++)R=v(N,T[F],I),R!==null&&(C=s(R,C,F),k===null?P=R:k.sibling=R,k=R);return qt&&va(N,F),P}for(R=n(N,R);F<T.length;F++)L=S(R,N,F,T[F],I),L!==null&&(e&&L.alternate!==null&&R.delete(L.key===null?F:L.key),C=s(L,C,F),k===null?P=L:k.sibling=L,k=L);return e&&R.forEach(function(V){return t(N,V)}),qt&&va(N,F),P}function _(N,C,T,I){var P=Ac(T);if(typeof P!="function")throw Error(me(150));if(T=P.call(T),T==null)throw Error(me(151));for(var k=P=null,R=C,F=C=0,L=null,K=T.next();R!==null&&!K.done;F++,K=T.next()){R.index>F?(L=R,R=null):L=R.sibling;var V=w(N,R,K.value,I);if(V===null){R===null&&(R=L);break}e&&R&&V.alternate===null&&t(N,R),C=s(V,C,F),k===null?P=V:k.sibling=V,k=V,R=L}if(K.done)return r(N,R),qt&&va(N,F),P;if(R===null){for(;!K.done;F++,K=T.next())K=v(N,K.value,I),K!==null&&(C=s(K,C,F),k===null?P=K:k.sibling=K,k=K);return qt&&va(N,F),P}for(R=n(N,R);!K.done;F++,K=T.next())K=S(R,N,F,K.value,I),K!==null&&(e&&K.alternate!==null&&R.delete(K.key===null?F:K.key),C=s(K,C,F),k===null?P=K:k.sibling=K,k=K);return e&&R.forEach(function(U){return t(N,U)}),qt&&va(N,F),P}function A(N,C,T,I){if(typeof T=="object"&&T!==null&&T.type===Lo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case td:e:{for(var P=T.key,k=C;k!==null;){if(k.key===P){if(P=T.type,P===Lo){if(k.tag===7){r(N,k.sibling),C=i(k,T.props.children),C.return=N,N=C;break e}}else if(k.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ts&&Wb(P)===k.type){r(N,k.sibling),C=i(k,T.props),C.ref=Nc(N,k,T),C.return=N,N=C;break e}r(N,k);break}else t(N,k);k=k.sibling}T.type===Lo?(C=La(T.props.children,N.mode,I,T.key),C.return=N,N=C):(I=Qd(T.type,T.key,T.props,null,N.mode,I),I.ref=Nc(N,C,T),I.return=N,N=I)}return o(N);case Do:e:{for(k=T.key;C!==null;){if(C.key===k)if(C.tag===4&&C.stateNode.containerInfo===T.containerInfo&&C.stateNode.implementation===T.implementation){r(N,C.sibling),C=i(C,T.children||[]),C.return=N,N=C;break e}else{r(N,C);break}else t(N,C);C=C.sibling}C=G1(T,N.mode,I),C.return=N,N=C}return o(N);case Ts:return k=T._init,A(N,C,k(T._payload),I)}if(Vc(T))return E(N,C,T,I);if(Ac(T))return _(N,C,T,I);dd(N,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,C!==null&&C.tag===6?(r(N,C.sibling),C=i(C,T),C.return=N,N=C):(r(N,C),C=V1(T,N.mode,I),C.return=N,N=C),o(N)):r(N,C)}return A}var gl=ZO(!0),QO=ZO(!1),mh=ea(null),yh=null,Vo=null,Kv=null;function Xv(){Kv=Vo=yh=null}function Yv(e){var t=mh.current;Vt(mh),e._currentValue=t}function hm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nl(e,t){yh=e,Kv=Vo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dn=!0),e.firstContext=null)}function Jn(e){var t=e._currentValue;if(Kv!==e)if(e={context:e,memoizedValue:t,next:null},Vo===null){if(yh===null)throw Error(me(308));Vo=e,yh.dependencies={lanes:0,firstContext:e}}else Vo=Vo.next=e;return t}var Ta=null;function Zv(e){Ta===null?Ta=[e]:Ta.push(e)}function JO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Zv(t)):(r.next=i.next,i.next=r),t.interleaved=r,cs(e,n)}function cs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ns=!1;function Qv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,mt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,cs(e,r)}return i=n.interleaved,i===null?(t.next=t,Zv(n)):(t.next=i.next,i.next=t),n.interleaved=t,cs(e,r)}function Gd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lv(e,r)}}function Vb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vh(e,t,r,n){var i=e.updateQueue;Ns=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var f=u,d=f.next;f.next=null,o===null?s=d:o.next=d,o=f;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==o&&(u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=f))}if(s!==null){var v=i.baseState;o=0,g=d=f=null,u=s;do{var w=u.lane,S=u.eventTime;if((n&w)===w){g!==null&&(g=g.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,_=u;switch(w=t,S=r,_.tag){case 1:if(E=_.payload,typeof E=="function"){v=E.call(S,v,w);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,w=typeof E=="function"?E.call(S,v,w):E,w==null)break e;v=Jt({},v,w);break e;case 2:Ns=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,w=i.effects,w===null?i.effects=[u]:w.push(u))}else S={eventTime:S,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(d=g=S,f=v):g=g.next=S,o|=w;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;w=u,u=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(g===null&&(f=v),i.baseState=f,i.firstBaseUpdate=d,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Va|=o,e.lanes=o,e.memoizedState=v}}function Gb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var Tf={},Bi=ea(Tf),_u=ea(Tf),Cu=ea(Tf);function Na(e){if(e===Tf)throw Error(me(174));return e}function Jv(e,t){switch(Ft(Cu,t),Ft(_u,e),Ft(Bi,Tf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qg(t,e)}Vt(Bi),Ft(Bi,t)}function ml(){Vt(Bi),Vt(_u),Vt(Cu)}function t3(e){Na(Cu.current);var t=Na(Bi.current),r=qg(t,e.type);t!==r&&(Ft(_u,e),Ft(Bi,r))}function ex(e){_u.current===e&&(Vt(Bi),Vt(_u))}var Zt=ea(0);function xh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $1=[];function tx(){for(var e=0;e<$1.length;e++)$1[e]._workInProgressVersionPrimary=null;$1.length=0}var qd=ms.ReactCurrentDispatcher,F1=ms.ReactCurrentBatchConfig,Wa=0,Qt=null,br=null,Tr=null,wh=!1,ru=!1,Ou=0,pj=0;function Vr(){throw Error(me(321))}function rx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Si(e[r],t[r]))return!1;return!0}function nx(e,t,r,n,i,s){if(Wa=s,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qd.current=e===null||e.memoizedState===null?vj:xj,e=r(n,i),ru){s=0;do{if(ru=!1,Ou=0,25<=s)throw Error(me(301));s+=1,Tr=br=null,t.updateQueue=null,qd.current=wj,e=r(n,i)}while(ru)}if(qd.current=bh,t=br!==null&&br.next!==null,Wa=0,Tr=br=Qt=null,wh=!1,t)throw Error(me(300));return e}function ix(){var e=Ou!==0;return Ou=0,e}function ji(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Qt.memoizedState=Tr=e:Tr=Tr.next=e,Tr}function ei(){if(br===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=br.next;var t=Tr===null?Qt.memoizedState:Tr.next;if(t!==null)Tr=t,br=e;else{if(e===null)throw Error(me(310));br=e,e={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Tr===null?Qt.memoizedState=Tr=e:Tr=Tr.next=e}return Tr}function Tu(e,t){return typeof t=="function"?t(e):t}function U1(e){var t=ei(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=br,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,f=null,d=s;do{var g=d.lane;if((Wa&g)===g)f!==null&&(f=f.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var v={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};f===null?(u=f=v,o=n):f=f.next=v,Qt.lanes|=g,Va|=g}d=d.next}while(d!==null&&d!==s);f===null?o=n:f.next=u,Si(n,t.memoizedState)||(dn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=f,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Qt.lanes|=s,Va|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function z1(e){var t=ei(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Si(s,t.memoizedState)||(dn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function r3(){}function n3(e,t){var r=Qt,n=ei(),i=t(),s=!Si(n.memoizedState,i);if(s&&(n.memoizedState=i,dn=!0),n=n.queue,sx(a3.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Tr!==null&&Tr.memoizedState.tag&1){if(r.flags|=2048,Nu(9,s3.bind(null,r,n,i,t),void 0,null),Nr===null)throw Error(me(349));Wa&30||i3(r,t,i)}return i}function i3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function s3(e,t,r,n){t.value=r,t.getSnapshot=n,o3(t)&&l3(e)}function a3(e,t,r){return r(function(){o3(t)&&l3(e)})}function o3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Si(e,r)}catch{return!0}}function l3(e){var t=cs(e,1);t!==null&&bi(t,e,1,-1)}function qb(e){var t=ji();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:e},t.queue=e,e=e.dispatch=yj.bind(null,Qt,e),[t.memoizedState,e]}function Nu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function c3(){return ei().memoizedState}function Kd(e,t,r,n){var i=ji();Qt.flags|=e,i.memoizedState=Nu(1|t,r,void 0,n===void 0?null:n)}function V0(e,t,r,n){var i=ei();n=n===void 0?null:n;var s=void 0;if(br!==null){var o=br.memoizedState;if(s=o.destroy,n!==null&&rx(n,o.deps)){i.memoizedState=Nu(t,r,s,n);return}}Qt.flags|=e,i.memoizedState=Nu(1|t,r,s,n)}function Kb(e,t){return Kd(8390656,8,e,t)}function sx(e,t){return V0(2048,8,e,t)}function u3(e,t){return V0(4,2,e,t)}function f3(e,t){return V0(4,4,e,t)}function d3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function h3(e,t,r){return r=r!=null?r.concat([e]):null,V0(4,4,d3.bind(null,t,e),r)}function ax(){}function p3(e,t){var r=ei();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function g3(e,t){var r=ei();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function m3(e,t,r){return Wa&21?(Si(r,t)||(r=bO(),Qt.lanes|=r,Va|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=r)}function gj(e,t){var r=_t;_t=r!==0&&4>r?r:4,e(!0);var n=F1.transition;F1.transition={};try{e(!1),t()}finally{_t=r,F1.transition=n}}function y3(){return ei().memoizedState}function mj(e,t,r){var n=Gs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},v3(e))x3(t,r);else if(r=JO(e,t,r,n),r!==null){var i=rn();bi(r,e,n,i),w3(r,t,n)}}function yj(e,t,r){var n=Gs(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(v3(e))x3(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,Si(u,o)){var f=t.interleaved;f===null?(i.next=i,Zv(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}r=JO(e,t,i,n),r!==null&&(i=rn(),bi(r,e,n,i),w3(r,t,n))}}function v3(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function x3(e,t){ru=wh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function w3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lv(e,r)}}var bh={readContext:Jn,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},vj={readContext:Jn,useCallback:function(e,t){return ji().memoizedState=[e,t===void 0?null:t],e},useContext:Jn,useEffect:Kb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kd(4194308,4,d3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kd(4,2,e,t)},useMemo:function(e,t){var r=ji();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ji();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=mj.bind(null,Qt,e),[n.memoizedState,e]},useRef:function(e){var t=ji();return e={current:e},t.memoizedState=e},useState:qb,useDebugValue:ax,useDeferredValue:function(e){return ji().memoizedState=e},useTransition:function(){var e=qb(!1),t=e[0];return e=gj.bind(null,e[1]),ji().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qt,i=ji();if(qt){if(r===void 0)throw Error(me(407));r=r()}else{if(r=t(),Nr===null)throw Error(me(349));Wa&30||i3(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Kb(a3.bind(null,n,s,e),[e]),n.flags|=2048,Nu(9,s3.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ji(),t=Nr.identifierPrefix;if(qt){var r=Qi,n=Zi;r=(n&~(1<<32-wi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ou++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xj={readContext:Jn,useCallback:p3,useContext:Jn,useEffect:sx,useImperativeHandle:h3,useInsertionEffect:u3,useLayoutEffect:f3,useMemo:g3,useReducer:U1,useRef:c3,useState:function(){return U1(Tu)},useDebugValue:ax,useDeferredValue:function(e){var t=ei();return m3(t,br.memoizedState,e)},useTransition:function(){var e=U1(Tu)[0],t=ei().memoizedState;return[e,t]},useMutableSource:r3,useSyncExternalStore:n3,useId:y3,unstable_isNewReconciler:!1},wj={readContext:Jn,useCallback:p3,useContext:Jn,useEffect:sx,useImperativeHandle:h3,useInsertionEffect:u3,useLayoutEffect:f3,useMemo:g3,useReducer:z1,useRef:c3,useState:function(){return z1(Tu)},useDebugValue:ax,useDeferredValue:function(e){var t=ei();return br===null?t.memoizedState=e:m3(t,br.memoizedState,e)},useTransition:function(){var e=z1(Tu)[0],t=ei().memoizedState;return[e,t]},useMutableSource:r3,useSyncExternalStore:n3,useId:y3,unstable_isNewReconciler:!1};function ui(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Jt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var G0={isMounted:function(e){return(e=e._reactInternals)?no(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rn(),i=Gs(e),s=rs(n,i);s.payload=t,r!=null&&(s.callback=r),t=Ws(e,s,i),t!==null&&(bi(t,e,i,n),Gd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rn(),i=Gs(e),s=rs(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ws(e,s,i),t!==null&&(bi(t,e,i,n),Gd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rn(),n=Gs(e),i=rs(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ws(e,i,n),t!==null&&(bi(t,e,n,r),Gd(t,e,n))}};function Xb(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!bu(r,n)||!bu(i,s):!0}function b3(e,t,r){var n=!1,i=Qs,s=t.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=gn(t)?za:Qr.current,n=t.contextTypes,s=(n=n!=null)?hl(e,i):Qs),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=G0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Yb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&G0.enqueueReplaceState(t,t.state,null)}function gm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Qv(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=gn(t)?za:Qr.current,i.context=hl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(pm(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&G0.enqueueReplaceState(i,i.state,null),vh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yl(e,t){try{var r="",n=t;do r+=Kk(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function H1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function mm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bj=typeof WeakMap=="function"?WeakMap:Map;function S3(e,t,r){r=rs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Eh||(Eh=!0,Cm=n),mm(e,t)},r}function E3(e,t,r){r=rs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){mm(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mm(e,t),typeof n!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Zb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bj;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Mj.bind(null,e,t,r),t.then(e,e))}function Qb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jb(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rs(-1,1),t.tag=2,Ws(r,t,1))),r.lanes|=1),e)}var Sj=ms.ReactCurrentOwner,dn=!1;function en(e,t,r,n){t.child=e===null?QO(t,null,r,n):gl(t,e.child,r,n)}function e2(e,t,r,n,i){r=r.render;var s=t.ref;return nl(t,i),n=nx(e,t,r,n,s,i),r=ix(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,us(e,t,i)):(qt&&r&&Vv(t),t.flags|=1,en(e,t,n,i),t.child)}function t2(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!px(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,A3(e,t,s,n,i)):(e=Qd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:bu,r(o,n)&&e.ref===t.ref)return us(e,t,i)}return t.flags|=1,e=qs(s,n),e.ref=t.ref,e.return=t,t.child=e}function A3(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(bu(s,n)&&e.ref===t.ref)if(dn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(dn=!0);else return t.lanes=e.lanes,us(e,t,i)}return ym(e,t,r,n,i)}function _3(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(qo,On),On|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ft(qo,On),On|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ft(qo,On),On|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ft(qo,On),On|=n;return en(e,t,i,r),t.child}function C3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ym(e,t,r,n,i){var s=gn(r)?za:Qr.current;return s=hl(t,s),nl(t,i),r=nx(e,t,r,n,s,i),n=ix(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,us(e,t,i)):(qt&&n&&Vv(t),t.flags|=1,en(e,t,r,i),t.child)}function r2(e,t,r,n,i){if(gn(r)){var s=!0;hh(t)}else s=!1;if(nl(t,i),t.stateNode===null)Xd(e,t),b3(t,r,n),gm(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var f=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Jn(d):(d=gn(r)?za:Qr.current,d=hl(t,d));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||f!==d)&&Yb(t,o,n,d),Ns=!1;var w=t.memoizedState;o.state=w,vh(t,n,o,i),f=t.memoizedState,u!==n||w!==f||pn.current||Ns?(typeof g=="function"&&(pm(t,r,g,n),f=t.memoizedState),(u=Ns||Xb(t,r,u,n,w,f,d))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=d,n=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,e3(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:ui(t.type,u),o.props=d,v=t.pendingProps,w=o.context,f=r.contextType,typeof f=="object"&&f!==null?f=Jn(f):(f=gn(r)?za:Qr.current,f=hl(t,f));var S=r.getDerivedStateFromProps;(g=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==v||w!==f)&&Yb(t,o,n,f),Ns=!1,w=t.memoizedState,o.state=w,vh(t,n,o,i);var E=t.memoizedState;u!==v||w!==E||pn.current||Ns?(typeof S=="function"&&(pm(t,r,S,n),E=t.memoizedState),(d=Ns||Xb(t,r,d,n,w,E,f)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,E,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,E,f)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=E),o.props=n,o.state=E,o.context=f,n=d):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),n=!1)}return vm(e,t,r,n,s,i)}function vm(e,t,r,n,i,s){C3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Ub(t,r,!1),us(e,t,s);n=t.stateNode,Sj.current=t;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=gl(t,e.child,null,s),t.child=gl(t,null,u,s)):en(e,t,u,s),t.memoizedState=n.state,i&&Ub(t,r,!0),t.child}function O3(e){var t=e.stateNode;t.pendingContext?Fb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fb(e,t.context,!1),Jv(e,t.containerInfo)}function n2(e,t,r,n,i){return pl(),qv(i),t.flags|=256,en(e,t,r,n),t.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function wm(e){return{baseLanes:e,cachePool:null,transitions:null}}function T3(e,t,r){var n=t.pendingProps,i=Zt.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ft(Zt,i&1),e===null)return dm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=X0(o,n,0,null),e=La(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=wm(r),t.memoizedState=xm,e):ox(t,o));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Ej(e,t,o,n,u,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,u=i.sibling;var f={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=f,t.deletions=null):(n=qs(i,f),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=qs(u,s):(s=La(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?wm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=xm,n}return s=e.child,e=s.sibling,n=qs(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ox(e,t){return t=X0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hd(e,t,r,n){return n!==null&&qv(n),gl(t,e.child,null,r),e=ox(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ej(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=H1(Error(me(422))),hd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=X0({mode:"visible",children:n.children},i,0,null),s=La(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&gl(t,e.child,null,o),t.child.memoizedState=wm(o),t.memoizedState=xm,s);if(!(t.mode&1))return hd(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(me(419)),n=H1(s,n,void 0),hd(e,t,o,n)}if(u=(o&e.childLanes)!==0,dn||u){if(n=Nr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cs(e,i),bi(n,e,i,-1))}return hx(),n=H1(Error(me(421))),hd(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Dj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Pn=Hs(i.nextSibling),kn=t,qt=!0,mi=null,e!==null&&(Vn[Gn++]=Zi,Vn[Gn++]=Qi,Vn[Gn++]=Ha,Zi=e.id,Qi=e.overflow,Ha=t),t=ox(t,n.children),t.flags|=4096,t)}function i2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hm(e.return,t,r)}function W1(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function N3(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(en(e,t,n.children,r),n=Zt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&i2(e,r,t);else if(e.tag===19)i2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ft(Zt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&xh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),W1(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}W1(t,!0,r,null,s);break;case"together":W1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function us(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,r=qs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Aj(e,t,r){switch(t.tag){case 3:O3(t),pl();break;case 5:t3(t);break;case 1:gn(t.type)&&hh(t);break;case 4:Jv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ft(mh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ft(Zt,Zt.current&1),t.flags|=128,null):r&t.child.childLanes?T3(e,t,r):(Ft(Zt,Zt.current&1),e=us(e,t,r),e!==null?e.sibling:null);Ft(Zt,Zt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return N3(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ft(Zt,Zt.current),n)break;return null;case 22:case 23:return t.lanes=0,_3(e,t,r)}return us(e,t,r)}var I3,bm,P3,k3;I3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bm=function(){};P3=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Na(Bi.current);var s=null;switch(r){case"input":i=Hg(e,i),n=Hg(e,n),s=[];break;case"select":i=Jt({},i,{value:void 0}),n=Jt({},n,{value:void 0}),s=[];break;case"textarea":i=Gg(e,i),n=Gg(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fh)}Kg(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(pu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var f=n[d];if(u=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&f!==u&&(f!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in f)f.hasOwnProperty(o)&&u[o]!==f[o]&&(r||(r={}),r[o]=f[o])}else r||(s||(s=[]),s.push(d,r)),r=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(s=s||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(pu.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&zt("scroll",e),s||u===f||(s=[])):(s=s||[]).push(d,f))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};k3=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ic(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _j(e,t,r){var n=t.pendingProps;switch(Gv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(t),null;case 1:return gn(t.type)&&dh(),Gr(t),null;case 3:return n=t.stateNode,ml(),Vt(pn),Vt(Qr),tx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mi!==null&&(Nm(mi),mi=null))),bm(e,t),Gr(t),null;case 5:ex(t);var i=Na(Cu.current);if(r=t.type,e!==null&&t.stateNode!=null)P3(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(me(166));return Gr(t),null}if(e=Na(Bi.current),fd(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Mi]=t,n[Au]=s,e=(t.mode&1)!==0,r){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(i=0;i<qc.length;i++)zt(qc[i],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":hb(n,s),zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},zt("invalid",n);break;case"textarea":gb(n,s),zt("invalid",n)}Kg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&ud(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ud(n.textContent,u,e),i=["children",""+u]):pu.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&zt("scroll",n)}switch(r){case"input":rd(n),pb(n,s,!0);break;case"textarea":rd(n),mb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aO(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mi]=t,e[Au]=n,I3(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xg(r,n),r){case"dialog":zt("cancel",e),zt("close",e),i=n;break;case"iframe":case"object":case"embed":zt("load",e),i=n;break;case"video":case"audio":for(i=0;i<qc.length;i++)zt(qc[i],e);i=n;break;case"source":zt("error",e),i=n;break;case"img":case"image":case"link":zt("error",e),zt("load",e),i=n;break;case"details":zt("toggle",e),i=n;break;case"input":hb(e,n),i=Hg(e,n),zt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Jt({},n,{value:void 0}),zt("invalid",e);break;case"textarea":gb(e,n),i=Gg(e,n),zt("invalid",e);break;default:i=n}Kg(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var f=u[s];s==="style"?cO(e,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&oO(e,f)):s==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&gu(e,f):typeof f=="number"&&gu(e,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pu.hasOwnProperty(s)?f!=null&&s==="onScroll"&&zt("scroll",e):f!=null&&Pv(e,s,f,o))}switch(r){case"input":rd(e),pb(e,n,!1);break;case"textarea":rd(e),mb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zs(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Jo(e,!!n.multiple,s,!1):n.defaultValue!=null&&Jo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gr(t),null;case 6:if(e&&t.stateNode!=null)k3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(me(166));if(r=Na(Cu.current),Na(Bi.current),fd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mi]=t,(s=n.nodeValue!==r)&&(e=kn,e!==null))switch(e.tag){case 3:ud(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ud(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mi]=t,t.stateNode=n}return Gr(t),null;case 13:if(Vt(Zt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&Pn!==null&&t.mode&1&&!(t.flags&128))YO(),pl(),t.flags|=98560,s=!1;else if(s=fd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(me(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(me(317));s[Mi]=t}else pl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gr(t),s=!1}else mi!==null&&(Nm(mi),mi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?Sr===0&&(Sr=3):hx())),t.updateQueue!==null&&(t.flags|=4),Gr(t),null);case 4:return ml(),bm(e,t),e===null&&Su(t.stateNode.containerInfo),Gr(t),null;case 10:return Yv(t.type._context),Gr(t),null;case 17:return gn(t.type)&&dh(),Gr(t),null;case 19:if(Vt(Zt),s=t.memoizedState,s===null)return Gr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Ic(s,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xh(e),o!==null){for(t.flags|=128,Ic(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ft(Zt,Zt.current&1|2),t.child}e=e.sibling}s.tail!==null&&lr()>vl&&(t.flags|=128,n=!0,Ic(s,!1),t.lanes=4194304)}else{if(!n)if(e=xh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ic(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qt)return Gr(t),null}else 2*lr()-s.renderingStartTime>vl&&r!==1073741824&&(t.flags|=128,n=!0,Ic(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=lr(),t.sibling=null,r=Zt.current,Ft(Zt,n?r&1|2:r&1),t):(Gr(t),null);case 22:case 23:return dx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?On&1073741824&&(Gr(t),t.subtreeFlags&6&&(t.flags|=8192)):Gr(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function Cj(e,t){switch(Gv(t),t.tag){case 1:return gn(t.type)&&dh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(),Vt(pn),Vt(Qr),tx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ex(t),null;case 13:if(Vt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(Zt),null;case 4:return ml(),null;case 10:return Yv(t.type._context),null;case 22:case 23:return dx(),null;case 24:return null;default:return null}}var pd=!1,Kr=!1,Oj=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Go(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function Sm(e,t,r){try{r()}catch(n){sr(e,t,n)}}var s2=!1;function Tj(e,t){if(sm=lh,e=LO(),Wv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,f=-1,d=0,g=0,v=e,w=null;t:for(;;){for(var S;v!==r||i!==0&&v.nodeType!==3||(u=o+i),v!==s||n!==0&&v.nodeType!==3||(f=o+n),v.nodeType===3&&(o+=v.nodeValue.length),(S=v.firstChild)!==null;)w=v,v=S;for(;;){if(v===e)break t;if(w===r&&++d===i&&(u=o),w===s&&++g===n&&(f=o),(S=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=S}r=u===-1||f===-1?null:{start:u,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(am={focusedElem:e,selectionRange:r},lh=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,A=E.memoizedState,N=t.stateNode,C=N.getSnapshotBeforeUpdate(t.elementType===t.type?_:ui(t.type,_),A);N.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(I){sr(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return E=s2,s2=!1,E}function nu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sm(t,r,s)}i=i.next}while(i!==n)}}function q0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Em(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function j3(e){var t=e.alternate;t!==null&&(e.alternate=null,j3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mi],delete t[Au],delete t[cm],delete t[uj],delete t[fj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R3(e){return e.tag===5||e.tag===3||e.tag===4}function a2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Am(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fh));else if(n!==4&&(e=e.child,e!==null))for(Am(e,t,r),e=e.sibling;e!==null;)Am(e,t,r),e=e.sibling}function _m(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_m(e,t,r),e=e.sibling;e!==null;)_m(e,t,r),e=e.sibling}var Br=null,di=!1;function Os(e,t,r){for(r=r.child;r!==null;)M3(e,t,r),r=r.sibling}function M3(e,t,r){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount($0,r)}catch{}switch(r.tag){case 5:Kr||Go(r,t);case 6:var n=Br,i=di;Br=null,Os(e,t,r),Br=n,di=i,Br!==null&&(di?(e=Br,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Br.removeChild(r.stateNode));break;case 18:Br!==null&&(di?(e=Br,r=r.stateNode,e.nodeType===8?L1(e.parentNode,r):e.nodeType===1&&L1(e,r),xu(e)):L1(Br,r.stateNode));break;case 4:n=Br,i=di,Br=r.stateNode.containerInfo,di=!0,Os(e,t,r),Br=n,di=i;break;case 0:case 11:case 14:case 15:if(!Kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sm(r,t,o),i=i.next}while(i!==n)}Os(e,t,r);break;case 1:if(!Kr&&(Go(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){sr(r,t,u)}Os(e,t,r);break;case 21:Os(e,t,r);break;case 22:r.mode&1?(Kr=(n=Kr)||r.memoizedState!==null,Os(e,t,r),Kr=n):Os(e,t,r);break;default:Os(e,t,r)}}function o2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Oj),t.forEach(function(n){var i=Lj.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:Br=u.stateNode,di=!1;break e;case 3:Br=u.stateNode.containerInfo,di=!0;break e;case 4:Br=u.stateNode.containerInfo,di=!0;break e}u=u.return}if(Br===null)throw Error(me(160));M3(s,o,i),Br=null,di=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(d){sr(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)D3(t,e),t=t.sibling}function D3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(oi(t,e),Pi(e),n&4){try{nu(3,e,e.return),q0(3,e)}catch(_){sr(e,e.return,_)}try{nu(5,e,e.return)}catch(_){sr(e,e.return,_)}}break;case 1:oi(t,e),Pi(e),n&512&&r!==null&&Go(r,r.return);break;case 5:if(oi(t,e),Pi(e),n&512&&r!==null&&Go(r,r.return),e.flags&32){var i=e.stateNode;try{gu(i,"")}catch(_){sr(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,u=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&iO(i,s),Xg(u,o);var d=Xg(u,s);for(o=0;o<f.length;o+=2){var g=f[o],v=f[o+1];g==="style"?cO(i,v):g==="dangerouslySetInnerHTML"?oO(i,v):g==="children"?gu(i,v):Pv(i,g,v,d)}switch(u){case"input":Wg(i,s);break;case"textarea":sO(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Jo(i,!!s.multiple,S,!1):w!==!!s.multiple&&(s.defaultValue!=null?Jo(i,!!s.multiple,s.defaultValue,!0):Jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Au]=s}catch(_){sr(e,e.return,_)}}break;case 6:if(oi(t,e),Pi(e),n&4){if(e.stateNode===null)throw Error(me(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){sr(e,e.return,_)}}break;case 3:if(oi(t,e),Pi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xu(t.containerInfo)}catch(_){sr(e,e.return,_)}break;case 4:oi(t,e),Pi(e);break;case 13:oi(t,e),Pi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ux=lr())),n&4&&o2(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Kr=(d=Kr)||g,oi(t,e),Kr=d):oi(t,e),Pi(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(Pe=e,g=e.child;g!==null;){for(v=Pe=g;Pe!==null;){switch(w=Pe,S=w.child,w.tag){case 0:case 11:case 14:case 15:nu(4,w,w.return);break;case 1:Go(w,w.return);var E=w.stateNode;if(typeof E.componentWillUnmount=="function"){n=w,r=w.return;try{t=n,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(_){sr(n,r,_)}}break;case 5:Go(w,w.return);break;case 22:if(w.memoizedState!==null){c2(v);continue}}S!==null?(S.return=w,Pe=S):c2(v)}g=g.sibling}e:for(g=null,v=e;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=v.stateNode,f=v.memoizedProps.style,o=f!=null&&f.hasOwnProperty("display")?f.display:null,u.style.display=lO("display",o))}catch(_){sr(e,e.return,_)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(_){sr(e,e.return,_)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:oi(t,e),Pi(e),n&4&&o2(e);break;case 21:break;default:oi(t,e),Pi(e)}}function Pi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(R3(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(gu(i,""),n.flags&=-33);var s=a2(e);_m(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=a2(e);Am(e,u,o);break;default:throw Error(me(161))}}catch(f){sr(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nj(e,t,r){Pe=e,L3(e)}function L3(e,t,r){for(var n=(e.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||pd;if(!o){var u=i.alternate,f=u!==null&&u.memoizedState!==null||Kr;u=pd;var d=Kr;if(pd=o,(Kr=f)&&!d)for(Pe=i;Pe!==null;)o=Pe,f=o.child,o.tag===22&&o.memoizedState!==null?u2(i):f!==null?(f.return=o,Pe=f):u2(i);for(;s!==null;)Pe=s,L3(s),s=s.sibling;Pe=i,pd=u,Kr=d}l2(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):l2(e)}}function l2(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kr||q0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Kr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ui(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Gb(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gb(t,o,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&xu(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Kr||t.flags&512&&Em(t)}catch(w){sr(t,t.return,w)}}if(t===e){Pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function c2(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function u2(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{q0(4,t)}catch(f){sr(t,r,f)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(f){sr(t,i,f)}}var s=t.return;try{Em(t)}catch(f){sr(t,s,f)}break;case 5:var o=t.return;try{Em(t)}catch(f){sr(t,o,f)}}}catch(f){sr(t,t.return,f)}if(t===e){Pe=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Pe=u;break}Pe=t.return}}var Ij=Math.ceil,Sh=ms.ReactCurrentDispatcher,lx=ms.ReactCurrentOwner,Xn=ms.ReactCurrentBatchConfig,mt=0,Nr=null,hr=null,Fr=0,On=0,qo=ea(0),Sr=0,Iu=null,Va=0,K0=0,cx=0,iu=null,fn=null,ux=0,vl=1/0,qi=null,Eh=!1,Cm=null,Vs=null,gd=!1,Ls=null,Ah=0,su=0,Om=null,Yd=-1,Zd=0;function rn(){return mt&6?lr():Yd!==-1?Yd:Yd=lr()}function Gs(e){return e.mode&1?mt&2&&Fr!==0?Fr&-Fr:hj.transition!==null?(Zd===0&&(Zd=bO()),Zd):(e=_t,e!==0||(e=window.event,e=e===void 0?16:TO(e.type)),e):1}function bi(e,t,r,n){if(50<su)throw su=0,Om=null,Error(me(185));_f(e,r,n),(!(mt&2)||e!==Nr)&&(e===Nr&&(!(mt&2)&&(K0|=r),Sr===4&&js(e,Fr)),mn(e,n),r===1&&mt===0&&!(t.mode&1)&&(vl=lr()+500,W0&&ta()))}function mn(e,t){var r=e.callbackNode;h8(e,t);var n=oh(e,e===Nr?Fr:0);if(n===0)r!==null&&xb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xb(r),t===1)e.tag===0?dj(f2.bind(null,e)):qO(f2.bind(null,e)),lj(function(){!(mt&6)&&ta()}),r=null;else{switch(SO(n)){case 1:r=Dv;break;case 4:r=xO;break;case 16:r=ah;break;case 536870912:r=wO;break;default:r=ah}r=V3(r,B3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B3(e,t){if(Yd=-1,Zd=0,mt&6)throw Error(me(327));var r=e.callbackNode;if(il()&&e.callbackNode!==r)return null;var n=oh(e,e===Nr?Fr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_h(e,n);else{t=n;var i=mt;mt|=2;var s=F3();(Nr!==e||Fr!==t)&&(qi=null,vl=lr()+500,Da(e,t));do try{jj();break}catch(u){$3(e,u)}while(!0);Xv(),Sh.current=s,mt=i,hr!==null?t=0:(Nr=null,Fr=0,t=Sr)}if(t!==0){if(t===2&&(i=em(e),i!==0&&(n=i,t=Tm(e,i))),t===1)throw r=Iu,Da(e,0),js(e,n),mn(e,lr()),r;if(t===6)js(e,n);else{if(i=e.current.alternate,!(n&30)&&!Pj(i)&&(t=_h(e,n),t===2&&(s=em(e),s!==0&&(n=s,t=Tm(e,s))),t===1))throw r=Iu,Da(e,0),js(e,n),mn(e,lr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(me(345));case 2:xa(e,fn,qi);break;case 3:if(js(e,n),(n&130023424)===n&&(t=ux+500-lr(),10<t)){if(oh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){rn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=lm(xa.bind(null,e,fn,qi),t);break}xa(e,fn,qi);break;case 4:if(js(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-wi(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=lr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ij(n/1960))-n,10<n){e.timeoutHandle=lm(xa.bind(null,e,fn,qi),n);break}xa(e,fn,qi);break;case 5:xa(e,fn,qi);break;default:throw Error(me(329))}}}return mn(e,lr()),e.callbackNode===r?B3.bind(null,e):null}function Tm(e,t){var r=iu;return e.current.memoizedState.isDehydrated&&(Da(e,t).flags|=256),e=_h(e,t),e!==2&&(t=fn,fn=r,t!==null&&Nm(t)),e}function Nm(e){fn===null?fn=e:fn.push.apply(fn,e)}function Pj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Si(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function js(e,t){for(t&=~cx,t&=~K0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wi(t),n=1<<r;e[r]=-1,t&=~n}}function f2(e){if(mt&6)throw Error(me(327));il();var t=oh(e,0);if(!(t&1))return mn(e,lr()),null;var r=_h(e,t);if(e.tag!==0&&r===2){var n=em(e);n!==0&&(t=n,r=Tm(e,n))}if(r===1)throw r=Iu,Da(e,0),js(e,t),mn(e,lr()),r;if(r===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xa(e,fn,qi),mn(e,lr()),null}function fx(e,t){var r=mt;mt|=1;try{return e(t)}finally{mt=r,mt===0&&(vl=lr()+500,W0&&ta())}}function Ga(e){Ls!==null&&Ls.tag===0&&!(mt&6)&&il();var t=mt;mt|=1;var r=Xn.transition,n=_t;try{if(Xn.transition=null,_t=1,e)return e()}finally{_t=n,Xn.transition=r,mt=t,!(mt&6)&&ta()}}function dx(){On=qo.current,Vt(qo)}function Da(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oj(r)),hr!==null)for(r=hr.return;r!==null;){var n=r;switch(Gv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dh();break;case 3:ml(),Vt(pn),Vt(Qr),tx();break;case 5:ex(n);break;case 4:ml();break;case 13:Vt(Zt);break;case 19:Vt(Zt);break;case 10:Yv(n.type._context);break;case 22:case 23:dx()}r=r.return}if(Nr=e,hr=e=qs(e.current,null),Fr=On=t,Sr=0,Iu=null,cx=K0=Va=0,fn=iu=null,Ta!==null){for(t=0;t<Ta.length;t++)if(r=Ta[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Ta=null}return e}function $3(e,t){do{var r=hr;try{if(Xv(),qd.current=bh,wh){for(var n=Qt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wh=!1}if(Wa=0,Tr=br=Qt=null,ru=!1,Ou=0,lx.current=null,r===null||r.return===null){Sr=1,Iu=t,hr=null;break}e:{var s=e,o=r.return,u=r,f=t;if(t=Fr,u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f,g=u,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var S=Qb(o);if(S!==null){S.flags&=-257,Jb(S,o,u,s,t),S.mode&1&&Zb(s,d,t),t=S,f=d;var E=t.updateQueue;if(E===null){var _=new Set;_.add(f),t.updateQueue=_}else E.add(f);break e}else{if(!(t&1)){Zb(s,d,t),hx();break e}f=Error(me(426))}}else if(qt&&u.mode&1){var A=Qb(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Jb(A,o,u,s,t),qv(yl(f,u));break e}}s=f=yl(f,u),Sr!==4&&(Sr=2),iu===null?iu=[s]:iu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var N=S3(s,f,t);Vb(s,N);break e;case 1:u=f;var C=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Vs===null||!Vs.has(T)))){s.flags|=65536,t&=-t,s.lanes|=t;var I=E3(s,u,t);Vb(s,I);break e}}s=s.return}while(s!==null)}z3(r)}catch(P){t=P,hr===r&&r!==null&&(hr=r=r.return);continue}break}while(!0)}function F3(){var e=Sh.current;return Sh.current=bh,e===null?bh:e}function hx(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Nr===null||!(Va&268435455)&&!(K0&268435455)||js(Nr,Fr)}function _h(e,t){var r=mt;mt|=2;var n=F3();(Nr!==e||Fr!==t)&&(qi=null,Da(e,t));do try{kj();break}catch(i){$3(e,i)}while(!0);if(Xv(),mt=r,Sh.current=n,hr!==null)throw Error(me(261));return Nr=null,Fr=0,Sr}function kj(){for(;hr!==null;)U3(hr)}function jj(){for(;hr!==null&&!i8();)U3(hr)}function U3(e){var t=W3(e.alternate,e,On);e.memoizedProps=e.pendingProps,t===null?z3(e):hr=t,lx.current=null}function z3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Cj(r,t),r!==null){r.flags&=32767,hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,hr=null;return}}else if(r=_j(r,t,On),r!==null){hr=r;return}if(t=t.sibling,t!==null){hr=t;return}hr=t=e}while(t!==null);Sr===0&&(Sr=5)}function xa(e,t,r){var n=_t,i=Xn.transition;try{Xn.transition=null,_t=1,Rj(e,t,r,n)}finally{Xn.transition=i,_t=n}return null}function Rj(e,t,r,n){do il();while(Ls!==null);if(mt&6)throw Error(me(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(p8(e,s),e===Nr&&(hr=Nr=null,Fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gd||(gd=!0,V3(ah,function(){return il(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var o=_t;_t=1;var u=mt;mt|=4,lx.current=null,Tj(e,r),D3(r,e),ej(am),lh=!!sm,am=sm=null,e.current=r,Nj(r),s8(),mt=u,_t=o,Xn.transition=s}else e.current=r;if(gd&&(gd=!1,Ls=e,Ah=i),s=e.pendingLanes,s===0&&(Vs=null),l8(r.stateNode),mn(e,lr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Eh)throw Eh=!1,e=Cm,Cm=null,e;return Ah&1&&e.tag!==0&&il(),s=e.pendingLanes,s&1?e===Om?su++:(su=0,Om=e):su=0,ta(),null}function il(){if(Ls!==null){var e=SO(Ah),t=Xn.transition,r=_t;try{if(Xn.transition=null,_t=16>e?16:e,Ls===null)var n=!1;else{if(e=Ls,Ls=null,Ah=0,mt&6)throw Error(me(331));var i=mt;for(mt|=4,Pe=e.current;Pe!==null;){var s=Pe,o=s.child;if(Pe.flags&16){var u=s.deletions;if(u!==null){for(var f=0;f<u.length;f++){var d=u[f];for(Pe=d;Pe!==null;){var g=Pe;switch(g.tag){case 0:case 11:case 15:nu(8,g,s)}var v=g.child;if(v!==null)v.return=g,Pe=v;else for(;Pe!==null;){g=Pe;var w=g.sibling,S=g.return;if(j3(g),g===d){Pe=null;break}if(w!==null){w.return=S,Pe=w;break}Pe=S}}}var E=s.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var A=_.sibling;_.sibling=null,_=A}while(_!==null)}}Pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Pe=o;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nu(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,Pe=N;break e}Pe=s.return}}var C=e.current;for(Pe=C;Pe!==null;){o=Pe;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Pe=T;else e:for(o=C;Pe!==null;){if(u=Pe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:q0(9,u)}}catch(P){sr(u,u.return,P)}if(u===o){Pe=null;break e}var I=u.sibling;if(I!==null){I.return=u.return,Pe=I;break e}Pe=u.return}}if(mt=i,ta(),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot($0,e)}catch{}n=!0}return n}finally{_t=r,Xn.transition=t}}return!1}function d2(e,t,r){t=yl(r,t),t=S3(e,t,1),e=Ws(e,t,1),t=rn(),e!==null&&(_f(e,1,t),mn(e,t))}function sr(e,t,r){if(e.tag===3)d2(e,e,r);else for(;t!==null;){if(t.tag===3){d2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vs===null||!Vs.has(n))){e=yl(r,e),e=E3(t,e,1),t=Ws(t,e,1),e=rn(),t!==null&&(_f(t,1,e),mn(t,e));break}}t=t.return}}function Mj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rn(),e.pingedLanes|=e.suspendedLanes&r,Nr===e&&(Fr&r)===r&&(Sr===4||Sr===3&&(Fr&130023424)===Fr&&500>lr()-ux?Da(e,0):cx|=r),mn(e,t)}function H3(e,t){t===0&&(e.mode&1?(t=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):t=1);var r=rn();e=cs(e,t),e!==null&&(_f(e,t,r),mn(e,r))}function Dj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),H3(e,r)}function Lj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(t),H3(e,r)}var W3;W3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pn.current)dn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dn=!1,Aj(e,t,r);dn=!!(e.flags&131072)}else dn=!1,qt&&t.flags&1048576&&KO(t,gh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xd(e,t),e=t.pendingProps;var i=hl(t,Qr.current);nl(t,r),i=nx(null,t,n,e,i,r);var s=ix();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gn(n)?(s=!0,hh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qv(t),i.updater=G0,t.stateNode=i,i._reactInternals=t,gm(t,n,e,r),t=vm(null,t,n,!0,s,r)):(t.tag=0,qt&&s&&Vv(t),en(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=$j(n),e=ui(n,e),i){case 0:t=ym(null,t,n,e,r);break e;case 1:t=r2(null,t,n,e,r);break e;case 11:t=e2(null,t,n,e,r);break e;case 14:t=t2(null,t,n,ui(n.type,e),r);break e}throw Error(me(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ui(n,i),ym(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ui(n,i),r2(e,t,n,i,r);case 3:e:{if(O3(t),e===null)throw Error(me(387));n=t.pendingProps,s=t.memoizedState,i=s.element,e3(e,t),vh(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=yl(Error(me(423)),t),t=n2(e,t,n,r,i);break e}else if(n!==i){i=yl(Error(me(424)),t),t=n2(e,t,n,r,i);break e}else for(Pn=Hs(t.stateNode.containerInfo.firstChild),kn=t,qt=!0,mi=null,r=QO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pl(),n===i){t=us(e,t,r);break e}en(e,t,n,r)}t=t.child}return t;case 5:return t3(t),e===null&&dm(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,om(n,i)?o=null:s!==null&&om(n,s)&&(t.flags|=32),C3(e,t),en(e,t,o,r),t.child;case 6:return e===null&&dm(t),null;case 13:return T3(e,t,r);case 4:return Jv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gl(t,null,n,r):en(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ui(n,i),e2(e,t,n,i,r);case 7:return en(e,t,t.pendingProps,r),t.child;case 8:return en(e,t,t.pendingProps.children,r),t.child;case 12:return en(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ft(mh,n._currentValue),n._currentValue=o,s!==null)if(Si(s.value,o)){if(s.children===i.children&&!pn.current){t=us(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var f=u.firstContext;f!==null;){if(f.context===n){if(s.tag===1){f=rs(-1,r&-r),f.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?f.next=f:(f.next=g.next,g.next=f),d.pending=f}}s.lanes|=r,f=s.alternate,f!==null&&(f.lanes|=r),hm(s.return,r,t),u.lanes|=r;break}f=f.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(me(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),hm(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}en(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,nl(t,r),i=Jn(i),n=n(i),t.flags|=1,en(e,t,n,r),t.child;case 14:return n=t.type,i=ui(n,t.pendingProps),i=ui(n.type,i),t2(e,t,n,i,r);case 15:return A3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ui(n,i),Xd(e,t),t.tag=1,gn(n)?(e=!0,hh(t)):e=!1,nl(t,r),b3(t,n,i),gm(t,n,i,r),vm(null,t,n,!0,e,r);case 19:return N3(e,t,r);case 22:return _3(e,t,r)}throw Error(me(156,t.tag))};function V3(e,t){return vO(e,t)}function Bj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,t,r,n){return new Bj(e,t,r,n)}function px(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $j(e){if(typeof e=="function")return px(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jv)return 11;if(e===Rv)return 14}return 2}function qs(e,t){var r=e.alternate;return r===null?(r=qn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qd(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")px(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Lo:return La(r.children,i,s,t);case kv:o=8,i|=8;break;case $g:return e=qn(12,r,t,i|2),e.elementType=$g,e.lanes=s,e;case Fg:return e=qn(13,r,t,i),e.elementType=Fg,e.lanes=s,e;case Ug:return e=qn(19,r,t,i),e.elementType=Ug,e.lanes=s,e;case tO:return X0(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JC:o=10;break e;case eO:o=9;break e;case jv:o=11;break e;case Rv:o=14;break e;case Ts:o=16,n=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=qn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function La(e,t,r,n){return e=qn(7,e,n,t),e.lanes=r,e}function X0(e,t,r,n){return e=qn(22,e,n,t),e.elementType=tO,e.lanes=r,e.stateNode={isHidden:!1},e}function V1(e,t,r){return e=qn(6,e,null,t),e.lanes=r,e}function G1(e,t,r){return t=qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fj(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C1(0),this.expirationTimes=C1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gx(e,t,r,n,i,s,o,u,f){return e=new Fj(e,t,r,u,f),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qv(s),e}function Uj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function G3(e){if(!e)return Qs;e=e._reactInternals;e:{if(no(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var r=e.type;if(gn(r))return GO(e,r,t)}return t}function q3(e,t,r,n,i,s,o,u,f){return e=gx(r,n,!0,e,i,s,o,u,f),e.context=G3(null),r=e.current,n=rn(),i=Gs(r),s=rs(n,i),s.callback=t??null,Ws(r,s,i),e.current.lanes=i,_f(e,i,n),mn(e,n),e}function Y0(e,t,r,n){var i=t.current,s=rn(),o=Gs(i);return r=G3(r),t.context===null?t.context=r:t.pendingContext=r,t=rs(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ws(i,t,o),e!==null&&(bi(e,i,o,s),Gd(e,i,o)),o}function Ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function h2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mx(e,t){h2(e,t),(e=e.alternate)&&h2(e,t)}function zj(){return null}var K3=typeof reportError=="function"?reportError:function(e){console.error(e)};function yx(e){this._internalRoot=e}Z0.prototype.render=yx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));Y0(e,t,null,null)};Z0.prototype.unmount=yx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ga(function(){Y0(null,e,null,null)}),t[ls]=null}};function Z0(e){this._internalRoot=e}Z0.prototype.unstable_scheduleHydration=function(e){if(e){var t=_O();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ks.length&&t!==0&&t<ks[r].priority;r++);ks.splice(r,0,e),r===0&&OO(e)}};function vx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Q0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function p2(){}function Hj(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Ch(o);s.call(d)}}var o=q3(t,n,e,0,null,!1,!1,"",p2);return e._reactRootContainer=o,e[ls]=o.current,Su(e.nodeType===8?e.parentNode:e),Ga(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var d=Ch(f);u.call(d)}}var f=gx(e,0,!1,null,null,!1,!1,"",p2);return e._reactRootContainer=f,e[ls]=f.current,Su(e.nodeType===8?e.parentNode:e),Ga(function(){Y0(t,f,r,n)}),f}function J0(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var f=Ch(o);u.call(f)}}Y0(t,o,e,i)}else o=Hj(r,t,e,i,n);return Ch(o)}EO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gc(t.pendingLanes);r!==0&&(Lv(t,r|1),mn(t,lr()),!(mt&6)&&(vl=lr()+500,ta()))}break;case 13:Ga(function(){var n=cs(e,1);if(n!==null){var i=rn();bi(n,e,1,i)}}),mx(e,1)}};Bv=function(e){if(e.tag===13){var t=cs(e,134217728);if(t!==null){var r=rn();bi(t,e,134217728,r)}mx(e,134217728)}};AO=function(e){if(e.tag===13){var t=Gs(e),r=cs(e,t);if(r!==null){var n=rn();bi(r,e,t,n)}mx(e,t)}};_O=function(){return _t};CO=function(e,t){var r=_t;try{return _t=e,t()}finally{_t=r}};Zg=function(e,t,r){switch(t){case"input":if(Wg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=H0(n);if(!i)throw Error(me(90));nO(n),Wg(n,i)}}}break;case"textarea":sO(e,r);break;case"select":t=r.value,t!=null&&Jo(e,!!r.multiple,t,!1)}};dO=fx;hO=Ga;var Wj={usingClientEntryPoint:!1,Events:[Of,Uo,H0,uO,fO,fx]},Pc={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vj={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mO(e),e===null?null:e.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||zj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{$0=md.inject(Vj),Li=md}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wj;Dn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vx(t))throw Error(me(200));return Uj(e,t,null,r)};Dn.createRoot=function(e,t){if(!vx(e))throw Error(me(299));var r=!1,n="",i=K3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gx(e,1,!1,null,null,r,!1,n,i),e[ls]=t.current,Su(e.nodeType===8?e.parentNode:e),new yx(t)};Dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=mO(t),e=e===null?null:e.stateNode,e};Dn.flushSync=function(e){return Ga(e)};Dn.hydrate=function(e,t,r){if(!Q0(t))throw Error(me(200));return J0(null,e,t,!0,r)};Dn.hydrateRoot=function(e,t,r){if(!vx(e))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=K3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=q3(t,null,e,1,r??null,i,!1,s,o),e[ls]=t.current,Su(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Z0(t)};Dn.render=function(e,t,r){if(!Q0(t))throw Error(me(200));return J0(null,e,t,!1,r)};Dn.unmountComponentAtNode=function(e){if(!Q0(e))throw Error(me(40));return e._reactRootContainer?(Ga(function(){J0(null,null,e,!1,function(){e._reactRootContainer=null,e[ls]=null})}),!0):!1};Dn.unstable_batchedUpdates=fx;Dn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Q0(r))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return J0(e,t,r,!1,n)};Dn.version="18.3.1-next-f1338f8080-20240426";function X3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X3)}catch(e){console.error(e)}}X3(),XC.exports=Dn;var Gj=XC.exports,g2=Gj;Lg.createRoot=g2.createRoot,Lg.hydrateRoot=g2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(this,arguments)}var Bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bs||(Bs={}));const m2="popstate";function qj(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:u}=n.location;return Im("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Oh(i)}return Xj(t,r,null,e)}function ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kj(){return Math.random().toString(36).substr(2,8)}function y2(e,t){return{usr:e.state,key:e.key,idx:t}}function Im(e,t,r,n){return r===void 0&&(r=null),Pu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yl(t):t,{state:r,key:t&&t.key||n||Kj()})}function Oh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Xj(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,u=Bs.Pop,f=null,d=g();d==null&&(d=0,o.replaceState(Pu({},o.state,{idx:d}),""));function g(){return(o.state||{idx:null}).idx}function v(){u=Bs.Pop;let A=g(),N=A==null?null:A-d;d=A,f&&f({action:u,location:_.location,delta:N})}function w(A,N){u=Bs.Push;let C=Im(_.location,A,N);d=g()+1;let T=y2(C,d),I=_.createHref(C);try{o.pushState(T,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(I)}s&&f&&f({action:u,location:_.location,delta:1})}function S(A,N){u=Bs.Replace;let C=Im(_.location,A,N);d=g();let T=y2(C,d),I=_.createHref(C);o.replaceState(T,"",I),s&&f&&f({action:u,location:_.location,delta:0})}function E(A){let N=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:Oh(A);return C=C.replace(/ $/,"%20"),ur(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let _={get action(){return u},get location(){return e(i,o)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(m2,v),f=A,()=>{i.removeEventListener(m2,v),f=null}},createHref(A){return t(i,A)},createURL:E,encodeLocation(A){let N=E(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:S,go(A){return o.go(A)}};return _}var v2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(v2||(v2={}));function Yj(e,t,r){return r===void 0&&(r="/"),Zj(e,t,r)}function Zj(e,t,r,n){let i=typeof t=="string"?Yl(t):t,s=wx(i.pathname||"/",r);if(s==null)return null;let o=Y3(e);Qj(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=uR(s);u=oR(o[f],d)}return u}function Y3(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};f.relativePath.startsWith("/")&&(ur(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let d=Ks([n,f.relativePath]),g=r.concat(f);s.children&&s.children.length>0&&(ur(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Y3(s.children,t,g,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:sR(d,s.index),routesMeta:g})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let f of Z3(s.path))i(s,o,f)}),t}function Z3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Z3(n.join("/")),u=[];return u.push(...o.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...o),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function Qj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:aR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Jj=/^:[\w-]+$/,eR=3,tR=2,rR=1,nR=10,iR=-2,x2=e=>e==="*";function sR(e,t){let r=e.split("/"),n=r.length;return r.some(x2)&&(n+=iR),t&&(n+=tR),r.filter(i=>!x2(i)).reduce((i,s)=>i+(Jj.test(s)?eR:s===""?rR:nR),n)}function aR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function oR(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let u=0;u<n.length;++u){let f=n[u],d=u===n.length-1,g=s==="/"?t:t.slice(s.length)||"/",v=lR({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),w=f.route;if(!v)return null;Object.assign(i,v.params),o.push({params:i,pathname:Ks([s,v.pathname]),pathnameBase:gR(Ks([s,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(s=Ks([s,v.pathnameBase]))}return o}function lR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cR(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((d,g,v)=>{let{paramName:w,isOptional:S}=g;if(w==="*"){let _=u[v]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const E=u[v];return S&&!E?d[w]=void 0:d[w]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function cR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function uR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const fR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dR=e=>fR.test(e);function hR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Yl(e):e,s;if(r)if(dR(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),xx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=w2(r.substring(1),"/"):s=w2(r,t)}else s=t;return{pathname:s,search:mR(n),hash:yR(i)}}function w2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function q1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bx(e,t){let r=pR(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sx(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Yl(e):(i=Pu({},e),ur(!i.pathname||!i.pathname.includes("?"),q1("?","pathname","search",i)),ur(!i.pathname||!i.pathname.includes("#"),q1("#","pathname","hash",i)),ur(!i.search||!i.search.includes("#"),q1("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=r;else{let v=t.length-1;if(!n&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}u=v>=0?t[v]:"/"}let f=hR(i,u),d=o&&o!=="/"&&o.endsWith("/"),g=(s||o===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}const Ks=e=>e.join("/").replace(/\/\/+/g,"/"),gR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Q3=["post","put","patch","delete"];new Set(Q3);const xR=["get",...Q3];new Set(xR);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}const Ex=B.createContext(null),wR=B.createContext(null),ra=B.createContext(null),ep=B.createContext(null),Hi=B.createContext({outlet:null,matches:[],isDataRoute:!1}),J3=B.createContext(null);function bR(e,t){let{relative:r}=t===void 0?{}:t;Zl()||ur(!1);let{basename:n,navigator:i}=B.useContext(ra),{hash:s,pathname:o,search:u}=tT(e,{relative:r}),f=o;return n!=="/"&&(f=o==="/"?n:Ks([n,o])),i.createHref({pathname:f,search:u,hash:s})}function Zl(){return B.useContext(ep)!=null}function io(){return Zl()||ur(!1),B.useContext(ep).location}function eT(e){B.useContext(ra).static||B.useLayoutEffect(e)}function wn(){let{isDataRoute:e}=B.useContext(Hi);return e?DR():SR()}function SR(){Zl()||ur(!1);let e=B.useContext(Ex),{basename:t,future:r,navigator:n}=B.useContext(ra),{matches:i}=B.useContext(Hi),{pathname:s}=io(),o=JSON.stringify(bx(i,r.v7_relativeSplatPath)),u=B.useRef(!1);return eT(()=>{u.current=!0}),B.useCallback(function(d,g){if(g===void 0&&(g={}),!u.current)return;if(typeof d=="number"){n.go(d);return}let v=Sx(d,JSON.parse(o),s,g.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ks([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,o,s,e])}const ER=B.createContext(null);function AR(e){let t=B.useContext(Hi).outlet;return t&&B.createElement(ER.Provider,{value:e},t)}function tp(){let{matches:e}=B.useContext(Hi),t=e[e.length-1];return t?t.params:{}}function tT(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=B.useContext(ra),{matches:i}=B.useContext(Hi),{pathname:s}=io(),o=JSON.stringify(bx(i,n.v7_relativeSplatPath));return B.useMemo(()=>Sx(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function _R(e,t){return CR(e,t)}function CR(e,t,r,n){Zl()||ur(!1);let{navigator:i}=B.useContext(ra),{matches:s}=B.useContext(Hi),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let f=o?o.pathnameBase:"/";o&&o.route;let d=io(),g;if(t){var v;let A=typeof t=="string"?Yl(t):t;f==="/"||(v=A.pathname)!=null&&v.startsWith(f)||ur(!1),g=A}else g=d;let w=g.pathname||"/",S=w;if(f!=="/"){let A=f.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=Yj(e,{pathname:S}),_=PR(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Ks([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Ks([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,r,n);return t&&_?B.createElement(ep.Provider,{value:{location:ku({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Bs.Pop}},_):_}function OR(){let e=MR(),t=vR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:i},r):null,null)}const TR=B.createElement(OR,null);class NR extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?B.createElement(Hi.Provider,{value:this.props.routeContext},B.createElement(J3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IR(e){let{routeContext:t,match:r,children:n}=e,i=B.useContext(Ex);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(Hi.Provider,{value:t},n)}function PR(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);g>=0||ur(!1),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:w,errors:S}=r,E=v.route.loader&&w[v.route.id]===void 0&&(!S||S[v.route.id]===void 0);if(v.route.lazy||E){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,v,w)=>{let S,E=!1,_=null,A=null;r&&(S=u&&v.route.id?u[v.route.id]:void 0,_=v.route.errorElement||TR,f&&(d<0&&w===0?(LR("route-fallback"),E=!0,A=null):d===w&&(E=!0,A=v.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,w+1)),C=()=>{let T;return S?T=_:E?T=A:v.route.Component?T=B.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=g,B.createElement(IR,{match:v,routeContext:{outlet:g,matches:N,isDataRoute:r!=null},children:T})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?B.createElement(NR,{location:r.location,revalidation:r.revalidation,component:_,error:S,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var rT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rT||{}),nT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nT||{});function kR(e){let t=B.useContext(Ex);return t||ur(!1),t}function jR(e){let t=B.useContext(wR);return t||ur(!1),t}function RR(e){let t=B.useContext(Hi);return t||ur(!1),t}function iT(e){let t=RR(),r=t.matches[t.matches.length-1];return r.route.id||ur(!1),r.route.id}function MR(){var e;let t=B.useContext(J3),r=jR(),n=iT();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function DR(){let{router:e}=kR(rT.UseNavigateStable),t=iT(nT.UseNavigateStable),r=B.useRef(!1);return eT(()=>{r.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ku({fromRouteId:t},s)))},[e,t])}const b2={};function LR(e,t,r){b2[e]||(b2[e]=!0)}function BR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bo(e){let{to:t,replace:r,state:n,relative:i}=e;Zl()||ur(!1);let{future:s,static:o}=B.useContext(ra),{matches:u}=B.useContext(Hi),{pathname:f}=io(),d=wn(),g=Sx(t,bx(u,s.v7_relativeSplatPath),f,i==="path"),v=JSON.stringify(g);return B.useEffect(()=>d(JSON.parse(v),{replace:r,state:n,relative:i}),[d,v,i,r,n]),null}function $R(e){return AR(e.context)}function vr(e){ur(!1)}function FR(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Bs.Pop,navigator:s,static:o=!1,future:u}=e;Zl()&&ur(!1);let f=t.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:f,navigator:s,static:o,future:ku({v7_relativeSplatPath:!1},u)}),[f,u,s,o]);typeof n=="string"&&(n=Yl(n));let{pathname:g="/",search:v="",hash:w="",state:S=null,key:E="default"}=n,_=B.useMemo(()=>{let A=wx(g,f);return A==null?null:{location:{pathname:A,search:v,hash:w,state:S,key:E},navigationType:i}},[f,g,v,w,S,E,i]);return _==null?null:B.createElement(ra.Provider,{value:d},B.createElement(ep.Provider,{children:r,value:_}))}function UR(e){let{children:t,location:r}=e;return _R(Pm(t),r)}new Promise(()=>{});function Pm(e,t){t===void 0&&(t=[]);let r=[];return B.Children.forEach(e,(n,i)=>{if(!B.isValidElement(n))return;let s=[...t,i];if(n.type===B.Fragment){r.push.apply(r,Pm(n.props.children,s));return}n.type!==vr&&ur(!1),!n.props.index||!n.props.children||ur(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Pm(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}function zR(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function HR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WR(e,t){return e.button===0&&(!t||t==="_self")&&!HR(e)}function jm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function VR(e,t){let r=jm(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const GR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qR="6";try{window.__reactRouterVersion=qR}catch{}const KR="startTransition",S2=Mk[KR];function XR(e){let{basename:t,children:r,future:n,window:i}=e,s=B.useRef();s.current==null&&(s.current=qj({window:i,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},g=B.useCallback(v=>{d&&S2?S2(()=>f(v)):f(v)},[f,d]);return B.useLayoutEffect(()=>o.listen(g),[o,g]),B.useEffect(()=>BR(n),[n]),B.createElement(FR,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:o,future:n})}const YR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xl=B.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:u,target:f,to:d,preventScrollReset:g,viewTransition:v}=t,w=zR(t,GR),{basename:S}=B.useContext(ra),E,_=!1;if(typeof d=="string"&&ZR.test(d)&&(E=d,YR))try{let T=new URL(window.location.href),I=d.startsWith("//")?new URL(T.protocol+d):new URL(d),P=wx(I.pathname,S);I.origin===T.origin&&P!=null?d=P+I.search+I.hash:_=!0}catch{}let A=bR(d,{relative:i}),N=QR(d,{replace:o,state:u,target:f,preventScrollReset:g,relative:i,viewTransition:v});function C(T){n&&n(T),T.defaultPrevented||N(T)}return B.createElement("a",km({},w,{href:E||A,onClick:_||s?n:C,ref:r,target:f}))});var E2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(E2||(E2={}));var A2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(A2||(A2={}));function QR(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u}=t===void 0?{}:t,f=wn(),d=io(),g=tT(e,{relative:o});return B.useCallback(v=>{if(WR(v,r)){v.preventDefault();let w=n!==void 0?n:Oh(d)===Oh(g);f(e,{replace:w,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[d,f,g,n,i,r,e,s,o,u])}function sT(e){let t=B.useRef(jm(e)),r=B.useRef(!1),n=io(),i=B.useMemo(()=>VR(n.search,r.current?null:t.current),[n.search]),s=wn(),o=B.useCallback((u,f)=>{const d=jm(typeof u=="function"?u(i):u);r.current=!0,s("?"+d,f)},[s,i]);return[i,o]}const JR={},_2=e=>{let t;const r=new Set,n=(g,v)=>{const w=typeof g=="function"?g(t):g;if(!Object.is(w,t)){const S=t;t=v??(typeof w!="object"||w===null)?w:Object.assign({},t,w),r.forEach(E=>E(t,S))}},i=()=>t,f={setState:n,getState:i,getInitialState:()=>d,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(JR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,i,f);return f},e6=e=>e?_2(e):_2;var aT={exports:{}},oT={},lT={exports:{}},cT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=B;function t6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var r6=typeof Object.is=="function"?Object.is:t6,n6=wl.useState,i6=wl.useEffect,s6=wl.useLayoutEffect,a6=wl.useDebugValue;function o6(e,t){var r=t(),n=n6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return s6(function(){i.value=r,i.getSnapshot=t,K1(i)&&s({inst:i})},[e,r,t]),i6(function(){return K1(i)&&s({inst:i}),e(function(){K1(i)&&s({inst:i})})},[e]),a6(r),r}function K1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!r6(e,r)}catch{return!0}}function l6(e,t){return t()}var c6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l6:o6;cT.useSyncExternalStore=wl.useSyncExternalStore!==void 0?wl.useSyncExternalStore:c6;lT.exports=cT;var u6=lT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=B,f6=u6;function d6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var h6=typeof Object.is=="function"?Object.is:d6,p6=f6.useSyncExternalStore,g6=rp.useRef,m6=rp.useEffect,y6=rp.useMemo,v6=rp.useDebugValue;oT.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=g6(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=y6(function(){function f(S){if(!d){if(d=!0,g=S,S=n(S),i!==void 0&&o.hasValue){var E=o.value;if(i(E,S))return v=E}return v=S}if(E=v,h6(g,S))return E;var _=n(S);return i!==void 0&&i(E,_)?(g=S,E):(g=S,v=_)}var d=!1,g,v,w=r===void 0?null:r;return[function(){return f(t())},w===null?void 0:function(){return f(w())}]},[t,r,n,i]);var u=p6(e,s[0],s[1]);return m6(function(){o.hasValue=!0,o.value=u},[u]),v6(u),u};aT.exports=oT;var x6=aT.exports;const w6=Pt(x6),uT={},{useDebugValue:b6}=X,{useSyncExternalStoreWithSelector:S6}=w6;let C2=!1;const E6=e=>e;function A6(e,t=E6,r){(uT?"production":void 0)!=="production"&&r&&!C2&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),C2=!0);const n=S6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return b6(n),n}const O2=e=>{(uT?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?e6(e):e,r=(n,i)=>A6(t,n,i);return Object.assign(r,t),r},np=e=>e?O2(e):O2,_6={};function C6(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const o=f=>f===null?null:JSON.parse(f,void 0),u=(s=r.getItem(i))!=null?s:null;return u instanceof Promise?u.then(o):o(u)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const ju=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return ju(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return ju(n)(r)}}}},O6=(e,t)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:A=>A,version:0,merge:(A,N)=>({...N,...A}),...t},o=!1;const u=new Set,f=new Set;let d;try{d=s.getStorage()}catch{}if(!d)return e((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...A)},n,i);const g=ju(s.serialize),v=()=>{const A=s.partialize({...n()});let N;const C=g({state:A,version:s.version}).then(T=>d.setItem(s.name,T)).catch(T=>{N=T});if(N)throw N;return C},w=i.setState;i.setState=(A,N)=>{w(A,N),v()};const S=e((...A)=>{r(...A),v()},n,i);let E;const _=()=>{var A;if(!d)return;o=!1,u.forEach(C=>C(n()));const N=((A=s.onRehydrateStorage)==null?void 0:A.call(s,n()))||void 0;return ju(d.getItem.bind(d))(s.name).then(C=>{if(C)return s.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return s.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var T;return E=s.merge(C,(T=n())!=null?T:S),r(E,!0),v()}).then(()=>{N==null||N(E,void 0),o=!0,f.forEach(C=>C(E))}).catch(C=>{N==null||N(void 0,C)})};return i.persist={setOptions:A=>{s={...s,...A},A.getStorage&&(d=A.getStorage())},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:A=>(u.add(A),()=>{u.delete(A)}),onFinishHydration:A=>(f.add(A),()=>{f.delete(A)})},_(),E||S},T6=(e,t)=>(r,n,i)=>{let s={storage:C6(()=>localStorage),partialize:_=>_,version:0,merge:(_,A)=>({...A,..._}),...t},o=!1;const u=new Set,f=new Set;let d=s.storage;if(!d)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(..._)},n,i);const g=()=>{const _=s.partialize({...n()});return d.setItem(s.name,{state:_,version:s.version})},v=i.setState;i.setState=(_,A)=>{v(_,A),g()};const w=e((..._)=>{r(..._),g()},n,i);i.getInitialState=()=>w;let S;const E=()=>{var _,A;if(!d)return;o=!1,u.forEach(C=>{var T;return C((T=n())!=null?T:w)});const N=((A=s.onRehydrateStorage)==null?void 0:A.call(s,(_=n())!=null?_:w))||void 0;return ju(d.getItem.bind(d))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return[!0,s.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var T;const[I,P]=C;if(S=s.merge(P,(T=n())!=null?T:w),r(S,!0),I)return g()}).then(()=>{N==null||N(S,void 0),S=n(),o=!0,f.forEach(C=>C(S))}).catch(C=>{N==null||N(void 0,C)})};return i.persist={setOptions:_=>{s={...s,..._},_.storage&&(d=_.storage)},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>E(),hasHydrated:()=>o,onHydrate:_=>(u.add(_),()=>{u.delete(_)}),onFinishHydration:_=>(f.add(_),()=>{f.delete(_)})},s.skipHydration||E(),S||w},N6=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((_6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),O6(e,t)):T6(e,t),Ax=N6;/*! Capacitor: https://capacitorjs.com/ - MIT License */const I6=e=>{const t=new Map;t.set("web",{name:"web"});const r=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},n=(s,o)=>{r.platforms.set(s,o)},i=s=>{r.platforms.has(s)&&(r.currentPlatform=r.platforms.get(s))};return r.addPlatform=n,r.setPlatform=i,r},P6=e=>e.CapacitorPlatforms=I6(e),fT=P6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});fT.addPlatform;fT.setPlatform;var bl;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(bl||(bl={}));class X1 extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const k6=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},j6=e=>{var t,r,n,i,s;const o=e.CapacitorCustomPlatform||null,u=e.Capacitor||{},f=u.Plugins=u.Plugins||{},d=e.CapacitorPlatforms,g=()=>o!==null?o.name:k6(e),v=((t=d==null?void 0:d.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||g,w=()=>v()!=="web",S=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||w,E=R=>{const F=I.get(R);return!!(F!=null&&F.platforms.has(v())||N(R))},_=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||E,A=R=>{var F;return(F=u.PluginHeaders)===null||F===void 0?void 0:F.find(L=>L.name===R)},N=((i=d==null?void 0:d.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||A,C=R=>e.console.error(R),T=(R,F,L)=>Promise.reject(`${L} does not have an implementation of "${F}".`),I=new Map,P=(R,F={})=>{const L=I.get(R);if(L)return console.warn(`Capacitor plugin "${R}" already registered. Cannot register plugins twice.`),L.proxy;const K=v(),V=N(R);let U;const J=async()=>(!U&&K in F?U=typeof F[K]=="function"?U=await F[K]():U=F[K]:o!==null&&!U&&"web"in F&&(U=typeof F.web=="function"?U=await F.web():U=F.web),U),Q=(ne,de)=>{var le,Se;if(V){const Te=V==null?void 0:V.methods.find(qe=>de===qe.name);if(Te)return Te.rtype==="promise"?qe=>u.nativePromise(R,de.toString(),qe):(qe,we)=>u.nativeCallback(R,de.toString(),qe,we);if(ne)return(le=ne[de])===null||le===void 0?void 0:le.bind(ne)}else{if(ne)return(Se=ne[de])===null||Se===void 0?void 0:Se.bind(ne);throw new X1(`"${R}" plugin is not implemented on ${K}`,bl.Unimplemented)}},H=ne=>{let de;const le=(...Se)=>{const Te=J().then(qe=>{const we=Q(qe,ne);if(we){const Ot=we(...Se);return de=Ot==null?void 0:Ot.remove,Ot}else throw new X1(`"${R}.${ne}()" is not implemented on ${K}`,bl.Unimplemented)});return ne==="addListener"&&(Te.remove=async()=>de()),Te};return le.toString=()=>`${ne.toString()}() { [capacitor code] }`,Object.defineProperty(le,"name",{value:ne,writable:!1,configurable:!1}),le},ee=H("addListener"),Z=H("removeListener"),Y=(ne,de)=>{const le=ee({eventName:ne},de),Se=async()=>{const qe=await le;Z({eventName:ne,callbackId:qe},de)},Te=new Promise(qe=>le.then(()=>qe({remove:Se})));return Te.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Se()},Te},ae=new Proxy({},{get(ne,de){switch(de){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return V?Y:ee;case"removeListener":return Z;default:return H(de)}}});return f[R]=ae,I.set(R,{name:R,proxy:ae,platforms:new Set([...Object.keys(F),...V?[K]:[]])}),ae},k=((s=d==null?void 0:d.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||P;return u.convertFileSrc||(u.convertFileSrc=R=>R),u.getPlatform=v,u.handleError=C,u.isNativePlatform=S,u.isPluginAvailable=_,u.pluginMethodNoop=T,u.registerPlugin=k,u.Exception=X1,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},R6=e=>e.Capacitor=j6(e),$t=R6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ri=$t.registerPlugin;$t.Plugins;class dT{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i);const s=async()=>this.removeListener(t,r),o=Promise.resolve({remove:s});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),o}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r){const n=this.listeners[t];n&&n.forEach(i=>i(r))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new $t.Exception(t,bl.Unimplemented)}unavailable(t="not available"){return new $t.Exception(t,bl.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const i=n.indexOf(r);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const T2=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),N2=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class M6 extends dT{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[i,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=N2(i).trim(),s=N2(s).trim(),r[i]=s}),r}async setCookie(t){try{const r=T2(t.key),n=T2(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,s=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${s}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}ri("CapacitorCookies",{web:()=>new M6});const D6=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(e)}),L6=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,s,o)=>(i[s]=e[t[o]],i),{})},B6=(e,t=!0)=>e?Object.entries(e).reduce((n,i)=>{const[s,o]=i;let u,f;return Array.isArray(o)?(f="",o.forEach(d=>{u=t?encodeURIComponent(d):d,f+=`${s}=${u}&`}),f.slice(0,-1)):(u=t?encodeURIComponent(o):o,f=`${s}=${u}`),`${n}&${f}`},"").substr(1):null,$6=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),i=L6(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,u]of Object.entries(e.data||{}))s.set(o,u);r.body=s.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const s=new FormData;if(e.data instanceof FormData)e.data.forEach((u,f)=>{s.append(f,u)});else for(const u of Object.keys(e.data))s.append(u,e.data[u]);r.body=s;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(i.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class F6 extends dT{async request(t){const r=$6(t,t.webFetchExtra),n=B6(t.params,t.shouldEncodeUrlParams),i=n?`${t.url}?${n}`:t.url,s=await fetch(i,r),o=s.headers.get("content-type")||"";let{responseType:u="text"}=s.ok?t:{};o.includes("application/json")&&(u="json");let f,d;switch(u){case"arraybuffer":case"blob":d=await s.blob(),f=await D6(d);break;case"json":f=await s.json();break;case"document":case"text":default:f=await s.text()}const g={};return s.headers.forEach((v,w)=>{g[w]=v}),{data:f,headers:g,status:s.status,url:s.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}ri("CapacitorHttp",{web:()=>new F6});const So=ri("PushNotifications",{});function hT(e,t){return function(){return e.apply(t,arguments)}}const{toString:U6}=Object.prototype,{getPrototypeOf:_x}=Object,{iterator:ip,toStringTag:pT}=Symbol,sp=(e=>t=>{const r=U6.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ei=e=>(e=e.toLowerCase(),t=>sp(t)===e),ap=e=>t=>typeof t===e,{isArray:Ql}=Array,Sl=ap("undefined");function Nf(e){return e!==null&&!Sl(e)&&e.constructor!==null&&!Sl(e.constructor)&&yn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gT=Ei("ArrayBuffer");function z6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gT(e.buffer),t}const H6=ap("string"),yn=ap("function"),mT=ap("number"),If=e=>e!==null&&typeof e=="object",W6=e=>e===!0||e===!1,Jd=e=>{if(sp(e)!=="object")return!1;const t=_x(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pT in e)&&!(ip in e)},V6=e=>{if(!If(e)||Nf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},G6=Ei("Date"),q6=Ei("File"),K6=Ei("Blob"),X6=Ei("FileList"),Y6=e=>If(e)&&yn(e.pipe),Z6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yn(e.append)&&((t=sp(e))==="formdata"||t==="object"&&yn(e.toString)&&e.toString()==="[object FormData]"))},Q6=Ei("URLSearchParams"),[J6,eM,tM,rM]=["ReadableStream","Request","Response","Headers"].map(Ei),nM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pf(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Ql(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Nf(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let u;for(n=0;n<o;n++)u=s[n],t.call(null,e[u],u,e)}}function yT(e,t){if(Nf(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vT=e=>!Sl(e)&&e!==Ia;function Rm(){const{caseless:e,skipUndefined:t}=vT(this)&&this||{},r={},n=(i,s)=>{const o=e&&yT(r,s)||s;Jd(r[o])&&Jd(i)?r[o]=Rm(r[o],i):Jd(i)?r[o]=Rm({},i):Ql(i)?r[o]=i.slice():(!t||!Sl(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Pf(arguments[i],n);return r}const iM=(e,t,r,{allOwnKeys:n}={})=>(Pf(t,(i,s)=>{r&&yn(i)?e[s]=hT(i,r):e[s]=i},{allOwnKeys:n}),e),sM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),aM=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},oM=(e,t,r,n)=>{let i,s,o;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!u[o]&&(t[o]=e[o],u[o]=!0);e=r!==!1&&_x(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},lM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},cM=e=>{if(!e)return null;if(Ql(e))return e;let t=e.length;if(!mT(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},uM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&_x(Uint8Array)),fM=(e,t)=>{const n=(e&&e[ip]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},dM=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},hM=Ei("HTMLFormElement"),pM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),I2=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),gM=Ei("RegExp"),xT=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Pf(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},mM=e=>{xT(e,(t,r)=>{if(yn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(yn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yM=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Ql(e)?n(e):n(String(e).split(t)),r},vM=()=>{},xM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wM(e){return!!(e&&yn(e.append)&&e[pT]==="FormData"&&e[ip])}const bM=e=>{const t=new Array(10),r=(n,i)=>{if(If(n)){if(t.indexOf(n)>=0)return;if(Nf(n))return n;if(!("toJSON"in n)){t[i]=n;const s=Ql(n)?[]:{};return Pf(n,(o,u)=>{const f=r(o,i+1);!Sl(f)&&(s[u]=f)}),t[i]=void 0,s}}return n};return r(e,0)},SM=Ei("AsyncFunction"),EM=e=>e&&(If(e)||yn(e))&&yn(e.then)&&yn(e.catch),wT=((e,t)=>e?setImmediate:t?((r,n)=>(Ia.addEventListener("message",({source:i,data:s})=>{i===Ia&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ia.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",yn(Ia.postMessage)),AM=typeof queueMicrotask<"u"?queueMicrotask.bind(Ia):typeof process<"u"&&process.nextTick||wT,_M=e=>e!=null&&yn(e[ip]),se={isArray:Ql,isArrayBuffer:gT,isBuffer:Nf,isFormData:Z6,isArrayBufferView:z6,isString:H6,isNumber:mT,isBoolean:W6,isObject:If,isPlainObject:Jd,isEmptyObject:V6,isReadableStream:J6,isRequest:eM,isResponse:tM,isHeaders:rM,isUndefined:Sl,isDate:G6,isFile:q6,isBlob:K6,isRegExp:gM,isFunction:yn,isStream:Y6,isURLSearchParams:Q6,isTypedArray:uM,isFileList:X6,forEach:Pf,merge:Rm,extend:iM,trim:nM,stripBOM:sM,inherits:aM,toFlatObject:oM,kindOf:sp,kindOfTest:Ei,endsWith:lM,toArray:cM,forEachEntry:fM,matchAll:dM,isHTMLForm:hM,hasOwnProperty:I2,hasOwnProp:I2,reduceDescriptors:xT,freezeMethods:mM,toObjectSet:yM,toCamelCase:pM,noop:vM,toFiniteNumber:xM,findKey:yT,global:Ia,isContextDefined:vT,isSpecCompliantForm:wM,toJSONObject:bM,isAsyncFn:SM,isThenable:EM,setImmediate:wT,asap:AM,isIterable:_M};function Ze(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const bT=Ze.prototype,ST={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ST[e]={value:e}});Object.defineProperties(Ze,ST);Object.defineProperty(bT,"isAxiosError",{value:!0});Ze.from=(e,t,r,n,i,s)=>{const o=Object.create(bT);se.toFlatObject(e,o,function(g){return g!==Error.prototype},d=>d!=="isAxiosError");const u=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return Ze.call(o,u,f,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const CM=null;function Mm(e){return se.isPlainObject(e)||se.isArray(e)}function ET(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function P2(e,t,r){return e?e.concat(t).map(function(i,s){return i=ET(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function OM(e){return se.isArray(e)&&!e.some(Mm)}const TM=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function op(e,t,r){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!se.isUndefined(A[_])});const n=r.metaTokens,i=r.visitor||g,s=r.dots,o=r.indexes,f=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function d(E){if(E===null)return"";if(se.isDate(E))return E.toISOString();if(se.isBoolean(E))return E.toString();if(!f&&se.isBlob(E))throw new Ze("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(E)||se.isTypedArray(E)?f&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function g(E,_,A){let N=E;if(E&&!A&&typeof E=="object"){if(se.endsWith(_,"{}"))_=n?_:_.slice(0,-2),E=JSON.stringify(E);else if(se.isArray(E)&&OM(E)||(se.isFileList(E)||se.endsWith(_,"[]"))&&(N=se.toArray(E)))return _=ET(_),N.forEach(function(T,I){!(se.isUndefined(T)||T===null)&&t.append(o===!0?P2([_],I,s):o===null?_:_+"[]",d(T))}),!1}return Mm(E)?!0:(t.append(P2(A,_,s),d(E)),!1)}const v=[],w=Object.assign(TM,{defaultVisitor:g,convertValue:d,isVisitable:Mm});function S(E,_){if(!se.isUndefined(E)){if(v.indexOf(E)!==-1)throw Error("Circular reference detected in "+_.join("."));v.push(E),se.forEach(E,function(N,C){(!(se.isUndefined(N)||N===null)&&i.call(t,N,se.isString(C)?C.trim():C,_,w))===!0&&S(N,_?_.concat(C):[C])}),v.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return S(e),t}function k2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Cx(e,t){this._pairs=[],e&&op(e,this,t)}const AT=Cx.prototype;AT.append=function(t,r){this._pairs.push([t,r])};AT.toString=function(t){const r=t?function(n){return t.call(this,n,k2)}:k2;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function NM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _T(e,t,r){if(!t)return e;const n=r&&r.encode||NM;se.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=se.isURLSearchParams(t)?t.toString():new Cx(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class j2{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(n){n!==null&&t(n)})}}const CT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IM=typeof URLSearchParams<"u"?URLSearchParams:Cx,PM=typeof FormData<"u"?FormData:null,kM=typeof Blob<"u"?Blob:null,jM={isBrowser:!0,classes:{URLSearchParams:IM,FormData:PM,Blob:kM},protocols:["http","https","file","blob","url","data"]},Ox=typeof window<"u"&&typeof document<"u",Dm=typeof navigator=="object"&&navigator||void 0,RM=Ox&&(!Dm||["ReactNative","NativeScript","NS"].indexOf(Dm.product)<0),MM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DM=Ox&&window.location.href||"http://localhost",LM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ox,hasStandardBrowserEnv:RM,hasStandardBrowserWebWorkerEnv:MM,navigator:Dm,origin:DM},Symbol.toStringTag,{value:"Module"})),Zr={...LM,...jM};function BM(e,t){return op(e,new Zr.classes.URLSearchParams,{visitor:function(r,n,i,s){return Zr.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function $M(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function FM(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function OT(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),f=s>=r.length;return o=!o&&se.isArray(i)?i.length:o,f?(se.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!u):((!i[o]||!se.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&se.isArray(i[o])&&(i[o]=FM(i[o])),!u)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(n,i)=>{t($M(n),i,r,0)}),r}return null}function UM(e,t,r){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const kf={transitional:CT,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=se.isObject(t);if(s&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return i?JSON.stringify(OT(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return BM(t,this.formSerializer).toString();if((u=se.isFileList(t))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return op(u?{"files[]":t}:t,f&&new f,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),UM(t)):t}],transformResponse:[function(t){const r=this.transitional||kf.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(o)throw u.name==="SyntaxError"?Ze.from(u,Ze.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{kf.headers[e]={}});const zM=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HM=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&zM[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},R2=Symbol("internals");function kc(e){return e&&String(e).trim().toLowerCase()}function eh(e){return e===!1||e==null?e:se.isArray(e)?e.map(eh):String(e)}function WM(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const VM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Y1(e,t,r,n,i){if(se.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!se.isString(t)){if(se.isString(n))return t.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(t)}}function GM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function qM(e,t){const r=se.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}let vn=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(u,f,d){const g=kc(f);if(!g)throw new Error("header name must be a non-empty string");const v=se.findKey(i,g);(!v||i[v]===void 0||d===!0||d===void 0&&i[v]!==!1)&&(i[v||f]=eh(u))}const o=(u,f)=>se.forEach(u,(d,g)=>s(d,g,f));if(se.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(se.isString(t)&&(t=t.trim())&&!VM(t))o(HM(t),r);else if(se.isObject(t)&&se.isIterable(t)){let u={},f,d;for(const g of t){if(!se.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[d=g[0]]=(f=u[d])?se.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}o(u,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=kc(t),t){const n=se.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return WM(i);if(se.isFunction(r))return r.call(this,i,n);if(se.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=kc(t),t){const n=se.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Y1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=kc(o),o){const u=se.findKey(n,o);u&&(!r||Y1(n,n[u],u,r))&&(delete n[u],i=!0)}}return se.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||Y1(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return se.forEach(this,(i,s)=>{const o=se.findKey(n,s);if(o){r[o]=eh(i),delete r[s];return}const u=t?GM(s):String(s).trim();u!==s&&delete r[s],r[u]=eh(i),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return se.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[R2]=this[R2]={accessors:{}}).accessors,i=this.prototype;function s(o){const u=kc(o);n[u]||(qM(i,o),n[u]=!0)}return se.isArray(t)?t.forEach(s):s(t),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(vn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});se.freezeMethods(vn);function Z1(e,t){const r=this||kf,n=t||r,i=vn.from(n.headers);let s=n.data;return se.forEach(e,function(u){s=u.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function TT(e){return!!(e&&e.__CANCEL__)}function Jl(e,t,r){Ze.call(this,e??"canceled",Ze.ERR_CANCELED,t,r),this.name="CanceledError"}se.inherits(Jl,Ze,{__CANCEL__:!0});function NT(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ze("Request failed with status code "+r.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function KM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function XM(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(f){const d=Date.now(),g=n[s];o||(o=d),r[i]=f,n[i]=d;let v=s,w=0;for(;v!==i;)w+=r[v++],v=v%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),d-o<t)return;const S=g&&d-g;return S?Math.round(w*1e3/S):void 0}}function YM(e,t){let r=0,n=1e3/t,i,s;const o=(d,g=Date.now())=>{r=g,i=null,s&&(clearTimeout(s),s=null),e(...d)};return[(...d)=>{const g=Date.now(),v=g-r;v>=n?o(d,g):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},n-v)))},()=>i&&o(i)]}const Th=(e,t,r=3)=>{let n=0;const i=XM(50,250);return YM(s=>{const o=s.loaded,u=s.lengthComputable?s.total:void 0,f=o-n,d=i(f),g=o<=u;n=o;const v={loaded:o,total:u,progress:u?o/u:void 0,bytes:f,rate:d||void 0,estimated:d&&u&&g?(u-o)/d:void 0,event:s,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(v)},r)},M2=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},D2=e=>(...t)=>se.asap(()=>e(...t)),ZM=Zr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Zr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Zr.origin),Zr.navigator&&/(msie|trident)/i.test(Zr.navigator.userAgent)):()=>!0,QM=Zr.hasStandardBrowserEnv?{write(e,t,r,n,i,s,o){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];se.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),se.isString(n)&&u.push(`path=${n}`),se.isString(i)&&u.push(`domain=${i}`),s===!0&&u.push("secure"),se.isString(o)&&u.push(`SameSite=${o}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function JM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function eD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function IT(e,t,r){let n=!JM(t);return e&&(n||r==!1)?eD(e,t):t}const L2=e=>e instanceof vn?{...e}:e;function qa(e,t){t=t||{};const r={};function n(d,g,v,w){return se.isPlainObject(d)&&se.isPlainObject(g)?se.merge.call({caseless:w},d,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(d,g,v,w){if(se.isUndefined(g)){if(!se.isUndefined(d))return n(void 0,d,v,w)}else return n(d,g,v,w)}function s(d,g){if(!se.isUndefined(g))return n(void 0,g)}function o(d,g){if(se.isUndefined(g)){if(!se.isUndefined(d))return n(void 0,d)}else return n(void 0,g)}function u(d,g,v){if(v in t)return n(d,g);if(v in e)return n(void 0,d)}const f={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(d,g,v)=>i(L2(d),L2(g),v,!0)};return se.forEach(Object.keys({...e,...t}),function(g){const v=f[g]||i,w=v(e[g],t[g],g);se.isUndefined(w)&&v!==u||(r[g]=w)}),r}const PT=e=>{const t=qa({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:u}=t;if(t.headers=o=vn.from(o),t.url=_T(IT(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&o.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),se.isFormData(r)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(se.isFunction(r.getHeaders)){const f=r.getHeaders(),d=["content-type","content-length"];Object.entries(f).forEach(([g,v])=>{d.includes(g.toLowerCase())&&o.set(g,v)})}}if(Zr.hasStandardBrowserEnv&&(n&&se.isFunction(n)&&(n=n(t)),n||n!==!1&&ZM(t.url))){const f=i&&s&&QM.read(s);f&&o.set(i,f)}return t},tD=typeof XMLHttpRequest<"u",rD=tD&&function(e){return new Promise(function(r,n){const i=PT(e);let s=i.data;const o=vn.from(i.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:d}=i,g,v,w,S,E;function _(){S&&S(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function N(){if(!A)return;const T=vn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),P={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:T,config:e,request:A};NT(function(R){r(R),_()},function(R){n(R),_()},P),A=null}"onloadend"in A?A.onloadend=N:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(N)},A.onabort=function(){A&&(n(new Ze("Request aborted",Ze.ECONNABORTED,e,A)),A=null)},A.onerror=function(I){const P=I&&I.message?I.message:"Network Error",k=new Ze(P,Ze.ERR_NETWORK,e,A);k.event=I||null,n(k),A=null},A.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||CT;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),n(new Ze(I,P.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,e,A)),A=null},s===void 0&&o.setContentType(null),"setRequestHeader"in A&&se.forEach(o.toJSON(),function(I,P){A.setRequestHeader(P,I)}),se.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),u&&u!=="json"&&(A.responseType=i.responseType),d&&([w,E]=Th(d,!0),A.addEventListener("progress",w)),f&&A.upload&&([v,S]=Th(f),A.upload.addEventListener("progress",v),A.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(g=T=>{A&&(n(!T||T.type?new Jl(null,e,A):T),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const C=KM(i.url);if(C&&Zr.protocols.indexOf(C)===-1){n(new Ze("Unsupported protocol "+C+":",Ze.ERR_BAD_REQUEST,e));return}A.send(s||null)})},nD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(d){if(!i){i=!0,u();const g=d instanceof Error?d:this.reason;n.abort(g instanceof Ze?g:new Jl(g instanceof Error?g.message:g))}};let o=t&&setTimeout(()=>{o=null,s(new Ze(`timeout ${t} of ms exceeded`,Ze.ETIMEDOUT))},t);const u=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:f}=n;return f.unsubscribe=()=>se.asap(u),f}},iD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},sD=async function*(e,t){for await(const r of aD(e))yield*iD(r,t)},aD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},B2=(e,t,r,n)=>{const i=sD(e,t);let s=0,o,u=f=>{o||(o=!0,n&&n(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await i.next();if(d){u(),f.close();return}let v=g.byteLength;if(r){let w=s+=v;r(w)}f.enqueue(new Uint8Array(g))}catch(d){throw u(d),d}},cancel(f){return u(f),i.return()}},{highWaterMark:2})},$2=64*1024,{isFunction:yd}=se,oD=(({Request:e,Response:t})=>({Request:e,Response:t}))(se.global),{ReadableStream:F2,TextEncoder:U2}=se.global,z2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lD=e=>{e=se.merge.call({skipUndefined:!0},oD,e);const{fetch:t,Request:r,Response:n}=e,i=t?yd(t):typeof fetch=="function",s=yd(r),o=yd(n);if(!i)return!1;const u=i&&yd(F2),f=i&&(typeof U2=="function"?(E=>_=>E.encode(_))(new U2):async E=>new Uint8Array(await new r(E).arrayBuffer())),d=s&&u&&z2(()=>{let E=!1;const _=new r(Zr.origin,{body:new F2,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!_}),g=o&&u&&z2(()=>se.isReadableStream(new n("").body)),v={stream:g&&(E=>E.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!v[E]&&(v[E]=(_,A)=>{let N=_&&_[E];if(N)return N.call(_);throw new Ze(`Response type '${E}' is not supported`,Ze.ERR_NOT_SUPPORT,A)})});const w=async E=>{if(E==null)return 0;if(se.isBlob(E))return E.size;if(se.isSpecCompliantForm(E))return(await new r(Zr.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(se.isArrayBufferView(E)||se.isArrayBuffer(E))return E.byteLength;if(se.isURLSearchParams(E)&&(E=E+""),se.isString(E))return(await f(E)).byteLength},S=async(E,_)=>{const A=se.toFiniteNumber(E.getContentLength());return A??w(_)};return async E=>{let{url:_,method:A,data:N,signal:C,cancelToken:T,timeout:I,onDownloadProgress:P,onUploadProgress:k,responseType:R,headers:F,withCredentials:L="same-origin",fetchOptions:K}=PT(E),V=t||fetch;R=R?(R+"").toLowerCase():"text";let U=nD([C,T&&T.toAbortSignal()],I),J=null;const Q=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let H;try{if(k&&d&&A!=="get"&&A!=="head"&&(H=await S(F,N))!==0){let de=new r(_,{method:"POST",body:N,duplex:"half"}),le;if(se.isFormData(N)&&(le=de.headers.get("content-type"))&&F.setContentType(le),de.body){const[Se,Te]=M2(H,Th(D2(k)));N=B2(de.body,$2,Se,Te)}}se.isString(L)||(L=L?"include":"omit");const ee=s&&"credentials"in r.prototype,Z={...K,signal:U,method:A.toUpperCase(),headers:F.normalize().toJSON(),body:N,duplex:"half",credentials:ee?L:void 0};J=s&&new r(_,Z);let Y=await(s?V(J,K):V(_,Z));const ae=g&&(R==="stream"||R==="response");if(g&&(P||ae&&Q)){const de={};["status","statusText","headers"].forEach(qe=>{de[qe]=Y[qe]});const le=se.toFiniteNumber(Y.headers.get("content-length")),[Se,Te]=P&&M2(le,Th(D2(P),!0))||[];Y=new n(B2(Y.body,$2,Se,()=>{Te&&Te(),Q&&Q()}),de)}R=R||"text";let ne=await v[se.findKey(v,R)||"text"](Y,E);return!ae&&Q&&Q(),await new Promise((de,le)=>{NT(de,le,{data:ne,headers:vn.from(Y.headers),status:Y.status,statusText:Y.statusText,config:E,request:J})})}catch(ee){throw Q&&Q(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,E,J),{cause:ee.cause||ee}):Ze.from(ee,ee&&ee.code,E,J)}}},cD=new Map,kT=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,s=[n,i,r];let o=s.length,u=o,f,d,g=cD;for(;u--;)f=s[u],d=g.get(f),d===void 0&&g.set(f,d=u?new Map:lD(t)),g=d;return d};kT();const Tx={http:CM,xhr:rD,fetch:{get:kT}};se.forEach(Tx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const H2=e=>`- ${e}`,uD=e=>se.isFunction(e)||e===null||e===!1;function fD(e,t){e=se.isArray(e)?e:[e];const{length:r}=e;let n,i;const s={};for(let o=0;o<r;o++){n=e[o];let u;if(i=n,!uD(n)&&(i=Tx[(u=String(n)).toLowerCase()],i===void 0))throw new Ze(`Unknown adapter '${u}'`);if(i&&(se.isFunction(i)||(i=i.get(t))))break;s[u||"#"+o]=i}if(!i){const o=Object.entries(s).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=r?o.length>1?`since :
`+o.map(H2).join(`
`):" "+H2(o[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const jT={getAdapter:fD,adapters:Tx};function Q1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jl(null,e)}function W2(e){return Q1(e),e.headers=vn.from(e.headers),e.data=Z1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jT.getAdapter(e.adapter||kf.adapter,e)(e).then(function(n){return Q1(e),n.data=Z1.call(e,e.transformResponse,n),n.headers=vn.from(n.headers),n},function(n){return TT(n)||(Q1(e),n&&n.response&&(n.response.data=Z1.call(e,e.transformResponse,n.response),n.response.headers=vn.from(n.response.headers))),Promise.reject(n)})}const RT="1.13.2",lp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const V2={};lp.transitional=function(t,r,n){function i(s,o){return"[Axios v"+RT+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,u)=>{if(t===!1)throw new Ze(i(o," has been removed"+(r?" in "+r:"")),Ze.ERR_DEPRECATED);return r&&!V2[o]&&(V2[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,u):!0}};lp.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function dD(e,t,r){if(typeof e!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const u=e[s],f=u===void 0||o(u,s,e);if(f!==!0)throw new Ze("option "+s+" must be "+f,Ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ze("Unknown option "+s,Ze.ERR_BAD_OPTION)}}const th={assertOptions:dD,validators:lp},ki=th.validators;let Ba=class{constructor(t){this.defaults=t||{},this.interceptors={request:new j2,response:new j2}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=qa(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&th.assertOptions(n,{silentJSONParsing:ki.transitional(ki.boolean),forcedJSONParsing:ki.transitional(ki.boolean),clarifyTimeoutError:ki.transitional(ki.boolean)},!1),i!=null&&(se.isFunction(i)?r.paramsSerializer={serialize:i}:th.assertOptions(i,{encode:ki.function,serialize:ki.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),th.assertOptions(r,{baseUrl:ki.spelling("baseURL"),withXsrfToken:ki.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&se.merge(s.common,s[r.method]);s&&se.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),r.headers=vn.concat(o,s);const u=[];let f=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(f=f&&_.synchronous,u.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let g,v=0,w;if(!f){const E=[W2.bind(this),void 0];for(E.unshift(...u),E.push(...d),w=E.length,g=Promise.resolve(r);v<w;)g=g.then(E[v++],E[v++]);return g}w=u.length;let S=r;for(;v<w;){const E=u[v++],_=u[v++];try{S=E(S)}catch(A){_.call(this,A);break}}try{g=W2.call(this,S)}catch(E){return Promise.reject(E)}for(v=0,w=d.length;v<w;)g=g.then(d[v++],d[v++]);return g}getUri(t){t=qa(this.defaults,t);const r=IT(t.baseURL,t.url,t.allowAbsoluteUrls);return _T(r,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){Ba.prototype[t]=function(r,n){return this.request(qa(n||{},{method:t,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,u){return this.request(qa(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ba.prototype[t]=r(),Ba.prototype[t+"Form"]=r(!0)});let hD=class MT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(u=>{n.subscribe(u),s=u}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,u){n.reason||(n.reason=new Jl(s,o,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new MT(function(i){t=i}),cancel:t}}};function pD(e){return function(r){return e.apply(null,r)}}function gD(e){return se.isObject(e)&&e.isAxiosError===!0}const Lm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Lm).forEach(([e,t])=>{Lm[t]=e});function DT(e){const t=new Ba(e),r=hT(Ba.prototype.request,t);return se.extend(r,Ba.prototype,t,{allOwnKeys:!0}),se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return DT(qa(e,i))},r}const er=DT(kf);er.Axios=Ba;er.CanceledError=Jl;er.CancelToken=hD;er.isCancel=TT;er.VERSION=RT;er.toFormData=op;er.AxiosError=Ze;er.Cancel=er.CanceledError;er.all=function(t){return Promise.all(t)};er.spread=pD;er.isAxiosError=gD;er.mergeConfig=qa;er.AxiosHeaders=vn;er.formToJSON=e=>OT(se.isHTMLForm(e)?new FormData(e):e);er.getAdapter=jT.getAdapter;er.HttpStatusCode=Lm;er.default=er;const{Axios:Mfe,AxiosError:Dfe,CanceledError:Lfe,isCancel:Bfe,CancelToken:$fe,VERSION:Ffe,all:Ufe,Cancel:zfe,isAxiosError:Hfe,spread:Wfe,toFormData:Vfe,AxiosHeaders:Gfe,HttpStatusCode:qfe,formToJSON:Kfe,getAdapter:Xfe,mergeConfig:Yfe}=er,mD="https://iaalearn-cloud.fly.dev".trim().replace(/\/$/,"");var LC;const yD=(((LC=$t.isNativePlatform)==null?void 0:LC.call($t))??!1)||$t.getPlatform()!=="web",vD="https://iaalearn-cloud.fly.dev",vd=mD||(yD?vD:""),xD=vd?vd.endsWith("/api")?vd:`${vd}/api`:"/api",ut=er.create({baseURL:xD,headers:{"Content-Type":"application/json"}});ut.interceptors.request.use(e=>{try{const t=localStorage.getItem("auth-storage");if(t){const{state:r}=JSON.parse(t);r!=null&&r.token&&(e.headers.Authorization=`Bearer ${r.token}`)}}catch{}return e},e=>Promise.reject(e));const sl={login:e=>ut.post("/auth/login",e),requestOtp:e=>ut.post("/auth/request-otp",e),verifyOtp:e=>ut.post("/auth/verify-otp",e),register:e=>ut.post("/auth/register",e),forgotPassword:e=>ut.post("/auth/forgot-password",e),resetPassword:e=>ut.post("/auth/reset-password",e),me:()=>ut.get("/auth/me")},Ui={getAll:()=>ut.get("/sessions"),create:e=>ut.post("/sessions",e),getOne:e=>ut.get(`/sessions/${e}`),end:e=>ut.delete(`/sessions/${e}`),generateTransferCode:e=>ut.post(`/sessions/${e}/transfer-code`),checkTransferStatus:e=>ut.get(`/sessions/transfer-status/${e}`),connectViaTransfer:e=>ut.post("/sessions/connect-transfer",e)},wD={generate:e=>ut.post("/answers/generate",e),generateOptimized:e=>ut.post("/answers-optimized/generate",e),getHistory:e=>ut.get(`/sessions/${e}`)},LT={getUserAnalytics:()=>ut.get("/analytics/user")},bD={getStats:()=>ut.get("/cache/stats")},J1={getSessions:()=>ut.get("/mobile/sessions"),generateCode:e=>ut.post("/mobile/generate-code",e),disconnect:e=>ut.post("/mobile/disconnect",e)},xd={getSettings:()=>ut.get("/privacy"),updateSettings:e=>ut.patch("/privacy",e),clearHistory:()=>ut.post("/privacy/clear-history"),getThemes:()=>ut.get("/privacy/themes")},au={uploadCV:e=>{const t=new FormData;return t.append("file",e),ut.post("/documents/upload/cv",t)},uploadJobDescription:e=>{const t=new FormData;return t.append("file",e),ut.post("/documents/upload/job_description",t)},uploadPersonSpec:e=>{const t=new FormData;return t.append("file",e),ut.post("/documents/upload/person_specification",t)},getUserDocuments:()=>ut.get("/documents"),deleteDocument:e=>ut.delete(`/documents/${e}`)},BT=async()=>{var t;if(!((((t=$t.isNativePlatform)==null?void 0:t.call($t))??!1)||$t.getPlatform()!=="web")){console.log("Push notifications: web platform, skipping native initialization");return}try{if((await So.requestPermissions()).receive==="denied"){console.warn("Push Notifications permission denied");return}await So.register(),So.addListener("registration",async n=>{console.log("Push notification token received:",n.value),await Nx(n.value)}),So.addListener("pushNotificationReceived",n=>{console.log("Push notification received:",n),ED(n)}),So.addListener("pushNotificationActionPerformed",n=>{console.log("Push notification action performed:",n),AD(n)}),So.addListener("registrationError",n=>{console.error("Push notification registration error:",n)}),console.log("Push notifications initialized successfully")}catch(r){console.error("Failed to initialize push notifications:",r)}},Nx=async e=>{var t,r;try{try{if(!localStorage.getItem("auth-storage")){console.log("[pushNotifications] No auth token present; queuing push token"),localStorage.setItem("pendingPushToken",e);return}}catch{}await ut.post("/push/register-token",{token:e}),console.log("Push token registered with backend");try{localStorage.getItem("pendingPushToken")===e&&localStorage.removeItem("pendingPushToken")}catch{}}catch(n){if(console.error("Failed to register push token with backend:",((t=n==null?void 0:n.response)==null?void 0:t.data)||n.message||n),((r=n==null?void 0:n.response)==null?void 0:r.status)===401)try{localStorage.setItem("pendingPushToken",e)}catch{}}},SD=async()=>{try{const e=localStorage.getItem("pendingPushToken");e&&(console.log("[pushNotifications] Flushing pending push token"),await Nx(e))}catch(e){console.error("[pushNotifications] Failed to flush pending push token:",e)}},ED=e=>{const{title:t,body:r,data:n}=e.notification;console.log(`Notification: ${t} - ${r}`,n)},AD=e=>{const{actionId:t,notification:r}=e;console.log("Push action performed:",t,r)},al={initializePushNotifications:BT,sendTokenToBackend:Nx,flushPendingPushToken:SD},so=np(Ax(e=>({token:null,user:null,setAuth:(t,r)=>{e({token:t,user:r});try{al.flushPendingPushToken()}catch{}},logout:()=>{e({token:null,user:null});try{localStorage.removeItem("auth-storage"),localStorage.clear()}catch(t){console.error("Error clearing localStorage:",t)}try{sessionStorage.clear()}catch(t){console.error("Error clearing sessionStorage:",t)}document.cookie.split(";").forEach(t=>{const r=t.indexOf("="),n=r>-1?t.substr(0,r).trim():t.trim();n&&n!=="SESSION_ID"&&(document.cookie=`${n}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`)})}}),{name:"auth-storage",version:1,onRehydrateStorage:()=>(e,t)=>{t&&(console.error("Hydration error:",t),localStorage.removeItem("auth-storage"))}})),_D=np(Ax(e=>({disguiseMode:!1,disguiseTheme:"productivity",quickHideEnabled:!0,quickHideKey:"Escape",setDisguiseMode:t=>e({disguiseMode:t}),setDisguiseTheme:t=>e({disguiseTheme:t}),setQuickHide:(t,r)=>e({quickHideEnabled:t,quickHideKey:r})}),{name:"privacy-storage"}));/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(e,t)=>{const r=B.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:u="",children:f,...d},g)=>B.createElement("svg",{ref:g,...CD,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${OD(e)}`,u].join(" "),...d},[...t.map(([v,w])=>B.createElement(v,w)),...Array.isArray(f)?f:[f]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ze("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=ze("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ze("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=ze("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ze("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=ze("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ze("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ze("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=ze("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ze("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=ze("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ze("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=ze("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ze("MonitorUp",[["path",{d:"m9 10 3-3 3 3",key:"11gsxs"}],["path",{d:"M12 13V7",key:"h0r20n"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ze("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ze("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=ze("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=ze("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=ze("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ze("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function VD(){var C,T;const e=io(),t=wn(),{user:r,logout:n}=so(),{disguiseMode:i,setDisguiseMode:s}=_D(),[o,u]=B.useState(!1),[f,d]=B.useState(!1),[g,v]=B.useState(()=>window.matchMedia("(max-width: 1024px)").matches);B.useEffect(()=>{localStorage.getItem("forceDesktopLayout")==="true"&&d(!0);const P=window.matchMedia("(max-width: 1024px)"),k=R=>v(R.matches);return P.addEventListener("change",k),()=>P.removeEventListener("change",k)},[]),B.useEffect(()=>{g&&!f&&u(!1)},[g,f]);const w=B.useMemo(()=>g&&!f,[g,f]),S=async()=>{var I;try{const P=localStorage.getItem("auth-storage"),k=P?(I=JSON.parse(P).state)==null?void 0:I.token:null;if(k){const R="https://iaalearn-cloud.fly.dev".trim().replace(/\/$/,""),F=R?`${R}/api/auth/logout`:"/api/auth/logout";await fetch(F,{method:"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}}).catch(()=>{})}}catch(P){console.error("Logout error:",P)}finally{n(),t("/login",{replace:!0})}},E=[{path:"/",icon:PD,label:"Dashboard"},{path:"/subscription",icon:ol,label:"Subscription & Trial"},{path:"/analytics",icon:$T,label:"Analytics"},{path:"/stealth",icon:jx,label:"Stealth"},{path:"/mobile",icon:xn,label:"Mobile"},{path:"/settings",icon:WT,label:"Settings"}],_=[{action:()=>s(!i),icon:i?Yn:jn,label:i?"Show":"Hide"},{action:S,icon:rh,label:"Logout"}],A=I=>{u(!1),t(I)},N=()=>{const I=!f;d(I),localStorage.setItem("forceDesktopLayout",I?"true":"false")};return m.jsxs("div",{className:`layout ${i?"disguise-mode":""} ${o?"sidebar-open":""} ${w?"mobile-layout":"force-desktop"}`,children:[m.jsxs("aside",{className:`sidebar ${o?"open":""}`,children:[m.jsxs("div",{className:"sidebar-header",children:[m.jsx("img",{src:"/mightysky-logo.svg",alt:"Mightysky",style:{width:"32px",height:"32px",marginRight:"8px"}}),m.jsx("h1",{children:i?"Productivity":"Mightysky"})]}),m.jsxs("nav",{className:"sidebar-nav",children:[E.map(I=>{const P=I.icon,k=e.pathname===I.path;return m.jsxs("button",{className:`nav-item ${k?"active":""}`,type:"button",onClick:()=>A(I.path),children:[m.jsx(P,{size:20}),m.jsx("span",{children:I.label})]},I.path)}),_.map((I,P)=>{const k=I.icon;return m.jsxs("button",{className:"nav-item mobile-only",type:"button",onClick:I.action,children:[m.jsx(k,{size:20}),m.jsx("span",{children:I.label})]},`mobile-action-${P}`)})]}),m.jsxs("div",{className:"sidebar-footer",children:[m.jsxs("button",{className:"nav-item",type:"button",onClick:N,title:f?"Switch to mobile view":"Switch to desktop view",children:[f?m.jsx(xn,{size:20}):m.jsx(ol,{size:20}),m.jsx("span",{children:f?"Mobile view":"Desktop view"})]}),m.jsxs("button",{className:"nav-item",type:"button",onClick:()=>s(!i),title:i?"Disable Disguise Mode":"Enable Disguise Mode",children:[i?m.jsx(Yn,{size:20}):m.jsx(jn,{size:20}),m.jsx("span",{children:i?"Show":"Hide"})]}),m.jsxs("button",{className:"nav-item",type:"button",onClick:S,children:[m.jsx(rh,{size:20}),m.jsx("span",{children:"Logout"})]}),m.jsxs("div",{className:"user-info",children:[m.jsx("div",{className:"user-avatar",children:((C=r==null?void 0:r.full_name)==null?void 0:C[0])||((T=r==null?void 0:r.email)==null?void 0:T[0])||"U"}),m.jsxs("div",{className:"user-details",children:[m.jsx("div",{className:"user-name",children:(r==null?void 0:r.full_name)||"User"}),m.jsx("div",{className:"user-email",children:r==null?void 0:r.email})]})]})]})]}),m.jsx("div",{className:`sidebar-backdrop ${o?"show":""}`,onClick:()=>u(!1)}),m.jsxs("main",{className:"main-content",children:[m.jsxs("header",{className:"mobile-topbar",children:[m.jsxs("button",{className:"mobile-menu-btn",type:"button",onClick:()=>u(!o),"aria-label":"Toggle navigation",children:[m.jsx("span",{}),m.jsx("span",{}),m.jsx("span",{})]}),m.jsxs("div",{className:"mobile-brand",children:[m.jsx("img",{src:"/mightysky-logo.svg",alt:"Mightysky"}),m.jsxs("div",{children:[m.jsx("div",{className:"brand-title",children:i?"Productivity":"Mightysky"}),m.jsx("div",{className:"brand-sub",children:"Dashboard"})]})]}),m.jsxs("div",{className:"mobile-actions",children:[m.jsx("button",{className:"icon-btn",type:"button",onClick:N,"aria-label":f?"Switch to mobile view":"Switch to desktop view",children:f?m.jsx(xn,{size:18}):m.jsx(ol,{size:18})}),m.jsx("button",{className:"icon-btn",type:"button",onClick:()=>s(!i),"aria-label":"Toggle disguise mode",children:i?m.jsx(jn,{size:18}):m.jsx(Yn,{size:18})}),m.jsx("button",{className:"icon-btn",type:"button",onClick:S,"aria-label":"Logout",children:m.jsx(rh,{size:18})})]})]}),m.jsx($R,{})]})]})}function cp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function GD(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{d(n.next(g))}catch(v){o(v)}}function f(g){try{d(n.throw(g))}catch(v){o(v)}}function d(g){g.done?s(g.value):i(g.value).then(u,f)}d((n=n.apply(e,t||[])).next())})}const qD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Rx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class KD extends Rx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tS extends Rx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rS extends Rx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $m;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($m||($m={}));class XD{constructor(t,{headers:r={},customFetch:n,region:i=$m.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=qD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return GD(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:u,method:f,body:d,signal:g,timeout:v}=n;let w={},{region:S}=n;S||(S=this.region);const E=new URL(`${this.url}/${r}`);S&&S!=="any"&&(w["x-region"]=S,E.searchParams.set("forceFunctionRegion",S));let _;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",_=d):typeof d=="string"?(w["Content-Type"]="text/plain",_=d):typeof FormData<"u"&&d instanceof FormData?_=d:(w["Content-Type"]="application/json",_=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?_=JSON.stringify(d):_=d;let A=g;v&&(o=new AbortController,s=setTimeout(()=>o.abort(),v),g?(A=o.signal,g.addEventListener("abort",()=>o.abort())):A=o.signal);const N=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),u),body:_,signal:A}).catch(P=>{throw new KD(P)}),C=N.headers.get("x-relay-error");if(C&&C==="true")throw new tS(N);if(!N.ok)throw new rS(N);let T=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return T==="application/json"?I=yield N.json():T==="application/octet-stream"||T==="application/pdf"?I=yield N.blob():T==="text/event-stream"?I=N:T==="multipart/form-data"?I=yield N.formData():I=yield N.text(),{data:I,error:null,response:N}}catch(u){return{data:null,error:u,response:u instanceof rS||u instanceof tS?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var YD=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},ZD=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,u=null,f=null,d=s.status,g=s.statusText;if(s.ok){var v,w;if(r.method!=="HEAD"){var S;const N=await s.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((S=r.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?u=N:u=JSON.parse(N))}const _=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),A=(w=s.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");_&&A&&A.length>1&&(f=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,d=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var E;const _=await s.text();try{o=JSON.parse(_),Array.isArray(o)&&s.status===404&&(u=[],o=null,d=200,g="OK")}catch{s.status===404&&_===""?(d=204,g="No Content"):o={message:_}}if(o&&r.isMaybeSingle&&(!(o==null||(E=o.details)===null||E===void 0)&&E.includes("0 rows"))&&(o=null,d=200,g="OK"),o&&r.shouldThrowOnError)throw new YD(o)}return{error:o,data:u,count:f,status:d,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let u="",f="",d="";const g=s==null?void 0:s.cause;if(g){var v,w,S,E;const N=(v=g==null?void 0:g.message)!==null&&v!==void 0?v:"",C=(w=g==null?void 0:g.code)!==null&&w!==void 0?w:"";u=`${(S=s==null?void 0:s.name)!==null&&S!==void 0?S:"FetchError"}: ${s==null?void 0:s.message}`,u+=`

Caused by: ${(E=g==null?void 0:g.name)!==null&&E!==void 0?E:"Error"}: ${N}`,C&&(u+=` (${C})`),g!=null&&g.stack&&(u+=`
${g.stack}`)}else{var _;u=(_=s==null?void 0:s.stack)!==null&&_!==void 0?_:""}const A=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(d="",f="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((g==null?void 0:g.name)==="HeadersOverflowError"||(g==null?void 0:g.code)==="UND_ERR_HEADERS_OVERFLOW")&&(d="",f="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(f+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:u,hint:f,code:d},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},QD=class extends ZD{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const nS=new RegExp("[,()]");var jo=class extends QD{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&nS.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&nS.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},JD=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(d=>/\s/.test(d)&&!s?"":(d==='"'&&(s=!s),d)).join(""),{url:u,headers:f}=this.cloneRequestState();return u.searchParams.set("select",o),n&&f.append("Prefer",`count=${n}`),new jo({method:i,url:u,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);s.searchParams.set("columns",f.join(","))}}return new jo({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:u,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(d.length>0){const g=[...new Set(d)].map(v=>`"${v}"`);u.searchParams.set("columns",g.join(","))}}return new jo({method:o,url:u,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new jo({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new jo({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function e5(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t5(e){var t=e5(e,"string");return Mu(t)=="symbol"?t:t+""}function r5(e,t,r){return(t=t5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){r5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var n5=class qT{constructor(t,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const u=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(f,d)=>{const g=new AbortController,v=setTimeout(()=>g.abort(),s),w=d==null?void 0:d.signal;if(w){if(w.aborted)return clearTimeout(v),u(f,d);const S=()=>{clearTimeout(v),g.abort()};return w.addEventListener("abort",S,{once:!0}),u(f,wd(wd({},d),{},{signal:g.signal})).finally(()=>{clearTimeout(v),w.removeEventListener("abort",S)})}return u(f,wd(wd({},d),{},{signal:g.signal})).finally(()=>clearTimeout(v))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new JD(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new qT(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let u;const f=new URL(`${this.url}/rpc/${t}`);let d;const g=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(g)),v=n&&Object.values(r).some(g);v?(u="POST",d=r):n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{f.searchParams.append(S,E)})):(u="POST",d=r);const w=new Headers(this.headers);return v?w.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&w.set("Prefer",`count=${s}`),new jo({method:u,url:f,headers:w,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class i5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const s5="2.95.3",a5=`realtime-js/${s5}`,o5="1.0.0",KT="2.0.0",sS=KT,Fm=1e4,l5=1e3,c5=100;var Is;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Is||(Is={}));var wr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(wr||(wr={}));var hi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hi||(hi={}));var Um;(function(e){e.websocket="websocket"})(Um||(Um={}));var Aa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Aa||(Aa={}));class u5{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,s;const o=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",d=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+o.length+d.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(S),_=0;E.setUint8(_++,this.KINDS.userBroadcastPush),E.setUint8(_++,f.length),E.setUint8(_++,u.length),E.setUint8(_++,o.length),E.setUint8(_++,d.length),E.setUint8(_++,v.length),E.setUint8(_++,r),Array.from(f,N=>E.setUint8(_++,N.charCodeAt(0))),Array.from(u,N=>E.setUint8(_++,N.charCodeAt(0))),Array.from(o,N=>E.setUint8(_++,N.charCodeAt(0))),Array.from(d,N=>E.setUint8(_++,N.charCodeAt(0))),Array.from(v,N=>E.setUint8(_++,N.charCodeAt(0)));var A=new Uint8Array(S.byteLength+n.byteLength);return A.set(new Uint8Array(S),0),A.set(new Uint8Array(n),S.byteLength),A.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,o,u,f]=n;return r({join_ref:i,ref:s,topic:o,event:u,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let f=this.HEADER_LENGTH+4;const d=n.decode(t.slice(f,f+i));f=f+i;const g=n.decode(t.slice(f,f+s));f=f+s;const v=n.decode(t.slice(f,f+o));f=f+o;const w=t.slice(f,t.byteLength),S=u===this.JSON_ENCODING?JSON.parse(n.decode(w)):w,E={type:this.BROADCAST_EVENT,event:g,payload:S};return o>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class XT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Lt||(Lt={}));const aS=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=f5(o,e,t,i),s),{}):{}},f5=(e,t,r,n)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?YT(s,o):zm(o)},YT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return g5(t,r)}switch(e){case Lt.bool:return d5(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return h5(t);case Lt.json:case Lt.jsonb:return p5(t);case Lt.timestamp:return m5(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return zm(t);default:return zm(t)}},zm=e=>e,d5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},h5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},p5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},g5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(u=>YT(t,u))}return e},m5=e=>typeof e=="string"?e.replace(" ","T"):e,ZT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class eg{constructor(t,r,n={},i=Fm){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var oS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(oS||(oS={}));class ou{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ou.syncState(this.state,i,s,o),this.pendingDiffs.forEach(f=>{this.state=ou.syncDiff(this.state,f,s,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ou.syncDiff(this.state,i,s,o),u())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),u={},f={};return this.map(s,(d,g)=>{o[d]||(f[d]=g)}),this.map(o,(d,g)=>{const v=s[d];if(v){const w=g.map(A=>A.presence_ref),S=v.map(A=>A.presence_ref),E=g.filter(A=>S.indexOf(A.presence_ref)<0),_=v.filter(A=>w.indexOf(A.presence_ref)<0);E.length>0&&(u[d]=E),_.length>0&&(f[d]=_)}else u[d]=g}),this.syncDiff(s,{joins:u,leaves:f},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,f)=>{var d;const g=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(f),g.length>0){const v=t[u].map(S=>S.presence_ref),w=g.filter(S=>v.indexOf(S.presence_ref)<0);t[u].unshift(...w)}n(u,g,f)}),this.map(o,(u,f)=>{let d=t[u];if(!d)return;const g=f.map(v=>v.presence_ref);d=d.filter(v=>g.indexOf(v.presence_ref)<0),t[u]=d,i(u,d,f),d.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lS||(lS={}));var lu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lu||(lu={}));var Ki;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ki||(Ki={}));class Ko{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=wr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new eg(this,hi.join,this.params,this.timeout),this.rejoinTimer=new XT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hi.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new ou(this),this.broadcastEndpointURL=ZT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==wr.closed){const{config:{broadcast:o,presence:u,private:f}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(S=>S.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[lu.PRESENCE]&&this.bindings[lu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,v={},w={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t(Ki.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t(Ki.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t==null||t(Ki.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,A=(E=_==null?void 0:_.length)!==null&&E!==void 0?E:0,N=[];for(let C=0;C<A;C++){const T=_[C],{filter:{event:I,schema:P,table:k,filter:R}}=T,F=S&&S[C];if(F&&F.event===I&&Ko.isFilterValueEqual(F.schema,P)&&Ko.isFilterValueEqual(F.table,k)&&Ko.isFilterValueEqual(F.filter,R))N.push(Object.assign(Object.assign({},T),{id:F.id}));else{this.unsubscribe(),this.state=wr.errored,t==null||t(Ki.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ki.SUBSCRIBED);return}}).receive("error",S=>{this.state=wr.errored,t==null||t(Ki.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ki.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===wr.joined&&t===lu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const d=await u.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,u,f;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=wr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new eg(this,hi.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new eg(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>c5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:u,error:f,leave:d,join:g}=hi;if(n&&[u,f,d,g].indexOf(o)>=0&&n!==this._joinRef())return;let w=this._onMessage(o,r,n);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(S=>{var E,_,A;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((A=(_=S.filter)===null||_===void 0?void 0:_.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(S=>S.callback(w,n)):(s=this.bindings[o])===null||s===void 0||s.filter(S=>{var E,_,A,N,C,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in S){const I=S.id,P=(E=S.filter)===null||E===void 0?void 0:E.event;return I&&((_=r.ids)===null||_===void 0?void 0:_.includes(I))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const I=(C=(N=S==null?void 0:S.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return I==="*"||I===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===o}).map(S=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:_,table:A,commit_timestamp:N,type:C,errors:T}=E;w=Object.assign(Object.assign({},{schema:_,table:A,commit_timestamp:N,eventType:C,new:{},old:{},errors:T}),this._getPayloadRecords(E))}S.callback(w,n)})}_isClosed(){return this.state===wr.closed}_isJoined(){return this.state===wr.joined}_isJoining(){return this.state===wr.joining}_isLeaving(){return this.state===wr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ko.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hi.close,{},t)}_onError(t){this._on(hi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=aS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=aS(t.columns,t.old_record)),r}}const tg=()=>{},bd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y5=[1e3,2e3,5e3,1e4],v5=1e4,x5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class w5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fm,this.transport=null,this.heartbeatIntervalMs=bd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tg,this.ref=0,this.reconnectTimer=null,this.vsn=sS,this.logger=tg,this.conn=null,this.sendBuffer=[],this.serializer=new u5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Um.websocket}`,this.httpEndpoint=ZT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Is.connecting:return Aa.Connecting;case Is.open:return Aa.Open;case Is.closing:return Aa.Closing;default:return Aa.Closed}}isConnected(){return this.connectionState()===Aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Ko(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(l5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",d)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:o}=r,u=o?`(${o})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${i} ${u}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Is.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Is.open||this.conn.readyState===Is.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(hi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([x5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:a5};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(hi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new XT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,o,u,f,d,g,v,w,S;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Fm,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:bd.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:tg,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:sS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:E=>y5[E-1]||v5,this.vsn){case o5:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:(E,_)=>_(JSON.stringify(E)),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:(E,_)=>_(JSON.parse(E));break;case KT:this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Du=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function b5(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function S5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function E5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:o}){const u=b5(e.baseUrl,n,i),f=await S5(e.auth),d=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...o},body:s?JSON.stringify(s):void 0}),g=await d.text(),v=(d.headers.get("content-type")||"").includes("application/json"),w=v&&g?JSON.parse(g):g;if(!d.ok){const S=v?w:void 0,E=S==null?void 0:S.error;throw new Du((E==null?void 0:E.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:S})}return{status:d.status,headers:d.headers,data:w}}}}function Sd(e){return e.join("")}var A5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Sd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sd(e.namespace)}`}),!0}catch(t){if(t instanceof Du&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Du&&r.status===409)return;throw r}}};function Eo(e){return e.join("")}var _5=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Du&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Du&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},C5=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=E5({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new A5(this.client,t),this.tableOps=new _5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},up=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function fp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ed=class extends up{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},QT=class extends up{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const O5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),T5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hm=e=>{if(Array.isArray(e))return e.map(r=>Hm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Hm(n)}),t},N5=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function I5(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P5(e){var t=I5(e,"string");return Lu(t)=="symbol"?t:t+""}function k5(e,t,r){return(t=P5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){k5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const uS=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},j5=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const u=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Ed(uS(o),s,u,n))}).catch(()=>{if(n==="vectors"){const o=s+"";t(new Ed(i.statusText||`HTTP ${s} error`,s,o,n))}else{const o=s+"";t(new Ed(i.statusText||`HTTP ${s} error`,s,o,n))}});else{const o=s+"";t(new Ed(i.statusText||`HTTP ${s} error`,s,o,n))}}else t(new QT(uS(e),e,n))},R5=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ge(Ge({},i),r):(T5(n)?(i.headers=Ge({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Ge(Ge({},i),r))};async function jc(e,t,r,n,i,s,o){return new Promise((u,f)=>{e(r,R5(t,n,i,s)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;if(o==="vectors"){const g=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!g||!g.includes("application/json"))return{}}return d.json()}).then(d=>u(d)).catch(d=>j5(d,f,n,o))})}function JT(e="storage"){return{get:async(t,r,n,i)=>jc(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,s)=>jc(t,"POST",r,i,s,n,e),put:async(t,r,n,i,s)=>jc(t,"PUT",r,i,s,n,e),head:async(t,r,n,i)=>jc(t,"HEAD",r,Ge(Ge({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,s)=>jc(t,"DELETE",r,i,s,n,e)}}const M5=JT("storage"),{get:Bu,post:fi,put:Wm,head:D5,remove:Mx}=M5,Nn=JT("vectors");var ec=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=O5(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(fp(r))return{data:null,error:r};throw r}}},L5=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(fp(t))return{data:null,error:t};throw t}}};let eN;eN=Symbol.toStringTag;var B5=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[eN]="BlobDownloadBuilder",this.promise=null}asStream(){return new L5(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(fp(t))return{data:null,error:t};throw t}}};const $5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var F5=class extends ec{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let s;const o=Ge(Ge({},fS),n);let u=Ge(Ge({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const f=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),f&&s.append("metadata",i.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),f&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(f))):(s=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,f&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(u=Ge(Ge({},u),n.headers));const d=i._removeEmptyFolders(t),g=i._getFinalPath(d),v=await(e=="PUT"?Wm:fi)(i.fetch,`${i.url}/object/${g}`,s,Ge({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:d,id:v.Id,fullPath:v.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const s=i._removeEmptyFolders(e),o=i._getFinalPath(s),u=new URL(i.url+`/object/upload/sign/${o}`);return u.searchParams.set("token",t),i.handleOperation(async()=>{let f;const d=Ge({upsert:fS.upsert},n),g=Ge(Ge({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType),{path:s,fullPath:(await Wm(i.fetch,u.toString(),f,{headers:g})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=Ge({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await fi(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+s.url),u=o.searchParams.get("token");if(!u)throw new up("No token returned by API");return{signedUrl:o.toString(),path:e,token:u}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await fi(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await fi(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await fi(n.fetch,`${n.url}/object/sign/${i}`,Ge({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await fi(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(o=>Ge(Ge({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(e),u=()=>Bu(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0},r);return new B5(u,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Hm(await Bu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await D5(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(fp(n)&&n instanceof QT){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Mx(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=Ge(Ge(Ge({},$5),t),{},{prefix:e||""});return await fi(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ge({},e);return await fi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const U5="2.95.3",Rf={"X-Client-Info":`storage-js/${U5}`};var z5=class extends ec{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=Ge(Ge({},Rf),t);super(s,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Bu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Bu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await fi(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Wm(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await fi(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Mx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},H5=class extends ec{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ge(Ge({},Rf),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await fi(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Bu(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Mx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!N5(e))throw new up("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new C5({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(i,u),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}},W5=class extends ec{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ge(Ge({},Rf),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Nn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Nn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},V5=class extends ec{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ge(Ge({},Rf),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},G5=class extends ec{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ge(Ge({},Rf),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Nn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},q5=class extends G5{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new K5(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},K5=class extends W5{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ge(Ge({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ge(Ge({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new X5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},X5=class extends V5{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ge(Ge({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ge(Ge({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ge(Ge({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ge(Ge({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ge(Ge({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Y5=class extends z5{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new F5(this.url,this.headers,e,this.fetch)}get vectors(){return new q5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new H5(this.url+"/iceberg",this.headers,this.fetch)}};const tN="2.95.3",Ro=30*1e3,Vm=3,rg=Vm*Ro,Z5="http://localhost:9999",Q5="supabase.auth.token",J5={"X-Client-Info":`gotrue-js/${tN}`},Gm="X-Supabase-Api-Version",rN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,t7=10*60*1e3;class $u extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class r7 extends $u{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function n7(e){return je(e)&&e.name==="AuthApiError"}class _a extends $u{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ys extends $u{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class En extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ng(e){return je(e)&&e.name==="AuthSessionMissingError"}class Ao extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ad extends ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _d extends ys{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function i7(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class dS extends ys{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s7 extends ys{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class qm extends ys{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ig(e){return je(e)&&e.name==="AuthRetryableFetchError"}class hS extends ys{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Km extends ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pS=` 	
\r=`.split(""),a7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pS.length;t+=1)e[pS[t].charCodeAt(0)]=-2;for(let t=0;t<Ih.length;t+=1)e[Ih[t].charCodeAt(0)]=t;return e})();function gS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ih[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ih[n]),t.queuedBits-=6}}function nN(e,t,r){const n=a7[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function mS(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{c7(o,n,r)};for(let o=0;o<e.length;o+=1)nN(e.charCodeAt(o),i,s);return t.join("")}function o7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function l7(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}o7(n,t)}}function c7(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ll(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)nN(e.charCodeAt(i),r,n);return new Uint8Array(t)}function u7(e){const t=[];return l7(e,r=>t.push(r)),new Uint8Array(t)}function Pa(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>gS(i,r,n)),gS(null,r,n),t.join("")}function f7(e){return Math.round(Date.now()/1e3)+e}function d7(){return Symbol("auth-callback")}const Dr=()=>typeof window<"u"&&typeof document<"u",pa={tested:!1,writable:!1},iN=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pa.tested)return pa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pa.tested=!0,pa.writable=!0}catch{pa.tested=!0,pa.writable=!1}return pa.writable};function h7(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const sN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),p7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ga=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mr=async(e,t)=>{await e.removeItem(t)};class dp{constructor(){this.promise=new dp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}dp.promiseConstructor=Promise;function Cd(e){const t=e.split(".");if(t.length!==3)throw new Km("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!e7.test(t[n]))throw new Km("JWT not in base64url format");return{header:JSON.parse(mS(t[0])),payload:JSON.parse(mS(t[1])),signature:ll(t[2]),raw:{header:t[0],payload:t[1]}}}async function g7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function m7(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function y7(e){return("0"+e.toString(16)).substr(-2)}function v7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,y7).join("")}async function x7(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function w7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await x7(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(e,t,r=!1){const n=v7();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Mo(e,`${t}-code-verifier`,i);const s=await w7(n);return[s,n===s?"plain":"s256"]}const b7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S7(e){const t=e.headers.get(Gm);if(!t||!t.match(b7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function E7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function A7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Co(e){if(!_7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function C7(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function yS(e){return JSON.parse(JSON.stringify(e))}const wa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),O7=[502,503,504];async function vS(e){var t;if(!p7(e))throw new qm(wa(e),0);if(O7.includes(e.status))throw new qm(wa(e),e.status);let r;try{r=await e.json()}catch(s){throw new _a(wa(s),s)}let n;const i=S7(e);if(i&&i.getTime()>=rN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hS(wa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new En}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new hS(wa(r),e.status,r.weak_password.reasons);throw new r7(wa(r),e.status||500,n)}const T7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function We(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Gm]||(s[Gm]=rN["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",f=await N7(e,t,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function N7(e,t,r,n,i,s){const o=T7(t,n,i,s);let u;try{u=await e(r,Object.assign({},o))}catch(f){throw console.error(f),new qm(wa(f),0)}if(u.ok||await vS(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await vS(f)}}function ci(e){var t;let r=null;k7(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=f7(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xS(e){const t=ci(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function I7(e){return{data:e,error:null}}function P7(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=cp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},f=Object.assign({},o);return{data:{properties:u,user:f},error:null}}function wS(e){return e}function k7(e){return e.access_token&&e.refresh_token&&e.expires_in}const ag=["global","local","others"];class j7{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ag[0]){if(ag.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ag.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=cp(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:P7,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,u,f;try{const d={nextPage:null,lastPage:0,total:0},g=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:wS});if(g.error)throw g.error;const v=await g.json(),w=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,S=(f=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return S.length>0&&(S.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);d[`${A}Page`]=_}),d.total=parseInt(w)),{data:Object.assign(Object.assign({},v),d),error:null}}catch(d){if(je(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Co(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rs})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Co(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Rs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Co(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rs})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Co(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Co(t.userId),Co(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,o,u,f;try{const d={nextPage:null,lastPage:0,total:0},g=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:wS});if(g.error)throw g.error;const v=await g.json(),w=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,S=(f=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return S.length>0&&(S.forEach(E=>{const _=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);d[`${A}Page`]=_}),d.total=parseInt(w)),{data:Object.assign(Object.assign({},v),d),error:null}}catch(d){if(je(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await We(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}}function bS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Oo={debug:!!(globalThis&&iN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class R7 extends aN{}async function M7(e,t,r){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new R7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function D7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function L7(e){return parseInt(e,16)}function B7(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function $7(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:u,requestId:f,resources:d,scheme:g,uri:v,version:w}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const S=oN(e.address),E=g?`${g}://${n}`:n,_=e.statement?`${e.statement}
`:"",A=`${E} wants you to sign in with your Ethereum account:
${S}

${_}`;let N=`URI: ${v}
Version: ${w}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),f&&(N+=`
Request ID: ${f}`),d){let C=`
Resources:`;for(const T of d){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);C+=`
- ${T}`}N+=C}return`${A}
${N}`}class dr extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Ph extends dr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function F7({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new dr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new dr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new dr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new dr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new dr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new dr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(lN(o)){if(s.rp.id!==o)return new dr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new dr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new dr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function U7({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new dr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(lN(n)){if(r.rpId!==n)return new dr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new dr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class z7{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const H7=new z7;function W7(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=cp(e,["challenge","user","excludeCredentials"]),s=ll(t).buffer,o=Object.assign(Object.assign({},r),{id:ll(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const d=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:ll(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function V7(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=cp(e,["challenge","allowCredentials"]),i=ll(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},u),{id:ll(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function G7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Pa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Pa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function q7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Pa(new Uint8Array(i.authenticatorData)),clientDataJSON:Pa(new Uint8Array(i.clientDataJSON)),signature:Pa(new Uint8Array(i.signature)),userHandle:i.userHandle?Pa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function SS(){var e,t;return!!(Dr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function K7(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ph("Browser returned unexpected credential type",t)}:{data:null,error:new Ph("Empty credential response",t)}}catch(t){return{data:null,error:F7({error:t,options:e})}}}async function X7(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ph("Browser returned unexpected credential type",t)}:{data:null,error:new Ph("Empty credential response",t)}}catch(t){return{data:null,error:U7({error:t,options:e})}}}const Y7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Z7={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function kh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(t(o)){const u=n[s];t(u)?n[s]=kh(u,o):n[s]=kh(o)}else n[s]=o}return n}function Q7(e,t){return kh(Y7,e,t||{})}function J7(e,t){return kh(Z7,e,t||{})}class eL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){var o;try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:f};const d=i??H7.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;if(!g.name){const v=n;if(v)g.name=`${g.id}:${v}`;else{const S=(await this.client.getUser()).data.user,E=((o=S==null?void 0:S.user_metadata)===null||o===void 0?void 0:o.name)||(S==null?void 0:S.email)||(S==null?void 0:S.id)||"User";g.name=`${g.id}:${E}`}}g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=Q7(u.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:v,error:w}=await K7({publicKey:g,signal:d});return v?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=J7(u.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:v,error:w}=await X7(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:d}));return v?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(u){return je(u)?{data:null,error:u}:{data:null,error:new _a("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new $u("rpId is required for WebAuthn authentication")};try{if(!SS())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:u};const{webauthn:f}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(o){return je(o)?{data:null,error:o}:{data:null,error:new _a("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new $u("rpId is required for WebAuthn registration")};try{if(!SS())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:u};const{data:f,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return f?this._verify({factorId:o.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(o){return je(o)?{data:null,error:o}:{data:null,error:new _a("Unexpected error in register",o)}}}}D7();const tL={url:Z5,storageKey:Q5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ES(e,t,r){return await r()}const To={};class Fu{get jwks(){var t,r;return(r=(t=To[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=To[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},tL),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Fu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Fu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Dr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new j7({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=sN(s.fetch),this.lock=s.lock||ES,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Dr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=M7:this.lock=ES,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=bS(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Dr()&&(r=h7(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Dr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),i7(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?this._returnResult({error:r}):this._returnResult({error:new _a("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ci}),{data:o,error:u}=s;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const f=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(s){if(je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:g,password:v,options:w}=t;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await _o(this.storage,this.storageKey)),s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:v,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:S,code_challenge_method:E},xform:ci})}else if("phone"in t){const{phone:g,password:v,options:w}=t;s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:ci})}else throw new Ad("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u||!o)return await Mr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(s){if(await Mr(this.storage,`${this.storageKey}-code-verifier`),je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:u}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:xS})}else if("phone"in t){const{phone:s,password:o,options:u}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:xS})}else throw new Ad("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Ao;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,o,u,f,d,g,v,w;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:_,wallet:A,statement:N,options:C}=t;let T;if(Dr())if(typeof A=="object")T=A;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")T=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=A}const I=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href),P=await T.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=oN(P[0]);let R=(n=C==null?void 0:C.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const L=await T.request({method:"eth_chainId"});R=L7(L)}const F={domain:I.host,address:k,statement:N,uri:I.href,version:"1",chainId:R,nonce:(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=C==null?void 0:C.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=C==null?void 0:C.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(g=C==null?void 0:C.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=$7(F),E=await T.request({method:"personal_sign",params:[B7(S),k]})}try{const{data:_,error:A}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ci});if(A)throw A;if(!_||!_.session||!_.user){const N=new Ao;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:A})}catch(_){if(je(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,n,i,s,o,u,f,d,g,v,w,S;let E,_;if("message"in t)E=t.message,_=t.signature;else{const{chain:A,wallet:N,statement:C,options:T}=t;let I;if(Dr())if(typeof N=="object")I=N;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))I=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=N}const P=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in I&&I.signIn){const k=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),C?{statement:C}:null));let R;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")R=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)R=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)E=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${P.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=T==null?void 0:T.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T==null?void 0:T.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(g=T==null?void 0:T.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const k=await I.signMessage(new TextEncoder().encode(E),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=k}}try{const{data:A,error:N}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Pa(_)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ci});if(N)throw N;if(!A||!A.session||!A.user){const C=new Ao;return this._returnResult({data:{user:null,session:null},error:C})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:N})}catch(A){if(je(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const r=await ga(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new s7;const{data:s,error:o}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ci});if(await Mr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const u=new Ao;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Mr(this.storage,`${this.storageKey}-code-verifier`),je(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,u=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ci}),{data:f,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const g=new Ao;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:u,options:f}=t;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await _o(this.storage,this.storageKey));const{error:v}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:u,options:f}=t,{data:d,error:g}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(o=f==null?void 0:f.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:g})}throw new Ad("You must provide either an email or phone number.")}catch(u){if(await Mr(this.storage,`${this.storageKey}-code-verifier`),je(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ci});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const f=o.session,d=o.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,o;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await _o(this.storage,this.storageKey));const d=await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:I7});return!((s=d.data)===null||s===void 0)&&s.url&&Dr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(await Mr(this.storage,`${this.storageKey}-code-verifier`),je(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new En;const{error:i}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(je(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:u}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u})}throw new Ad("You must provide either an email or phone number and a type")}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<rg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ga(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=sg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=C7(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rs}):await this._useSession(async r=>{var n,i,s;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Rs})})}catch(r){if(je(r))return ng(r)&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new En;const o=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await _o(this.storage,this.storageKey));const{data:d,error:g}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:o.access_token,xform:Rs});if(g)throw g;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Mr(this.storage,`${this.storageKey}-code-verifier`),je(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new En;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=Cd(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:u}=r;if(u)throw u;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new En;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Dr())throw new _d("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _d(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _d("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dS("No code detected.");const{data:C,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:u,expires_at:f,token_type:d}=t;if(!s||!u||!o||!d)throw new _d("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(u);let w=g+v;f&&(w=parseInt(f));const S=w-g;S*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const E=w-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,g);const{data:_,error:A}=await this._getUser(s);if(A)throw A;const N={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:v,expires_at:w,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(je(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ga(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!ng(s))return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(n7(u)&&(u.status===404||u.status===401||u.status===403)||ng(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=d7(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _o(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Mr(this.storage,`${this.storageKey}-code-verifier`),je(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,u,f,d,g;const{data:v,error:w}=s;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(d=v.session)===null||d===void 0?void 0:d.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(je(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:u,token:f,access_token:d,nonce:g}=t,v=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:d,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ci}),{data:w,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ao}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(i){if(await Mr(this.storage,`${this.storageKey}-code-verifier`),je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await m7(async i=>(i>0&&await g7(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ci})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ig(s)&&Date.now()+o-n<Ro})}catch(n){if(this._debug(r,"error",n),je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ga(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ga(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Mo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:sg()}else if(i&&!i.user&&!i.user){const o=await ga(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Mr(this.storage,this.storageKey+"-user"),await Mo(this.storage,this.storageKey,i)):i.user=sg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${rg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ig(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dp;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new En;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),je(s)){const o={data:null,error:s};return ig(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(o),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Mr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=yS(i);await Mo(this.storage,this.storageKey,s)}else{const i=yS(r);await Mo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Mr(this.storage,this.storageKey),await Mr(this.storage,this.storageKey+"-code-verifier"),await Mr(this.storage,this.storageKey+"-user"),this.userStorage&&await Mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ro}ms, refresh threshold is ${Vm} ticks`),i<=Vm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await _o(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:d}=await We(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?G7(t.webauthn.credential_response):q7(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:W7(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:V7(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,s;if(t)try{const{payload:S}=Cd(t);let E=null;S.aal&&(E=S.aal);let _=E;const{data:{user:A},error:N}=await this.getUser(t);if(N)return this._returnResult({data:null,error:N});((n=(r=A==null?void 0:A.factors)===null||r===void 0?void 0:r.filter(I=>I.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(_="aal2");const T=S.amr||[];return{data:{currentLevel:E,nextLevel:_,currentAuthenticationMethods:T},error:null}}catch(S){if(je(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:o},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Cd(o.access_token);let d=null;f.aal&&(d=f.aal);let g=d;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(S=>S.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const w=f.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await We(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new En})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new En});const o=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Dr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new En});const o=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Dr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await We(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new En})})}catch(t){if(je(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await We(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new En})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+t7>i)return n;const{data:s,error:o}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:S,error:E}=await this.getSession();if(E||!S.session)return this._returnResult({data:null,error:E});n=S.session.access_token}const{header:i,payload:s,signature:o,raw:{header:u,payload:f}}=Cd(n);r!=null&&r.allowExpired||E7(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:S}=await this.getUser(n);if(S)throw S;return{data:{claims:s,header:i,signature:o},error:null}}const g=A7(i.alg),v=await crypto.subtle.importKey("jwk",d,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,o,u7(`${u}.${f}`)))throw new Km("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}}Fu.nextInstanceID={};const rL=Fu,nL="2.95.3";let Kc="";typeof Deno<"u"?Kc="deno":typeof document<"u"?Kc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kc="react-native":Kc="node";const iL={"X-Client-Info":`supabase-js-${Kc}/${nL}`},sL={headers:iL},aL={schema:"public"},oL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lL={};function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function cL(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uL(e){var t=cL(e,"string");return Uu(t)=="symbol"?t:t+""}function fL(e,t,r){return(t=uL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){fL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const dL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hL=()=>Headers,pL=(e,t,r)=>{const n=dL(r),i=hL();return async(s,o)=>{var u;const f=(u=await t())!==null&&u!==void 0?u:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),n(s,ir(ir({},o),{},{headers:d}))}};function gL(e){return e.endsWith("/")?e:e+"/"}function mL(e,t){var r,n;const{db:i,auth:s,realtime:o,global:u}=e,{db:f,auth:d,realtime:g,global:v}=t,w={db:ir(ir({},f),i),auth:ir(ir({},d),s),realtime:ir(ir({},g),o),storage:{},global:ir(ir(ir({},v),u),{},{headers:ir(ir({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}function yL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vL=class extends rL{constructor(e){super(e)}},xL=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=yL(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:aL,realtime:lL,auth:ir(ir({},oL),{},{storageKey:o}),global:sL},f=mL(r??{},u);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=f.auth)!==null&&d!==void 0?d:{},this.headers,f.global.fetch)}this.fetch=pL(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(ir({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new n5(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new Y5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new XD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:u,debug:f,throwOnError:d},g,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vL({url:this.authUrl.href,headers:ir(ir({},w),g),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:u,debug:f,throwOnError:d,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new w5(this.realtimeUrl.href,ir(ir({},e),{},{params:ir(ir({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const wL=(e,t,r)=>new xL(e,t,r);function bL(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}bL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SL="https://aws-1-eu-west-1.pooler.supabase.com",EL="";let Xm;Xm=wL(SL,EL);function AL(){const[e,t]=B.useState(!1),r=async()=>{d(""),t(!0);try{const{error:pe}=await Xm.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/oauth-callback"}});if(pe)throw pe}catch(pe){d(pe.message||"Google login failed")}finally{t(!1)}},n=async()=>{d(""),t(!0);try{const{error:pe}=await Xm.auth.signInWithOAuth({provider:"github",options:{redirectTo:window.location.origin+"/oauth-callback"}});if(pe)throw pe}catch(pe){d(pe.message||"GitHub login failed")}finally{t(!1)}},i=wn(),{setAuth:s}=so(),[o,u]=B.useState({email:"",password:""}),[f,d]=B.useState(""),[g,v]=B.useState(!1),[w,S]=B.useState(!1),[E,_]=B.useState(!1),[A,N]=B.useState(!0),[C,T]=B.useState(!1),[I,P]=B.useState(""),[k,R]=B.useState(!1),[F,L]=B.useState(0),[K,V]=B.useState(!1),[U,J]=B.useState(null),[Q,H]=B.useState(null),[ee,Z]=B.useState(""),[Y,ae]=B.useState(!1),[ne,de]=B.useState(!1),le=B.useRef(null),Se=B.useRef(null);B.useEffect(()=>{if(F>0){const pe=setTimeout(()=>L(F-1),1e3);return()=>clearTimeout(pe)}},[F]);const Te=async pe=>{var ue,Ae;if(pe==null||pe.preventDefault(),!o.email){d("Please enter your email address");return}d(""),R(!0);try{const Re=await sl.requestOtp({email:o.email});T(!0),L(60),P(""),Re.data.code&&d(`Development mode: Your code is ${Re.data.code}`)}catch(Re){d(((Ae=(ue=Re.response)==null?void 0:ue.data)==null?void 0:Ae.error)||"Failed to send verification code"),T(!1)}finally{R(!1)}},qe=async pe=>{var ue,Ae;if(pe.preventDefault(),!I||I.length!==6){d("Please enter the 6-digit verification code");return}d(""),v(!0);try{const Re=await sl.verifyOtp({email:o.email,code:I}),{token:st,user:ft}=Re.data;E&&localStorage.setItem("rememberMe","true"),s(st,ft);try{al.flushPendingPushToken()}catch{}try{al.flushPendingPushToken()}catch{}V(!0),Z(""),de(!1),J(null),H(null)}catch(Re){d(((Ae=(ue=Re.response)==null?void 0:ue.data)==null?void 0:Ae.error)||"Invalid verification code")}finally{v(!1)}},we=async pe=>{var ue,Ae;pe.preventDefault(),d(""),v(!0);try{const Re=await sl.login(o),{token:st,user:ft}=Re.data;E&&localStorage.setItem("rememberMe","true"),s(st,ft);try{al.flushPendingPushToken()}catch{}V(!0),Z(""),de(!1),J(null),H(null)}catch(Re){d(((Ae=(ue=Re.response)==null?void 0:ue.data)==null?void 0:Ae.error)||"Login failed")}finally{v(!1)}},Ot=pe=>{var Ae;const ue=(Ae=pe.target.files)==null?void 0:Ae[0];ue&&J(ue)},rt=pe=>{var Ae;const ue=(Ae=pe.target.files)==null?void 0:Ae[0];ue&&H(ue)},be=async()=>{var pe,ue;if(!(!U&&!Q)){ae(!0),Z("");try{const Ae=[];U&&Ae.push(au.uploadCV(U)),Q&&Ae.push(au.uploadJobDescription(Q)),await Promise.all(Ae),de(!0),setTimeout(()=>{V(!1),i("/")},1500)}catch(Ae){Z(((ue=(pe=Ae.response)==null?void 0:pe.data)==null?void 0:ue.error)||"Upload failed. You can add documents later from your dashboard.")}finally{ae(!1)}}},Ce=()=>{V(!1),i("/")};return m.jsxs("div",{className:"auth-container",children:[m.jsxs("div",{className:"auth-card",children:[m.jsxs("div",{className:"auth-header",children:[m.jsx("div",{className:"auth-logo",children:m.jsx("img",{src:"/mightysky-logo.svg",alt:"Mightysky",style:{width:"70px",height:"70px"}})}),m.jsx("h1",{className:"auth-title",children:"Mightysky"}),m.jsx("p",{className:"auth-tagline",children:"Interview Answer Assistant"}),m.jsx("h2",{className:"auth-subtitle",children:"Welcome Back"})]}),f&&m.jsxs("div",{className:"alert alert-error",children:[m.jsx(fs,{size:18}),m.jsx("span",{children:f})]}),C&&!f&&m.jsxs("div",{className:"alert alert-success",children:[m.jsx(fs,{size:18}),m.jsx("span",{children:"Verification code sent to your email"})]}),m.jsxs("form",{onSubmit:A?C?qe:Te:we,className:"auth-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(kx,{size:16}),"Email Address"]}),m.jsx("input",{type:"email",className:"input input-with-icon",value:o.email,onChange:pe=>u({...o,email:pe.target.value}),placeholder:"you@example.com",required:!0,autoFocus:!0,disabled:C})]}),!A&&m.jsxs("div",{className:"form-group",children:[m.jsxs("div",{className:"label-with-link",children:[m.jsxs("label",{className:"label",children:[m.jsx(El,{size:16}),"Password"]}),m.jsx(xl,{to:"/forgot-password",className:"forgot-link",children:"Forgot?"})]}),m.jsxs("div",{className:"password-input-wrapper",children:[m.jsx("input",{type:w?"text":"password",className:"input input-with-icon",value:o.password,onChange:pe=>u({...o,password:pe.target.value}),placeholder:"Enter your password",required:!0}),m.jsx("button",{type:"button",onClick:()=>S(!w),className:"password-toggle",children:w?m.jsx(jn,{size:18}):m.jsx(Yn,{size:18})})]})]}),A&&C&&m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(X2,{size:16}),"Verification Code"]}),m.jsx("input",{type:"text",className:"input input-with-icon",value:I,onChange:pe=>P(pe.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit code",required:!0,maxLength:6,autoFocus:!0}),F>0?m.jsxs("p",{className:"form-hint",children:["Resend code in ",F,"s"]}):m.jsx("button",{type:"button",onClick:Te,className:"btn-link",style:{marginTop:"8px",fontSize:"14px"},children:"Resend code"})]}),!A&&m.jsx("div",{className:"form-extras",children:m.jsxs("label",{className:"checkbox-label",children:[m.jsx("input",{type:"checkbox",checked:E,onChange:pe=>_(pe.target.checked)}),m.jsx("span",{children:"Remember me for 30 days"})]})}),m.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:g||A&&C&&I.length!==6,children:g?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner"}),A&&C?"Verifying...":A?"Sending code...":"Signing in..."]}):m.jsx(m.Fragment,{children:A&&C?m.jsxs(m.Fragment,{children:[m.jsx(X2,{size:18}),"Verify Code"]}):A?m.jsxs(m.Fragment,{children:[m.jsx(UD,{size:18}),"Send Verification Code"]}):"Sign In"})}),m.jsx("div",{style:{textAlign:"center",marginTop:"12px"},children:m.jsx("button",{type:"button",onClick:()=>{N(!A),T(!1),P(""),d("")},className:"btn-link",style:{fontSize:"14px"},children:A?"Use password instead":"Use verification code instead"})})]}),m.jsx("div",{className:"auth-divider",children:m.jsx("span",{children:"or continue with"})}),m.jsxs("div",{className:"oauth-buttons",children:[m.jsxs("button",{onClick:r,className:"btn btn-outline btn-block oauth-btn",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},type:"button",disabled:e,children:[m.jsxs("svg",{className:"oauth-icon",viewBox:"0 0 24 24",width:"20",height:"20",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),m.jsxs("button",{onClick:n,className:"btn btn-outline btn-block oauth-btn",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},type:"button",disabled:e,children:[m.jsx("svg",{className:"oauth-icon",viewBox:"0 0 24 24",width:"20",height:"20",children:m.jsx("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"})}),"GitHub"]})]}),m.jsxs("p",{className:"auth-footer",children:["Don't have an account? ",m.jsx(xl,{to:"/register",children:"Register"})]})]}),K&&m.jsx("div",{className:"modal-overlay",onClick:Ce,children:m.jsxs("div",{className:"modal-content",onClick:pe=>pe.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{children:"Upload Your Documents"}),m.jsx("button",{className:"modal-close",onClick:Ce,children:m.jsx(jf,{size:24})})]}),m.jsxs("div",{className:"modal-body",children:[m.jsx("p",{className:"modal-subtitle",children:"Help us tailor your interview answers by uploading your CV and job description"}),ee&&m.jsx("div",{className:"alert alert-error",children:ee}),ne&&m.jsx("div",{className:"alert alert-success",children:"Documents uploaded successfully!"}),m.jsxs("div",{className:"upload-box",children:[m.jsx("div",{className:"upload-icon",children:m.jsx(Px,{size:40})}),m.jsxs("div",{className:"upload-content",children:[m.jsx("h4",{children:"Your CV/Resume"}),m.jsx("p",{className:"upload-text",children:U?U.name:"Upload your resume for personalized answers"}),m.jsx("input",{type:"file",ref:le,onChange:Ot,accept:".pdf,.doc,.docx,.txt",className:"hidden-input",disabled:Y}),m.jsx("button",{type:"button",onClick:()=>{var pe;return(pe=le.current)==null?void 0:pe.click()},className:"btn btn-secondary btn-small",disabled:Y,children:U?"✓ Selected":"Choose File"})]})]}),m.jsxs("div",{className:"upload-box",children:[m.jsx("div",{className:"upload-icon",children:m.jsx(Ix,{size:40})}),m.jsxs("div",{className:"upload-content",children:[m.jsx("h4",{children:"Job Description"}),m.jsx("p",{className:"upload-text",children:Q?Q.name:"Upload the job posting to tailor answers"}),m.jsx("input",{type:"file",ref:Se,onChange:rt,accept:".pdf,.doc,.docx,.txt",className:"hidden-input",disabled:Y}),m.jsx("button",{type:"button",onClick:()=>{var pe;return(pe=Se.current)==null?void 0:pe.click()},className:"btn btn-secondary btn-small",disabled:Y,children:Q?"✓ Selected":"Choose File"})]})]}),m.jsx("p",{className:"modal-note",children:"Both files are optional. You can upload them now or add them later in your dashboard."})]}),m.jsxs("div",{className:"modal-footer",children:[m.jsx("button",{type:"button",onClick:Ce,className:"btn btn-outline",disabled:Y,children:"Skip for Now"}),m.jsx("button",{type:"button",onClick:be,className:"btn btn-primary",disabled:Y||!U&&!Q,children:Y?"Uploading...":"Upload Documents"})]})]})})]})}function _L(){const e=wn(),{setAuth:t}=so(),[r,n]=B.useState({email:"",password:"",confirmPassword:"",fullName:""}),[i,s]=B.useState(""),[o,u]=B.useState(!1),[f,d]=B.useState(!1),[g,v]=B.useState(!1),[w,S]=B.useState({score:0,checks:{length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}});B.useEffect(()=>{const N=r.password,C={length:N.length>=8,uppercase:/[A-Z]/.test(N),lowercase:/[a-z]/.test(N),number:/\d/.test(N),special:/[!@#$%^&*(),.?":{}|<>]/.test(N)},T=Object.values(C).filter(Boolean).length;S({score:T,checks:C})},[r.password]);const E=N=>N===0?{text:"",color:""}:N<=2?{text:"Weak",color:"strength-weak"}:N<=3?{text:"Fair",color:"strength-fair"}:N<=4?{text:"Good",color:"strength-good"}:{text:"Strong",color:"strength-strong"},_=async N=>{var C,T;if(N.preventDefault(),s(""),r.password!==r.confirmPassword){s("Passwords do not match");return}if(w.score<3){s("Password is too weak. Please meet at least 3 requirements.");return}u(!0);try{const{confirmPassword:I,...P}=r,k=await sl.register(P),{token:R,user:F}=k.data;t(R,F);try{al.flushPendingPushToken()}catch{}e("/")}catch(I){s(((T=(C=I.response)==null?void 0:C.data)==null?void 0:T.error)||"Registration failed. Please try again.")}finally{u(!1)}},A=E(w.score);return m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-card register-card",children:[m.jsxs("div",{className:"auth-header",children:[m.jsx("div",{className:"auth-logo",children:m.jsx("img",{src:"/mightysky-logo.svg",alt:"Mightysky",style:{width:"70px",height:"70px"}})}),m.jsx("h1",{className:"auth-title",children:"Mightysky"}),m.jsx("p",{className:"auth-tagline",children:"Interview Answer Assistant"}),m.jsx("h2",{className:"auth-subtitle",children:"Create Your Account"})]}),i&&m.jsxs("div",{className:"alert alert-error",children:[m.jsx(fs,{size:18}),m.jsx("span",{children:i})]}),m.jsxs("form",{onSubmit:_,className:"auth-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(GT,{size:16}),"Full Name"]}),m.jsx("input",{type:"text",className:"input input-with-icon",value:r.fullName,onChange:N=>n({...r,fullName:N.target.value}),placeholder:"John Doe",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(kx,{size:16}),"Email Address"]}),m.jsx("input",{type:"email",className:"input input-with-icon",value:r.email,onChange:N=>n({...r,email:N.target.value}),placeholder:"you@example.com",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(El,{size:16}),"Password"]}),m.jsxs("div",{className:"password-input-wrapper",children:[m.jsx("input",{type:f?"text":"password",className:"input input-with-icon",value:r.password,onChange:N=>n({...r,password:N.target.value}),placeholder:"Create a strong password",required:!0}),m.jsx("button",{type:"button",onClick:()=>d(!f),className:"password-toggle",children:f?m.jsx(jn,{size:18}):m.jsx(Yn,{size:18})})]}),r.password&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"password-strength-bar",children:m.jsx("div",{className:`password-strength-fill ${A.color}`,style:{width:`${w.score/5*100}%`}})}),A.text&&m.jsx("div",{className:`password-strength-label ${A.color}`,children:A.text}),m.jsx("div",{className:"password-requirements",children:Object.entries({length:"At least 8 characters",uppercase:"One uppercase letter",lowercase:"One lowercase letter",number:"One number",special:"One special character"}).map(([N,C])=>m.jsxs("div",{className:"requirement",children:[w.checks[N]?m.jsx(ns,{size:14,className:"check-icon success"}):m.jsx(Nh,{size:14,className:"check-icon"}),m.jsx("span",{className:w.checks[N]?"met":"",children:C})]},N))})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(El,{size:16}),"Confirm Password"]}),m.jsxs("div",{className:"password-input-wrapper",children:[m.jsx("input",{type:g?"text":"password",className:"input input-with-icon",value:r.confirmPassword,onChange:N=>n({...r,confirmPassword:N.target.value}),placeholder:"Confirm your password",required:!0}),m.jsx("button",{type:"button",onClick:()=>v(!g),className:"password-toggle",children:g?m.jsx(jn,{size:18}):m.jsx(Yn,{size:18})})]}),r.confirmPassword&&r.password!==r.confirmPassword&&m.jsxs("div",{className:"password-mismatch",children:[m.jsx(Nh,{size:14}),"Passwords do not match"]}),r.confirmPassword&&r.password===r.confirmPassword&&m.jsxs("div",{className:"password-match",children:[m.jsx(ns,{size:14}),"Passwords match"]})]}),m.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:o||w.score<3,children:o?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner"}),"Creating account..."]}):"Create Account"})]}),m.jsx("div",{className:"auth-divider",children:m.jsx("span",{children:"or continue with"})}),m.jsxs("div",{className:"oauth-buttons",children:[m.jsxs("button",{onClick:()=>window.location.href="/api/auth/google",className:"btn btn-outline btn-block oauth-btn",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},type:"button",children:[m.jsxs("svg",{className:"oauth-icon",viewBox:"0 0 24 24",width:"20",height:"20",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),m.jsxs("button",{onClick:()=>window.location.href="/api/auth/github",className:"btn btn-outline btn-block oauth-btn",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},type:"button",children:[m.jsx("svg",{className:"oauth-icon",viewBox:"0 0 24 24",width:"20",height:"20",children:m.jsx("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"})}),"GitHub"]})]}),m.jsxs("p",{className:"auth-footer",children:["Already have an account? ",m.jsx(xl,{to:"/login",children:"Sign In"})]})]})})}function CL(){const[e,t]=B.useState(""),[r,n]=B.useState(!1),[i,s]=B.useState(!1),[o,u]=B.useState(""),f=async d=>{var g,v;d.preventDefault(),u(""),n(!0);try{await sl.forgotPassword({email:e}),s(!0)}catch(w){u(((v=(g=w.response)==null?void 0:g.data)==null?void 0:v.error)||"Failed to send reset email. Please try again.")}finally{n(!1)}};return i?m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-card",children:[m.jsxs("div",{className:"auth-header",children:[m.jsx("div",{className:"auth-logo success-logo",children:m.jsx(ns,{size:40})}),m.jsx("h1",{className:"auth-title",children:"Check Your Email"}),m.jsxs("p",{className:"auth-subtitle",children:["We've sent password reset instructions to ",e]})]}),m.jsxs("div",{className:"success-message",children:[m.jsx("p",{children:"If an account exists with this email address, you'll receive instructions to reset your password shortly."}),m.jsx("p",{children:"Didn't receive the email? Check your spam folder or try again."})]}),m.jsxs(xl,{to:"/login",className:"btn btn-primary btn-block",style:{textDecoration:"none"},children:[m.jsx(K2,{size:18}),"Back to Sign In"]})]})}):m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-card",children:[m.jsxs("div",{className:"auth-header",children:[m.jsx("div",{className:"auth-logo",children:m.jsx("img",{src:"/mightysky-logo.svg",alt:"Mightysky",style:{width:"70px",height:"70px"}})}),m.jsx("h1",{className:"auth-title",children:"Mightysky"}),m.jsx("p",{className:"auth-tagline",children:"Interview Answer Assistant"}),m.jsx("p",{className:"auth-subtitle",children:"Enter your email and we'll send you instructions to reset your password"})]}),o&&m.jsxs("div",{className:"alert alert-error",children:[m.jsx(fs,{size:18}),m.jsx("span",{children:o})]}),m.jsxs("form",{onSubmit:f,className:"auth-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(kx,{size:16}),"Email Address"]}),m.jsx("input",{type:"email",className:"input input-with-icon",value:e,onChange:d=>t(d.target.value),placeholder:"you@example.com",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:r,children:r?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner"}),"Sending..."]}):"Send Reset Link"})]}),m.jsx("div",{className:"auth-footer",children:m.jsxs(xl,{to:"/login",className:"back-link",children:[m.jsx(K2,{size:16}),"Back to Sign In"]})})]})})}function OL(){const e=wn(),[t]=sT(),r=t.get("token"),[n,i]=B.useState({password:"",confirmPassword:""}),[s,o]=B.useState(!1),[u,f]=B.useState(!1),[d,g]=B.useState(!1),[v,w]=B.useState(""),[S,E]=B.useState(!1),[_,A]=B.useState({score:0,checks:{length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}});B.useEffect(()=>{r||w("Invalid or missing reset token")},[r]),B.useEffect(()=>{const I=n.password,P={length:I.length>=8,uppercase:/[A-Z]/.test(I),lowercase:/[a-z]/.test(I),number:/\d/.test(I),special:/[!@#$%^&*(),.?":{}|<>]/.test(I)},k=Object.values(P).filter(Boolean).length;A({score:k,checks:P})},[n.password]);const N=I=>I===0?{text:"",color:""}:I<=2?{text:"Weak",color:"strength-weak"}:I<=3?{text:"Fair",color:"strength-fair"}:I<=4?{text:"Good",color:"strength-good"}:{text:"Strong",color:"strength-strong"},C=async I=>{var P,k;if(I.preventDefault(),w(""),n.password!==n.confirmPassword){w("Passwords do not match");return}if(_.score<3){w("Password is too weak. Please meet at least 3 requirements.");return}g(!0);try{await sl.resetPassword({token:r,password:n.password}),E(!0),setTimeout(()=>e("/login"),3e3)}catch(R){w(((k=(P=R.response)==null?void 0:P.data)==null?void 0:k.error)||"Failed to reset password. Please try again.")}finally{g(!1)}};if(S)return m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-card",children:[m.jsxs("div",{className:"auth-header",children:[m.jsx("div",{className:"auth-logo success-logo",children:m.jsx(ns,{size:40})}),m.jsx("h1",{className:"auth-title",children:"Password Reset Successful"}),m.jsx("p",{className:"auth-subtitle",children:"Your password has been updated successfully"})]}),m.jsx("div",{className:"success-message",children:m.jsx("p",{children:"Redirecting you to the login page..."})})]})});const T=N(_.score);return m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-card",children:[m.jsxs("div",{className:"auth-header",children:[m.jsx("div",{className:"auth-logo",children:m.jsx("img",{src:"/mightysky-logo.svg",alt:"Mightysky",style:{width:"70px",height:"70px"}})}),m.jsx("h1",{className:"auth-title",children:"Mightysky"}),m.jsx("p",{className:"auth-tagline",children:"Interview Answer Assistant"}),m.jsx("p",{className:"auth-subtitle",children:"Enter a strong password for your account"})]}),v&&m.jsxs("div",{className:"alert alert-error",children:[m.jsx(fs,{size:18}),m.jsx("span",{children:v})]}),m.jsxs("form",{onSubmit:C,className:"auth-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(El,{size:16}),"New Password"]}),m.jsxs("div",{className:"password-input-wrapper",children:[m.jsx("input",{type:s?"text":"password",className:"input input-with-icon",value:n.password,onChange:I=>i({...n,password:I.target.value}),placeholder:"Create a strong password",required:!0,autoFocus:!0,disabled:!r}),m.jsx("button",{type:"button",onClick:()=>o(!s),className:"password-toggle",disabled:!r,children:s?m.jsx(jn,{size:18}):m.jsx(Yn,{size:18})})]}),n.password&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"password-strength-bar",children:m.jsx("div",{className:`password-strength-fill ${T.color}`,style:{width:`${_.score/5*100}%`}})}),T.text&&m.jsx("div",{className:`password-strength-label ${T.color}`,children:T.text}),m.jsx("div",{className:"password-requirements",children:Object.entries({length:"At least 8 characters",uppercase:"One uppercase letter",lowercase:"One lowercase letter",number:"One number",special:"One special character"}).map(([I,P])=>m.jsxs("div",{className:"requirement",children:[_.checks[I]?m.jsx(ns,{size:14,className:"check-icon success"}):m.jsx(Nh,{size:14,className:"check-icon"}),m.jsx("span",{className:_.checks[I]?"met":"",children:P})]},I))})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"label",children:[m.jsx(El,{size:16}),"Confirm New Password"]}),m.jsxs("div",{className:"password-input-wrapper",children:[m.jsx("input",{type:u?"text":"password",className:"input input-with-icon",value:n.confirmPassword,onChange:I=>i({...n,confirmPassword:I.target.value}),placeholder:"Confirm your password",required:!0,disabled:!r}),m.jsx("button",{type:"button",onClick:()=>f(!u),className:"password-toggle",disabled:!r,children:u?m.jsx(jn,{size:18}):m.jsx(Yn,{size:18})})]}),n.confirmPassword&&n.password!==n.confirmPassword&&m.jsxs("div",{className:"password-mismatch",children:[m.jsx(Nh,{size:14}),"Passwords do not match"]}),n.confirmPassword&&n.password===n.confirmPassword&&m.jsxs("div",{className:"password-match",children:[m.jsx(ns,{size:14}),"Passwords match"]})]}),m.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:d||!r||_.score<3,children:d?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner"}),"Resetting Password..."]}):"Reset Password"})]}),m.jsx("div",{className:"auth-footer",children:m.jsx(xl,{to:"/login",children:"Remember your password? Sign In"})})]})})}function TL(){return B.useEffect(()=>{window.location.href="/api/auth/google";const e=setInterval(()=>{window.location.pathname==="/google-auth"&&(window.location.href="/api/auth/google")},2e3);return()=>clearInterval(e)},[]),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",flexDirection:"column",gap:"1rem",color:"white",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:[m.jsx("div",{className:"spinner",style:{border:"4px solid rgba(255, 255, 255, 0.3)",borderRadius:"50%",borderTop:"4px solid white",width:"50px",height:"50px",animation:"spin 1s linear infinite"}}),m.jsx("h2",{style:{margin:0},children:"Redirecting to Google..."}),m.jsx("p",{style:{opacity:.9},children:"Please wait"})]})}function NL(){const e=wn(),[t]=sT(),{setAuth:r,token:n}=so(),[i,s]=B.useState(null),[o,u]=B.useState(!0),[f,d]=B.useState("");return B.useEffect(()=>{(async()=>{try{const v=$t.getPlatform(),w=t.get("token"),S=t.get("user"),E=t.get("error"),_=t.get("error_description"),A=`Platform: ${v}, Token: ${!!w}, User: ${!!S}, Error: ${E}`;if(console.log("🔐 OAuth Callback Debug:",A),d(A),E){s(`OAuth Error: ${_||E}. If using mobile, you may need to configure OAuth correctly. Try email/password login instead.`),u(!1),setTimeout(()=>e("/login"),3e3);return}if(!w||!S){s("Invalid authentication response. Missing token or user data."),u(!1),setTimeout(()=>e("/login"),2e3);return}const N=JSON.parse(decodeURIComponent(S));r(w,N);try{al.flushPendingPushToken()}catch{}const C=50;let T=0;const I=()=>{var k;T++;const P=localStorage.getItem("auth-storage");if(P)try{const R=JSON.parse(P);if(((k=R==null?void 0:R.state)==null?void 0:k.token)===w){console.log("✅ Auth stored successfully, navigating to dashboard"),e("/",{replace:!0});return}}catch(R){console.warn("Failed to parse stored auth:",R)}T<C?setTimeout(I,100):(console.warn("Timeout waiting for localStorage sync, navigating anyway"),e("/",{replace:!0}))};I()}catch(v){console.error("OAuth callback error:",v),s(`Authentication failed: ${v.message}. Try email/password login instead.`),u(!1),setTimeout(()=>e("/login"),2e3)}})()},[t,r,e]),m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",flexDirection:"column",gap:"1rem",padding:"2rem",textAlign:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},children:i?m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{color:"#ffaaaa",fontSize:"1.2rem"},children:"❌"}),m.jsx("p",{style:{color:"#ffaaaa",maxWidth:"500px"},children:i}),f&&m.jsx("p",{style:{fontSize:"12px",opacity:.7,marginTop:"1rem",fontFamily:"monospace"},children:f}),m.jsx("p",{style:{fontSize:"14px",marginTop:"1rem"},children:"Redirecting to login..."})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner"}),m.jsx("p",{children:"Signing you in..."}),f&&m.jsx("p",{style:{fontSize:"12px",opacity:.7,marginTop:"1rem",fontFamily:"monospace"},children:f})]})})}function IL(){var Oe,Pr,$e,Me;const e=wn(),{user:t}=so(),[r,n]=B.useState([]),[i,s]=B.useState(null),[o,u]=B.useState(!0),[f,d]=B.useState(!1),[g,v]=B.useState({title:"",companyName:"",position:"",sessionType:"general"}),[w,S]=B.useState(null),[E,_]=B.useState(null),[A,N]=B.useState(null),[C,T]=B.useState(""),[I,P]=B.useState(""),[k,R]=B.useState(!1),F=B.useRef(null),L=B.useRef(null),K=B.useRef(null),[V,U]=B.useState(null),[J,Q]=B.useState(!1),[H,ee]=B.useState(""),[Z,Y]=B.useState(!1),[ae,ne]=B.useState("paystack"),[de,le]=B.useState(""),[Se,Te]=B.useState(""),[qe,we]=B.useState(""),[Ot,rt]=B.useState(""),[be,Ce]=B.useState(""),[pe,ue]=B.useState([]),Ae=async()=>{try{const fe=await er.get("/api/subscriptions/history");ue(fe.data||[])}catch{ue([])}};B.useEffect(()=>{Ae()},[]),B.useEffect(()=>{st(),Re()},[]);const Re=async()=>{Q(!0),ee("");try{const fe=await er.get("/api/subscriptions/status");U(fe.data)}catch{ee("Failed to load subscription status"),U(null)}finally{Q(!1)}},st=async()=>{try{u(!0);try{const fe=await Ui.getAll({limit:10});n(fe.data.sessions||[])}catch(fe){console.warn("Failed to load sessions:",fe),n([])}try{const fe=await LT.getUserAnalytics({period:30});s(fe.data)}catch(fe){console.warn("Failed to load analytics:",fe),s({sessionStats:{total_sessions:0,avg_duration:0,total_questions:0,completed_sessions:0},trends:[],responseStats:{}})}}catch(fe){console.error("Failed to load dashboard data:",fe)}finally{u(!1)}},ft=async fe=>{var De,Xe;fe.preventDefault();try{const _e={...g,aiInstructions:C.trim()||null},Mt=(await Ui.create(_e)).data.session.id;R(!0),P("");try{w&&await au.uploadCV(w),E&&await au.uploadJobDescription(E),A&&await au.uploadPersonSpec(A)}catch(at){console.warn("Document upload failed, but session created:",at)}R(!1),S(null),_(null),N(null),T(""),v({title:"",companyName:"",position:"",sessionType:"general"}),d(!1),e(`/session/${Mt}`)}catch(_e){let Be="Failed to create session. Please try again.";(Xe=(De=_e==null?void 0:_e.response)==null?void 0:De.data)!=null&&Xe.error?Be=_e.response.data.error:_e!=null&&_e.message&&(Be=_e.message),console.error("Failed to create session:",JSON.stringify(_e,Object.getOwnPropertyNames(_e))),P(Be)}},Qe=fe=>{var Xe;const De=(Xe=fe.target.files)==null?void 0:Xe[0];if(De){if(De.size>10*1024*1024){P("CV file must be less than 10MB");return}S(De),P("")}},Je=fe=>{var Xe;const De=(Xe=fe.target.files)==null?void 0:Xe[0];if(De){if(De.size>5*1024*1024){P("Job description file must be less than 5MB");return}_(De),P("")}},Ke=fe=>{var Xe;const De=(Xe=fe.target.files)==null?void 0:Xe[0];if(De){if(De.size>5*1024*1024){P("Person specification file must be less than 5MB");return}N(De),P("")}},zr=fe=>{if(!fe)return"N/A";const De=Math.floor(fe/60),Xe=fe%60;return`${De}m ${Xe}s`};return o?m.jsxs("div",{className:"loading-container",children:[m.jsx("div",{className:"spinner"}),m.jsx("p",{children:"Loading dashboard..."})]}):m.jsxs("div",{className:"dashboard modern-ui",children:[m.jsxs("div",{className:"dashboard-header",children:[m.jsxs("h1",{children:["Welcome, ",(t==null?void 0:t.name)||"User","!"]}),m.jsx("button",{className:"btn btn-primary",onClick:()=>d(!0),children:"New Session"})]}),m.jsxs("div",{className:"dashboard-options",children:[m.jsx("button",{className:"option-btn",onClick:()=>e("/analytics"),children:"View Analytics"}),m.jsx("button",{className:"option-btn",onClick:()=>e("/settings"),children:"Settings"}),m.jsx("button",{className:"option-btn",onClick:()=>e("/mobile"),children:"Mobile Mode"}),m.jsx("button",{className:"option-btn",onClick:()=>e("/stealth"),children:"Stealth Mode"})]}),m.jsxs("div",{className:"dashboard-content",children:[m.jsxs("div",{className:"sessions-section card",children:[m.jsx("h2",{className:"card-title",children:"Recent Sessions"}),r.length===0?m.jsx("p",{children:"No sessions yet."}):m.jsx("ul",{className:"sessions-list",children:r.map(fe=>m.jsxs("li",{className:"session-item",children:[m.jsx("span",{children:fe.title}),m.jsx("span",{children:fe.companyName}),m.jsx("span",{children:zr(fe.duration)}),m.jsx("button",{className:"btn btn-secondary",onClick:()=>e(`/session/${fe.id}`),children:"Open"})]},fe.id))})]}),m.jsxs("div",{className:"analytics-section card",children:[m.jsx("h2",{className:"card-title",children:"Your Analytics"}),i?m.jsxs("div",{className:"analytics-stats",children:[m.jsxs("p",{children:[m.jsx("b",{children:"Total Sessions:"})," ",i.sessionStats.total_sessions]}),m.jsxs("p",{children:[m.jsx("b",{children:"Avg Duration:"})," ",zr(i.sessionStats.avg_duration)]}),m.jsxs("p",{children:[m.jsx("b",{children:"Completed Sessions:"})," ",i.sessionStats.completed_sessions]}),m.jsx("button",{className:"btn btn-primary",onClick:()=>e("/analytics"),children:"More Analytics"})]}):m.jsx("p",{children:"No analytics data."})]}),f&&m.jsx("div",{className:"modal",children:m.jsxs("div",{className:"modal-content",children:[m.jsx("h2",{children:"Start New Session"}),m.jsxs("form",{onSubmit:ft,children:[m.jsx("input",{type:"text",placeholder:"Session Title",value:g.title,onChange:fe=>v({...g,title:fe.target.value}),required:!0}),m.jsx("input",{type:"text",placeholder:"Company Name",value:g.companyName,onChange:fe=>v({...g,companyName:fe.target.value}),required:!0}),m.jsx("input",{type:"text",placeholder:"Position",value:g.position,onChange:fe=>v({...g,position:fe.target.value}),required:!0}),m.jsxs("select",{value:g.sessionType,onChange:fe=>v({...g,sessionType:fe.target.value}),children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"interview",children:"Interview"}),m.jsx("option",{value:"practice",children:"Practice"})]}),m.jsx("textarea",{placeholder:"AI Instructions (optional)",value:C,onChange:fe=>T(fe.target.value)}),m.jsxs("div",{className:"file-upload",children:[m.jsx("label",{children:"Upload CV:"}),m.jsx("input",{type:"file",ref:F,onChange:Qe}),m.jsx("label",{children:"Upload Job Description:"}),m.jsx("input",{type:"file",ref:L,onChange:Je}),m.jsx("label",{children:"Upload Person Spec:"}),m.jsx("input",{type:"file",ref:K,onChange:Ke})]}),I&&m.jsx("div",{className:"alert-error",children:I}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:k,children:"Create Session"}),m.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"})]})]})}),m.jsxs("div",{className:"payment-history card",children:[m.jsx("h3",{className:"card-title",children:"Payment History"}),pe.length===0?m.jsx("p",{children:"No payments yet."}):m.jsxs("table",{className:"payment-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Date"}),m.jsx("th",{children:"Method"}),m.jsx("th",{children:"Amount"}),m.jsx("th",{children:"Status"})]})}),m.jsx("tbody",{children:pe.map((fe,De)=>m.jsxs("tr",{children:[m.jsx("td",{children:new Date(fe.date).toLocaleString()}),m.jsx("td",{children:fe.method}),m.jsx("td",{children:fe.amount?`$${fe.amount}`:"N/A"}),m.jsx("td",{children:fe.status})]},De))})]})]})]}),m.jsxs("div",{className:"dashboard-header",children:[m.jsxs("div",{children:[m.jsx("h1",{children:"Dashboard"}),m.jsx("p",{className:"subtitle",children:"Manage your interview sessions"})]}),m.jsxs("button",{className:"btn btn-primary",onClick:()=>d(!0),children:[m.jsx($D,{size:20}),"New Session"]})]}),m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#dbeafe"},children:m.jsx(FT,{size:24,color:"#3b82f6"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:((Oe=i==null?void 0:i.sessionStats)==null?void 0:Oe.total_sessions)||0}),m.jsx("div",{className:"stat-label",children:"Total Sessions"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#d1fae5"},children:m.jsx(Ru,{size:24,color:"#10b981"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:((Pr=i==null?void 0:i.sessionStats)==null?void 0:Pr.total_questions)||0}),m.jsx("div",{className:"stat-label",children:"Questions Answered"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#fce7f3"},children:m.jsx(HT,{size:24,color:"#ec4899"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:zr(($e=i==null?void 0:i.sessionStats)==null?void 0:$e.avg_duration)}),m.jsx("div",{className:"stat-label",children:"Avg Duration"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#e0e7ff"},children:m.jsx(Ru,{size:24,color:"#6366f1"})}),m.jsxs("div",{className:"stat-content",children:[m.jsxs("div",{className:"stat-value",children:[Math.round(((Me=i==null?void 0:i.responseStats)==null?void 0:Me.avg_response_time)||0),"ms"]}),m.jsx("div",{className:"stat-label",children:"Avg Response Time"})]})]})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{className:"card-title",children:"Recent Sessions"}),r.length===0?m.jsx("div",{className:"empty-state",children:m.jsx("p",{children:"No sessions yet. Create your first session to get started!"})}):m.jsx("div",{className:"sessions-list",children:r.map(fe=>m.jsxs("div",{className:"session-item",onClick:()=>e(`/session/${fe.id}`),children:[m.jsxs("div",{className:"session-info",children:[m.jsx("h3",{children:fe.title}),m.jsxs("div",{className:"session-meta",children:[fe.company_name&&m.jsx("span",{children:fe.company_name}),fe.position&&m.jsxs("span",{children:["• ",fe.position]})]})]}),m.jsxs("div",{className:"session-stats",children:[m.jsxs("div",{className:"stat-badge",children:[fe.question_count||fe.total_questions||0," questions"]}),m.jsx("div",{className:"stat-badge",children:fe.status})]})]},fe.id))})]}),f&&m.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:m.jsxs("div",{className:"modal",onClick:fe=>fe.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{children:"New Interview Session"}),m.jsx("button",{className:"modal-close",onClick:()=>{d(!1),S(null),_(null),N(null),T(""),P("")},children:m.jsx(jf,{size:24})})]}),m.jsxs("form",{onSubmit:ft,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"label",children:"Session Title *"}),m.jsx("input",{type:"text",className:"input",value:g.title,onChange:fe=>v({...g,title:fe.target.value}),required:!0,placeholder:"e.g., Frontend Developer Interview",disabled:k})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"label",children:"Company Name"}),m.jsx("input",{type:"text",className:"input",value:g.companyName,onChange:fe=>v({...g,companyName:fe.target.value}),placeholder:"e.g., Tech Corp",disabled:k})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"label",children:"Position"}),m.jsx("input",{type:"text",className:"input",value:g.position,onChange:fe=>v({...g,position:fe.target.value}),placeholder:"e.g., Senior Developer",disabled:k})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"label",children:"Session Type"}),m.jsxs("select",{className:"input",value:g.sessionType,onChange:fe=>v({...g,sessionType:fe.target.value}),disabled:k,children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"technical",children:"Technical"}),m.jsx("option",{value:"behavioral",children:"Behavioral"}),m.jsx("option",{value:"case-study",children:"Case Study"})]})]}),m.jsxs("div",{className:"documents-section",children:[m.jsx("label",{className:"label",children:"Upload Documents (Optional)"}),m.jsx("p",{className:"section-hint",children:"Add your CV and job description to get personalized answers"}),I&&m.jsx("div",{className:"alert alert-error",children:I}),m.jsxs("div",{className:"upload-box",children:[m.jsx("div",{className:"upload-icon",children:m.jsx(Px,{size:40})}),m.jsxs("div",{className:"upload-content",children:[m.jsx("h4",{children:"Your CV/Resume"}),m.jsx("p",{className:"upload-text",children:w?w.name:"Upload your resume for personalized answers"}),m.jsx("input",{type:"file",ref:F,onChange:Qe,accept:".pdf,.doc,.docx,.txt",className:"hidden-input",disabled:k}),m.jsx("button",{type:"button",onClick:()=>{var fe;return(fe=F.current)==null?void 0:fe.click()},className:"btn btn-secondary btn-small",disabled:k,children:w?"✓ Selected":"Choose File"})]})]}),m.jsxs("div",{className:"upload-box",children:[m.jsx("div",{className:"upload-icon",children:m.jsx(Ix,{size:40})}),m.jsxs("div",{className:"upload-content",children:[m.jsx("h4",{children:"Job Description"}),m.jsx("p",{className:"upload-text",children:E?E.name:"Upload the job posting to tailor answers"}),m.jsx("input",{type:"file",ref:L,onChange:Je,accept:".pdf,.doc,.docx,.txt",className:"hidden-input",disabled:k}),m.jsx("button",{type:"button",onClick:()=>{var fe;return(fe=L.current)==null?void 0:fe.click()},className:"btn btn-secondary btn-small",disabled:k,children:E?"✓ Selected":"Choose File"})]})]}),m.jsxs("div",{className:"upload-box",children:[m.jsx("div",{className:"upload-icon",children:m.jsx(GT,{size:40})}),m.jsxs("div",{className:"upload-content",children:[m.jsx("h4",{children:"Person Specification"}),m.jsx("p",{className:"upload-text",children:A?A.name:"Upload person spec for better matching"}),m.jsx("input",{type:"file",ref:K,onChange:Ke,accept:".pdf,.doc,.docx,.txt",className:"hidden-input",disabled:k}),m.jsx("button",{type:"button",onClick:()=>{var fe;return(fe=K.current)==null?void 0:fe.click()},className:"btn btn-secondary btn-small",disabled:k,children:A?"✓ Selected":"Choose File"})]})]}),m.jsxs("div",{className:"ai-instructions-box",children:[m.jsxs("div",{className:"ai-instructions-header",children:[m.jsx(MD,{size:24}),m.jsx("h4",{children:"AI Instructions"})]}),m.jsx("p",{className:"upload-text",children:"Tell the AI how to format answers (optional)"}),m.jsx("textarea",{className:"input ai-instructions-textarea",value:C,onChange:fe=>T(fe.target.value),placeholder:`Examples:\r
• Use STAR method (Situation, Task, Action, Result)\r
• Use STARR method (add Reflection at the end)\r
• Keep answers concise - 2 minutes max\r
• Focus on leadership and teamwork examples\r
• Include metrics and numbers where possible\r
• Tailor for senior management role`,rows:5,disabled:k})]})]}),m.jsxs("div",{className:"modal-actions",children:[m.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d(!1),S(null),_(null),N(null),T(""),P("")},disabled:k,children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:k,children:k?"Uploading...":"Start Session"})]})]})]})})]})}function PL(){const e=wn(),{user:t,logout:r}=so(),[n,i]=B.useState(null),[s,o]=B.useState([]),[u,f]=B.useState(null),[d,g]=B.useState(!0),[v,w]=B.useState("overview"),[S,E]=B.useState(!0),[_,A]=B.useState("");B.useEffect(()=>{if((t==null?void 0:t.role)!=="admin"){e("/");return}N()},[t,e]);const N=async()=>{try{g(!0);const[I,P,k]=await Promise.all([ut.get("/admin/dashboard"),ut.get("/admin/users?limit=10"),ut.get("/admin/analytics?period=30")]);i(I.data),o(P.data.users),f(k.data)}catch(I){console.error("Failed to load admin data:",I)}finally{g(!1)}},C=()=>{r(),e("/login")},T=s.filter(I=>I.email.toLowerCase().includes(_.toLowerCase())||I.full_name.toLowerCase().includes(_.toLowerCase()));return d?m.jsxs("div",{className:"admin-loading",children:[m.jsx("div",{className:"spinner"}),m.jsx("p",{children:"Loading admin dashboard..."})]}):m.jsxs("div",{className:"admin-layout",children:[m.jsxs("aside",{className:`admin-sidebar ${S?"open":"closed"}`,children:[m.jsxs("div",{className:"admin-header",children:[m.jsxs("div",{className:"admin-logo",children:[m.jsx("img",{src:"/mightysky-logo.svg",alt:"Mightysky",style:{width:"32px",height:"32px",marginRight:"8px"}}),m.jsx("span",{children:"Mightysky Admin"})]}),m.jsx("button",{className:"sidebar-toggle",onClick:()=>E(!S),children:m.jsx(RD,{size:20})})]}),m.jsxs("nav",{className:"admin-nav",children:[m.jsxs("button",{className:`nav-item ${v==="overview"?"active":""}`,onClick:()=>w("overview"),children:[m.jsx(G2,{size:20}),m.jsx("span",{children:"Overview"})]}),m.jsxs("button",{className:`nav-item ${v==="users"?"active":""}`,onClick:()=>w("users"),children:[m.jsx(Q2,{size:20}),m.jsx("span",{children:"Users"})]}),m.jsxs("button",{className:`nav-item ${v==="analytics"?"active":""}`,onClick:()=>w("analytics"),children:[m.jsx(Ru,{size:20}),m.jsx("span",{children:"Analytics"})]})]}),m.jsxs("button",{className:"logout-btn",onClick:C,children:[m.jsx(rh,{size:20}),m.jsx("span",{children:"Logout"})]})]}),m.jsxs("main",{className:"admin-content",children:[m.jsxs("div",{className:"admin-topbar",children:[m.jsx("h1",{children:"Admin Dashboard"}),m.jsxs("div",{className:"user-info",children:[m.jsx("span",{className:"admin-badge",children:"Admin"}),m.jsx("span",{className:"admin-email",children:t==null?void 0:t.email})]})]}),v==="overview"&&n&&m.jsxs("div",{className:"admin-overview",children:[m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#dbeafe"},children:m.jsx(Q2,{size:24,color:"#3b82f6"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:n.users.total}),m.jsx("div",{className:"stat-label",children:"Total Users"}),m.jsxs("div",{className:"stat-detail",children:["+",n.users.new_this_period," this period"]})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#d1fae5"},children:m.jsx(G2,{size:24,color:"#10b981"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:n.sessions.completed}),m.jsx("div",{className:"stat-label",children:"Completed Sessions"}),m.jsxs("div",{className:"stat-detail",children:[Math.round(n.sessions.completed/n.sessions.total*100),"% completion rate"]})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#fef3c7"},children:m.jsx($T,{size:24,color:"#f59e0b"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:n.activeSessions.count}),m.jsx("div",{className:"stat-label",children:"Active Sessions"}),m.jsx("div",{className:"stat-detail",children:"Last 24 hours"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#fce7f3"},children:m.jsx(Ru,{size:24,color:"#ec4899"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:n.documents.total}),m.jsx("div",{className:"stat-label",children:"Documents Uploaded"}),m.jsxs("div",{className:"stat-detail",children:[n.documents.cvs," CVs, ",n.documents.job_descriptions," JDs"]})]})]})]}),m.jsxs("div",{className:"top-users-section",children:[m.jsx("h2",{children:"Top Users"}),m.jsx("div",{className:"top-users-list",children:n.topUsers.map((I,P)=>m.jsxs("div",{className:"user-rank-item",children:[m.jsx("div",{className:"rank-number",children:P+1}),m.jsxs("div",{className:"rank-info",children:[m.jsx("div",{className:"rank-name",children:I.full_name||I.email}),m.jsx("div",{className:"rank-email",children:I.email})]}),m.jsxs("div",{className:"rank-sessions",children:[I.session_count," sessions"]})]},I.id))})]})]}),v==="users"&&m.jsxs("div",{className:"admin-users",children:[m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{children:"User Management"}),m.jsx("input",{type:"text",placeholder:"Search users...",className:"search-input",value:_,onChange:I=>A(I.target.value)})]}),m.jsx("div",{className:"users-table",children:m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Email"}),m.jsx("th",{children:"Full Name"}),m.jsx("th",{children:"Role"}),m.jsx("th",{children:"Joined"}),m.jsx("th",{children:"Last Login"}),m.jsx("th",{children:"Actions"})]})}),m.jsx("tbody",{children:T.map(I=>m.jsxs("tr",{children:[m.jsx("td",{children:I.email}),m.jsx("td",{children:I.full_name||"N/A"}),m.jsx("td",{children:m.jsx("span",{className:`role-badge role-${I.role}`,children:I.role})}),m.jsx("td",{children:new Date(I.created_at).toLocaleDateString()}),m.jsx("td",{children:I.last_login?new Date(I.last_login).toLocaleDateString():"Never"}),m.jsx("td",{children:m.jsx("button",{className:"btn-view",children:"View Details"})})]},I.id))})]})})]}),v==="analytics"&&u&&m.jsxs("div",{className:"admin-analytics",children:[m.jsx("div",{className:"section-header",children:m.jsx("h2",{children:"Analytics & Trends"})}),m.jsxs("div",{className:"analytics-grid",children:[m.jsxs("div",{className:"analytics-card",children:[m.jsx("h3",{children:"Session Completion Rate"}),m.jsxs("div",{className:"metric-large",children:[u.sessionCompletion.completion_rate,"%"]}),m.jsxs("div",{className:"metric-detail",children:[u.sessionCompletion.completed," of"," ",u.sessionCompletion.total," completed"]})]}),m.jsxs("div",{className:"analytics-card",children:[m.jsx("h3",{children:"Average Session Duration"}),m.jsx("div",{className:"metric-large",children:u.sessionDuration.avg_seconds?`${Math.round(u.sessionDuration.avg_seconds/60)}m`:"N/A"}),m.jsxs("div",{className:"metric-detail",children:["Min: ",Math.round(u.sessionDuration.min_seconds/60),"m | Max:"," ",Math.round(u.sessionDuration.max_seconds/60),"m"]})]})]}),m.jsxs("div",{className:"features-section",children:[m.jsx("h3",{children:"Feature Usage"}),m.jsx("div",{className:"features-list",children:u.features.map(I=>m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-name",children:I.document_type==="cv"?"CV Uploads":"Job Descriptions"}),m.jsx("div",{className:"feature-count",children:I.count})]},I.document_type))})]}),m.jsxs("div",{className:"daily-active-section",children:[m.jsx("h3",{children:"Daily Active Users (Last 30 Days)"}),m.jsx("div",{className:"daily-chart",children:u.dailyActiveUsers.map(I=>m.jsxs("div",{className:"day-bar",children:[m.jsx("div",{className:"bar",style:{height:`${Math.min(100,I.count/10*100)}%`}}),m.jsx("div",{className:"day-label",children:new Date(I.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),m.jsx("div",{className:"day-count",children:I.count})]},I.date))})]})]})]})]})}const kL="modulepreload",jL=function(e){return"/"+e},_S={},tc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(f=>{if(f=jL(f),f in _S)return;_S[f]=!0;const d=f.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":kL,d||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),d)return new Promise((w,S)=>{v.addEventListener("load",w),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},Ca=ri("App",{web:()=>tc(()=>import("./web-BT_hs0MG.js"),[]).then(e=>new e.AppWeb)});var CS;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"})(CS||(CS={}));var OS;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(OS||(OS={}));const RL=ri("Filesystem",{web:()=>tc(()=>import("./web-DRVNT48R.js"),[]).then(e=>new e.FilesystemWeb)}),ma=ri("SpeechRecognition",{web:()=>tc(()=>import("./web-D5Fl89LE.js"),[]).then(e=>new e.SpeechRecognitionWeb)}),cN=ri("AudioRecorder");async function ML(){return await cN.startRecording()}async function DL(){return await cN.stopRecording()}var LL=Object.defineProperty,jh=Object.getOwnPropertySymbols,uN=Object.prototype.hasOwnProperty,fN=Object.prototype.propertyIsEnumerable,TS=(e,t,r)=>t in e?LL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NS=(e,t)=>{for(var r in t||(t={}))uN.call(t,r)&&TS(e,r,t[r]);if(jh)for(var r of jh(t))fN.call(t,r)&&TS(e,r,t[r]);return e},BL=(e,t)=>{var r={};for(var n in e)uN.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&jh)for(var n of jh(e))t.indexOf(n)<0&&fN.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Xa;(e=>{const t=class{constructor(f,d,g,v){if(this.version=f,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],f<t.MIN_VERSION||f>t.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let w=[];for(let E=0;E<this.size;E++)w.push(!1);for(let E=0;E<this.size;E++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(g);if(this.drawCodewords(S),v==-1){let E=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const A=this.getPenaltyScore();A<E&&(v=_,E=A),this.applyMask(_)}}s(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(f,d){const g=e.QrSegment.makeSegments(f);return t.encodeSegments(g,d)}static encodeBinary(f,d){const g=e.QrSegment.makeBytes(f);return t.encodeSegments([g],d)}static encodeSegments(f,d,g=1,v=40,w=-1,S=!0){if(!(t.MIN_VERSION<=g&&g<=v&&v<=t.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let E,_;for(E=g;;E++){const T=t.getNumDataCodewords(E,d)*8,I=u.getTotalBits(f,E);if(I<=T){_=I;break}if(E>=v)throw new RangeError("Data too long")}for(const T of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])S&&_<=t.getNumDataCodewords(E,T)*8&&(d=T);let A=[];for(const T of f){n(T.mode.modeBits,4,A),n(T.numChars,T.mode.numCharCountBits(E),A);for(const I of T.getData())A.push(I)}s(A.length==_);const N=t.getNumDataCodewords(E,d)*8;s(A.length<=N),n(0,Math.min(4,N-A.length),A),n(0,(8-A.length%8)%8,A),s(A.length%8==0);for(let T=236;A.length<N;T^=253)n(T,8,A);let C=[];for(;C.length*8<A.length;)C.push(0);return A.forEach((T,I)=>C[I>>>3]|=T<<7-(I&7)),new t(E,d,C,w)}getModule(f,d){return 0<=f&&f<this.size&&0<=d&&d<this.size&&this.modules[d][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),d=f.length;for(let g=0;g<d;g++)for(let v=0;v<d;v++)g==0&&v==0||g==0&&v==d-1||g==d-1&&v==0||this.drawAlignmentPattern(f[g],f[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const d=this.errorCorrectionLevel.formatBits<<3|f;let g=d;for(let w=0;w<10;w++)g=g<<1^(g>>>9)*1335;const v=(d<<10|g)^21522;s(v>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,i(v,w));this.setFunctionModule(8,7,i(v,6)),this.setFunctionModule(8,8,i(v,7)),this.setFunctionModule(7,8,i(v,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,i(v,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,i(v,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,i(v,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let g=0;g<12;g++)f=f<<1^(f>>>11)*7973;const d=this.version<<12|f;s(d>>>18==0);for(let g=0;g<18;g++){const v=i(d,g),w=this.size-11+g%3,S=Math.floor(g/3);this.setFunctionModule(w,S,v),this.setFunctionModule(S,w,v)}}drawFinderPattern(f,d){for(let g=-4;g<=4;g++)for(let v=-4;v<=4;v++){const w=Math.max(Math.abs(v),Math.abs(g)),S=f+v,E=d+g;0<=S&&S<this.size&&0<=E&&E<this.size&&this.setFunctionModule(S,E,w!=2&&w!=4)}}drawAlignmentPattern(f,d){for(let g=-2;g<=2;g++)for(let v=-2;v<=2;v++)this.setFunctionModule(f+v,d+g,Math.max(Math.abs(v),Math.abs(g))!=1)}setFunctionModule(f,d,g){this.modules[d][f]=g,this.isFunction[d][f]=!0}addEccAndInterleave(f){const d=this.version,g=this.errorCorrectionLevel;if(f.length!=t.getNumDataCodewords(d,g))throw new RangeError("Invalid argument");const v=t.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][d],w=t.ECC_CODEWORDS_PER_BLOCK[g.ordinal][d],S=Math.floor(t.getNumRawDataModules(d)/8),E=v-S%v,_=Math.floor(S/v);let A=[];const N=t.reedSolomonComputeDivisor(w);for(let T=0,I=0;T<v;T++){let P=f.slice(I,I+_-w+(T<E?0:1));I+=P.length;const k=t.reedSolomonComputeRemainder(P,N);T<E&&P.push(0),A.push(P.concat(k))}let C=[];for(let T=0;T<A[0].length;T++)A.forEach((I,P)=>{(T!=_-w||P>=E)&&C.push(I[T])});return s(C.length==S),C}drawCodewords(f){if(f.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let v=0;v<this.size;v++)for(let w=0;w<2;w++){const S=g-w,_=(g+1&2)==0?this.size-1-v:v;!this.isFunction[_][S]&&d<f.length*8&&(this.modules[_][S]=i(f[d>>>3],7-(d&7)),d++)}}s(d==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let g=0;g<this.size;g++){let v;switch(f){case 0:v=(g+d)%2==0;break;case 1:v=d%2==0;break;case 2:v=g%3==0;break;case 3:v=(g+d)%3==0;break;case 4:v=(Math.floor(g/3)+Math.floor(d/2))%2==0;break;case 5:v=g*d%2+g*d%3==0;break;case 6:v=(g*d%2+g*d%3)%2==0;break;case 7:v=((g+d)%2+g*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][g]&&v&&(this.modules[d][g]=!this.modules[d][g])}}getPenaltyScore(){let f=0;for(let w=0;w<this.size;w++){let S=!1,E=0,_=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[w][A]==S?(E++,E==5?f+=t.PENALTY_N1:E>5&&f++):(this.finderPenaltyAddHistory(E,_),S||(f+=this.finderPenaltyCountPatterns(_)*t.PENALTY_N3),S=this.modules[w][A],E=1);f+=this.finderPenaltyTerminateAndCount(S,E,_)*t.PENALTY_N3}for(let w=0;w<this.size;w++){let S=!1,E=0,_=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][w]==S?(E++,E==5?f+=t.PENALTY_N1:E>5&&f++):(this.finderPenaltyAddHistory(E,_),S||(f+=this.finderPenaltyCountPatterns(_)*t.PENALTY_N3),S=this.modules[A][w],E=1);f+=this.finderPenaltyTerminateAndCount(S,E,_)*t.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let S=0;S<this.size-1;S++){const E=this.modules[w][S];E==this.modules[w][S+1]&&E==this.modules[w+1][S]&&E==this.modules[w+1][S+1]&&(f+=t.PENALTY_N2)}let d=0;for(const w of this.modules)d=w.reduce((S,E)=>S+(E?1:0),d);const g=this.size*this.size,v=Math.ceil(Math.abs(d*20-g*10)/g)-1;return s(0<=v&&v<=9),f+=v*t.PENALTY_N4,s(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let g=[6];for(let v=this.size-7;g.length<f;v-=d)g.splice(1,0,v);return g}}static getNumRawDataModules(f){if(f<t.MIN_VERSION||f>t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*f+128)*f+64;if(f>=2){const g=Math.floor(f/7)+2;d-=(25*g-10)*g-55,f>=7&&(d-=36)}return s(208<=d&&d<=29648),d}static getNumDataCodewords(f,d){return Math.floor(t.getNumRawDataModules(f)/8)-t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][f]*t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let d=[];for(let v=0;v<f-1;v++)d.push(0);d.push(1);let g=1;for(let v=0;v<f;v++){for(let w=0;w<d.length;w++)d[w]=t.reedSolomonMultiply(d[w],g),w+1<d.length&&(d[w]^=d[w+1]);g=t.reedSolomonMultiply(g,2)}return d}static reedSolomonComputeRemainder(f,d){let g=d.map(v=>0);for(const v of f){const w=v^g.shift();g.push(0),d.forEach((S,E)=>g[E]^=t.reedSolomonMultiply(S,w))}return g}static reedSolomonMultiply(f,d){if(f>>>8||d>>>8)throw new RangeError("Byte out of range");let g=0;for(let v=7;v>=0;v--)g=g<<1^(g>>>7)*285,g^=(d>>>v&1)*f;return s(g>>>8==0),g}finderPenaltyCountPatterns(f){const d=f[1];s(d<=this.size*3);const g=d>0&&f[2]==d&&f[3]==d*3&&f[4]==d&&f[5]==d;return(g&&f[0]>=d*4&&f[6]>=d?1:0)+(g&&f[6]>=d*4&&f[0]>=d?1:0)}finderPenaltyTerminateAndCount(f,d,g){return f&&(this.finderPenaltyAddHistory(d,g),d=0),d+=this.size,this.finderPenaltyAddHistory(d,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(f,d){d[0]==0&&(f+=this.size),d.pop(),d.unshift(f)}};let r=t;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function n(f,d,g){if(d<0||d>31||f>>>d)throw new RangeError("Value out of range");for(let v=d-1;v>=0;v--)g.push(f>>>v&1)}function i(f,d){return(f>>>d&1)!=0}function s(f){if(!f)throw new Error("Assertion error")}const o=class{constructor(f,d,g){if(this.mode=f,this.numChars=d,this.bitData=g,d<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(f){let d=[];for(const g of f)n(g,8,d);return new o(o.Mode.BYTE,f.length,d)}static makeNumeric(f){if(!o.isNumeric(f))throw new RangeError("String contains non-numeric characters");let d=[];for(let g=0;g<f.length;){const v=Math.min(f.length-g,3);n(parseInt(f.substr(g,v),10),v*3+1,d),g+=v}return new o(o.Mode.NUMERIC,f.length,d)}static makeAlphanumeric(f){if(!o.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],g;for(g=0;g+2<=f.length;g+=2){let v=o.ALPHANUMERIC_CHARSET.indexOf(f.charAt(g))*45;v+=o.ALPHANUMERIC_CHARSET.indexOf(f.charAt(g+1)),n(v,11,d)}return g<f.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(f.charAt(g)),6,d),new o(o.Mode.ALPHANUMERIC,f.length,d)}static makeSegments(f){return f==""?[]:o.isNumeric(f)?[o.makeNumeric(f)]:o.isAlphanumeric(f)?[o.makeAlphanumeric(f)]:[o.makeBytes(o.toUtf8ByteArray(f))]}static makeEci(f){let d=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)n(f,8,d);else if(f<16384)n(2,2,d),n(f,14,d);else if(f<1e6)n(6,3,d),n(f,21,d);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,d)}static isNumeric(f){return o.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return o.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,d){let g=0;for(const v of f){const w=v.mode.numCharCountBits(d);if(v.numChars>=1<<w)return 1/0;g+=4+w+v.bitData.length}return g}static toUtf8ByteArray(f){f=encodeURI(f);let d=[];for(let g=0;g<f.length;g++)f.charAt(g)!="%"?d.push(f.charCodeAt(g)):(d.push(parseInt(f.substr(g+1,2),16)),g+=2);return d}};let u=o;u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=u})(Xa||(Xa={}));(e=>{(t=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Xa||(Xa={}));(e=>{(t=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Xa||(Xa={}));var Xc=Xa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $L={L:Xc.QrCode.Ecc.LOW,M:Xc.QrCode.Ecc.MEDIUM,Q:Xc.QrCode.Ecc.QUARTILE,H:Xc.QrCode.Ecc.HIGH},FL=128,UL="L",zL="#FFFFFF",HL="#000000",WL=!1,dN=4,VL=.1;function GL(e,t=0){const r=[];return e.forEach(function(n,i){let s=null;n.forEach(function(o,u){if(!o&&s!==null){r.push(`M${s+t} ${i+t}h${u-s}v1H${s+t}z`),s=null;return}if(u===n.length-1){if(!o)return;s===null?r.push(`M${u+t},${i+t} h1v1H${u+t}z`):r.push(`M${s+t},${i+t} h${u+1-s}v1H${s+t}z`);return}o&&s===null&&(s=u)})}),r.join("")}function qL(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function KL(e,t,r,n){if(n==null)return null;const i=r?dN:0,s=e.length+i*2,o=Math.floor(t*VL),u=s/t,f=(n.width||o)*u,d=(n.height||o)*u,g=n.x==null?e.length/2-f/2:n.x*u,v=n.y==null?e.length/2-d/2:n.y*u;let w=null;if(n.excavate){let S=Math.floor(g),E=Math.floor(v),_=Math.ceil(f+g-S),A=Math.ceil(d+v-E);w={x:S,y:E,w:_,h:A}}return{x:g,y:v,h:d,w:f,excavation:w}}var XL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function YL(e){const t=e,{value:r,size:n=FL,level:i=UL,bgColor:s=zL,fgColor:o=HL,includeMargin:u=WL,style:f,imageSettings:d}=t,g=BL(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),v=d==null?void 0:d.src,w=X.useRef(null),S=X.useRef(null),[E,_]=X.useState(!1);X.useEffect(()=>{if(w.current!=null){const C=w.current,T=C.getContext("2d");if(!T)return;let I=Xc.QrCode.encodeText(r,$L[i]).getModules();const P=u?dN:0,k=I.length+P*2,R=KL(I,n,u,d),F=S.current,L=R!=null&&F!==null&&F.complete&&F.naturalHeight!==0&&F.naturalWidth!==0;L&&R.excavation!=null&&(I=qL(I,R.excavation));const K=window.devicePixelRatio||1;C.height=C.width=n*K;const V=n/k*K;T.scale(V,V),T.fillStyle=s,T.fillRect(0,0,k,k),T.fillStyle=o,XL?T.fill(new Path2D(GL(I,P))):I.forEach(function(U,J){U.forEach(function(Q,H){Q&&T.fillRect(H+P,J+P,1,1)})}),L&&T.drawImage(F,R.x+P,R.y+P,R.w,R.h)}}),X.useEffect(()=>{_(!1)},[v]);const A=NS({height:n,width:n},f);let N=null;return v!=null&&(N=X.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{_(!0)},ref:S})),X.createElement(X.Fragment,null,X.createElement("canvas",NS({style:A,height:n,width:n,ref:w},g)),N)}const ZL=np(e=>({currentSession:null,sessions:[],isRecording:!1,setCurrentSession:t=>e({currentSession:t}),setSessions:t=>e({sessions:t}),setRecording:t=>e({isRecording:t}),addQuestion:t=>e(r=>({currentSession:r.currentSession?{...r.currentSession,questions:[...r.currentSession.questions||[],t]}:null})),clearSession:()=>e({currentSession:null,isRecording:!1})})),QL=({isOpen:e,onClose:t,sessionId:r})=>{const[n,i]=B.useState(null),[s,o]=B.useState(null),[u,f]=B.useState(!1),[d,g]=B.useState(300),[v,w]=B.useState(!0),[S,E]=B.useState(2e3),[_,A]=B.useState(!1),N=B.useRef(null),C=B.useRef(null),T=B.useRef(!1),I=B.useRef(new Map),P=B.useMemo(()=>window.location.origin,[]),k=B.useMemo(()=>window.innerWidth<640?240:320,[]);B.useEffect(()=>{if(e&&r){const V=I.current.get(r);V&&Date.now()-V.timestamp<6e4?(i(V.code),o(V.url),g(Math.floor((V.expiresAt-Date.now())/1e3)),w(!1)):F()}return()=>{N.current&&clearInterval(N.current),C.current&&clearInterval(C.current)}},[e,r]);const R=B.useCallback(async()=>{if(!(!n||u)&&!T.current){T.current=!0;try{return(await Ui.checkTransferStatus(n)).data.transferred?(f(!0),N.current&&clearInterval(N.current),C.current&&clearTimeout(C.current),!0):(S<1e4&&E(U=>Math.min(U+500,1e4)),!1)}catch(V){return console.error("Status check failed:",V),E(U=>Math.min(U+1e3,15e3)),!1}finally{T.current=!1}}},[n,u,S]);B.useEffect(()=>{if(!e||!n)return;N.current=setInterval(()=>{g(U=>U<=1?(F(),300):U-1)},1e3);const V=()=>{C.current=setTimeout(async()=>{!await R()&&e&&n&&V()},S)};return V(),()=>{N.current&&clearInterval(N.current),C.current&&clearTimeout(C.current)}},[e,n,S,R]);const F=B.useCallback(async()=>{w(!0);try{const V=await Ui.generateTransferCode(r),{code:U,url:J,expiresIn:Q}=V.data;let H=J;H.startsWith("http")||(H=`${P}${J.startsWith("/")?J:"/"+J}`),console.log("🔍 QR Code Debug:",{code:U,rawUrl:J,qrUrl:H,baseUrl:P,expiresIn:Q}),i(U),o(H),g(Q||300),f(!1),E(2e3),I.current.set(r,{code:U,url:H,timestamp:Date.now(),expiresAt:Date.now()+(Q||300)*1e3});for(const[ee,Z]of I.current.entries())Date.now()-Z.timestamp>3e5&&I.current.delete(ee)}catch(V){console.error("Failed to generate transfer code:",V)}finally{w(!1)}},[r,P]),L=async()=>{if(s)try{await navigator.clipboard.writeText(s),A(!0),setTimeout(()=>A(!1),2e3)}catch{window.prompt("Copy link",s)}},K=()=>{s&&window.open(s,"_blank","noopener,noreferrer")};return e?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 md:p-8 relative shadow-2xl border border-gray-100",children:[m.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:m.jsx(jf,{size:24})}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"mb-4 flex items-center justify-center",children:m.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-3 rounded-full shadow-lg",children:m.jsx(xn,{className:"text-white",size:32})})}),m.jsx("h2",{className:"text-2xl font-bold mb-1 text-gray-900",children:"Transfer to Mobile"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Scan the QR below or open the link to keep this session on your phone."}),v?m.jsx("div",{className:"flex justify-center py-8",children:m.jsx(Bm,{className:"animate-spin text-blue-600",size:32})}):m.jsx(m.Fragment,{children:u?m.jsxs("div",{className:"py-8",children:[m.jsx("div",{className:"bg-green-100 p-4 rounded-full inline-block mb-4",children:m.jsx(ns,{className:"text-green-600",size:48})}),m.jsx("h3",{className:"text-xl font-bold text-green-600 mb-2",children:"Transfer Complete!"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Your session is now active on your mobile device. All answers will appear there."}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-left",children:[m.jsx("div",{className:"font-semibold mb-2",children:"Next Steps:"}),m.jsxs("ul",{className:"space-y-1 text-gray-700",children:[m.jsx("li",{children:"✓ Check your phone - session is active"}),m.jsx("li",{children:"✓ You can now share your desktop screen"}),m.jsx("li",{children:"✓ Answers will appear on your phone"}),m.jsx("li",{children:"✓ Glance at phone naturally during interview"})]})]}),m.jsx("button",{onClick:t,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors mt-4",children:"Got It!"})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"bg-white border-8 border-gray-100 rounded-2xl p-4 mb-4 inline-block shadow-md",children:m.jsx(YL,{value:s||"",size:k,level:"H",includeMargin:!0,bgColor:"#ffffff",fgColor:"#000000","aria-label":"Mobile transfer QR code"})}),m.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl font-bold text-blue-600 tracking-wide",children:n}),m.jsx("div",{className:"text-sm text-gray-600",children:"Transfer Code"})]})}),s&&m.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[m.jsx("div",{className:"text-xs text-gray-700 break-all md:flex-1 md:text-left text-center",children:s}),m.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[m.jsx("button",{onClick:K,className:"px-3 py-2 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700 transition-colors",children:"Open Link"}),m.jsx("button",{onClick:L,className:"px-3 py-2 rounded-lg bg-gray-200 text-gray-800 text-sm hover:bg-gray-300 transition-colors",children:_?"Copied!":"Copy"})]})]})]}),m.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:m.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-800",children:[m.jsx(fs,{size:16}),m.jsxs("div",{children:[m.jsxs("strong",{children:["Expires in ",Math.floor(d/60),":",String(d%60).padStart(2,"0")]}),m.jsx("div",{className:"text-xs",children:"Scan quickly or refresh"})]})]})}),m.jsxs("div",{className:"text-left space-y-2 text-sm text-gray-600 mb-4",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0 text-xs",children:"1"}),m.jsx("div",{children:"Open your camera or QR scanner on your phone"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0 text-xs",children:"2"}),m.jsx("div",{children:"Scan the QR (high-contrast, with margin) so the link is detected"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0 text-xs",children:"3"}),m.jsx("div",{children:"Interview continues on your mobile device"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("div",{className:"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0 text-xs",children:"4"}),m.jsx("div",{children:"Share your desktop screen safely (no app visible)"})]})]}),m.jsxs("button",{onClick:F,className:"w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors flex items-center justify-center gap-2",children:[m.jsx(Bm,{size:16}),"Refresh QR Code"]})]})})]})]})}):null},Ya=np(Ax((e,t)=>({activeDisguise:null,stealthMode:!1,panicKey:{key:"Escape",modifiers:[]},panicAction:"decoy",decoyScreen:"google-search",floatingWidget:{enabled:!1,size:"small",position:"bottom-right",opacity:.9,style:"sticky-note",alwaysOnTop:!0},detection:{screenRecording:!0,screenSharing:!0,autoHide:!0,alertUser:!0},quickCopy:{enabled:!0,singleClick:!0,autoClipboard:!0,showToast:!1},clipboardHistory:[],maxClipboardItems:20,silentMode:!0,pipEnabled:!1,pipPosition:{x:0,y:0},isHidden:!1,originalWindowState:null,setActiveDisguise:r=>e({activeDisguise:r}),toggleStealthMode:()=>e(r=>({stealthMode:!r.stealthMode})),setPanicKey:(r,n)=>e({panicKey:{key:r,modifiers:n}}),setPanicAction:r=>e({panicAction:r}),setDecoyScreen:r=>e({decoyScreen:r}),updateFloatingWidget:r=>e(n=>({floatingWidget:{...n.floatingWidget,...r}})),toggleFloatingWidget:()=>e(r=>({floatingWidget:{...r.floatingWidget,enabled:!r.floatingWidget.enabled}})),updateDetection:r=>e(n=>({detection:{...n.detection,...r}})),updateQuickCopy:r=>e(n=>({quickCopy:{...n.quickCopy,...r}})),addToClipboard:r=>e(n=>({clipboardHistory:[{text:r,timestamp:Date.now()},...n.clipboardHistory].slice(0,n.maxClipboardItems)})),clearClipboardHistory:()=>e({clipboardHistory:[]}),toggleSilentMode:()=>e(r=>({silentMode:!r.silentMode})),togglePIP:()=>e(r=>({pipEnabled:!r.pipEnabled})),setPIPPosition:(r,n)=>e({pipPosition:{x:r,y:n}}),hideApp:()=>e(r=>({isHidden:!0,originalWindowState:{disguise:r.activeDisguise,url:window.location.href}})),showApp:()=>e(r=>(r.originalWindowState,{isHidden:!1,originalWindowState:null})),triggerPanic:()=>{const r=t();switch(r.panicAction){case"minimize":document.hidden!==void 0&&(document.hidden=!0);break;case"decoy":r.hideApp(),window.location.href=`#/decoy/${r.decoyScreen}`;break;case"blank":r.hideApp(),document.body.innerHTML="",document.body.style.background="#ffffff";break;case"close":window.close();break;case"switch-app":window.blur();break}},isScreenBeingRecorded:!1,setScreenRecording:r=>e({isScreenBeingRecorded:r}),resetStealth:()=>e({activeDisguise:null,stealthMode:!1,isHidden:!1,pipEnabled:!1})}),{name:"stealth-storage",partialize:e=>({panicKey:e.panicKey,panicAction:e.panicAction,decoyScreen:e.decoyScreen,floatingWidget:e.floatingWidget,detection:e.detection,quickCopy:e.quickCopy,silentMode:e.silentMode,maxClipboardItems:e.maxClipboardItems})})),JL=({answer:e,isVisible:t,onClose:r,isStreaming:n,formatAnswer:i})=>{const{stealthMode:s}=Ya?Ya():{stealthMode:!1},[o,u]=B.useState(!1),[f,d]=B.useState(!1),[g,v]=B.useState(()=>typeof window<"u"?{x:Math.max(8,(window.innerWidth-420)/2),y:8}:{x:20,y:8}),[w,S]=B.useState({width:480,height:300}),[E,_]=B.useState(!1),[A,N]=B.useState({x:0,y:0}),C=B.useRef(null),T=R=>{if(R.target.closest(".floating-answer-header")&&!R.target.closest("button")){u(!0);const F=C.current.getBoundingClientRect();N({x:R.clientX-F.left,y:R.clientY-F.top})}},I=R=>{if(o&&v({x:R.clientX-A.x,y:R.clientY-A.y}),f){const K=C.current.getBoundingClientRect();S({width:Math.max(320,R.clientX-K.left),height:Math.max(140,R.clientY-K.top)})}},P=()=>{u(!1),d(!1)},k=R=>{R.preventDefault(),d(!0)};return B.useEffect(()=>{if(o||f)return document.addEventListener("mousemove",I),document.addEventListener("mouseup",P),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",P)}},[o,f,A]),!t||!e?null:m.jsxs("div",{ref:C,className:`floating-answer-container${s?" stealth":""}`,style:{position:"fixed",left:`${g.x}px`,top:`${g.y}px`,width:`${w.width}px`,height:E?"auto":`${w.height}px`},onMouseDown:T,children:[m.jsxs("div",{className:"floating-answer-header",children:[m.jsxs("div",{className:"header-content",children:[m.jsx("span",{className:"header-title",children:"✨ AI Answer"}),m.jsx("span",{className:"header-indicator",children:n&&m.jsx("span",{className:"streaming-dot",children:"●"})})]}),m.jsxs("div",{className:"header-controls",children:[m.jsx("button",{className:"icon-btn",onClick:()=>_(!E),title:E?"Expand":"Collapse",children:E?m.jsx(zT,{size:16}):m.jsx(UT,{size:16})}),m.jsx("button",{className:"icon-btn",onClick:()=>navigator.clipboard.writeText(e),title:"Copy answer",children:m.jsx(Ka,{size:16})}),m.jsx("button",{className:"icon-btn close-btn",onClick:r,title:"Close",children:m.jsx(jf,{size:16})})]})]}),!E&&m.jsxs("div",{className:"floating-answer-content",children:[m.jsx("div",{className:"answer-text",dangerouslySetInnerHTML:{__html:i(e)}}),n&&m.jsx("span",{className:"streaming-cursor",children:"▌"})]}),!E&&m.jsx("div",{className:"resize-handle",onMouseDown:k,title:"Drag to resize"})]})};function e9({isScreenShareDetected:e,onScreenShareDetected:t,onMobileRequired:r}){const[n,i]=B.useState(!1),[s,o]=B.useState(null),u=()=>{const g=navigator.userAgent.toLowerCase(),v=document.title.toLowerCase(),w=window.location.href.toLowerCase(),S=[{name:"Zoom",regex:/zoom|zoomvideo/i},{name:"Google Meet",regex:/meet\.google|google.*meet/i},{name:"Microsoft Teams",regex:/teams\.microsoft|teams\.live|microsoft.*teams/i},{name:"Webex",regex:/webex|cisco/i},{name:"Skype",regex:/skype/i},{name:"Discord",regex:/discord/i}];for(const E of S)if(E.regex.test(g)||E.regex.test(v)||E.regex.test(w))return E.name;return null};B.useEffect(()=>{const g=u();o(g),g&&!e&&(i(!0),t(!0))},[e,t]);const f=()=>{r(),i(!1)},d=()=>{i(!1),t(!1)};return n?m.jsx("div",{className:"screen-share-detector-overlay",children:m.jsxs("div",{className:"screen-share-warning-modal",children:[m.jsx("div",{className:"warning-icon",children:m.jsx(fs,{size:48})}),m.jsx("h2",{className:"warning-title",children:"Screen Sharing Detected!"}),m.jsx("p",{className:"warning-message",children:"We detected that you are sharing your entire screen during this interview session. This means the interviewer can see your AI-generated answers!"}),m.jsxs("div",{className:"warning-details",children:[m.jsxs("div",{className:"detail-item",children:[m.jsx(Yn,{size:20}),m.jsxs("div",{children:[m.jsx("strong",{children:"Your Answers Are Visible"}),m.jsx("p",{children:"The interviewer can see the AI-generated answers on your screen"})]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx(xn,{size:20}),m.jsxs("div",{children:[m.jsx("strong",{children:"Switch to Mobile Mode"}),m.jsx("p",{children:"Use a separate mobile device to view answers discreetly"})]})]}),s&&m.jsxs("div",{className:"detail-item",children:[m.jsx(ol,{size:20}),m.jsxs("div",{children:[m.jsxs("strong",{children:[s," Detected"]}),m.jsxs("p",{children:["You are currently in a ",s," session"]})]})]})]}),m.jsxs("div",{className:"warning-actions",children:[m.jsxs("button",{className:"btn-mobile-mode",onClick:f,children:[m.jsx(xn,{size:20}),"Switch to Mobile Mode"]}),m.jsx("button",{className:"btn-stop-sharing",onClick:d,children:"I've Stopped Screen Sharing"})]}),m.jsx("div",{className:"warning-note",children:m.jsx("p",{children:"Mobile mode allows you to use this application on your phone to receive interview answers without exposing them on your laptop screen. Join this session from your mobile device using the QR code."})})]})}):null}function t9(){const{id:e}=tp(),t=wn(),[r,n]=B.useState(null),[i,s]=B.useState(!1),[o,u]=B.useState(""),[f,d]=B.useState(""),[g,v]=B.useState([]),[w,S]=B.useState(!1),[E,_]=B.useState(null),[A,N]=B.useState(!1),[C,T]=B.useState([]),[I,P]=B.useState(0),[k,R]=B.useState(!1),[F,L]=B.useState(!1),[K,V]=B.useState(!1),[U,J]=B.useState(null),[Q,H]=B.useState(!1),[ee,Z]=B.useState(!1),[Y,ae]=B.useState(!1),ne=B.useRef(null),de=B.useRef([]);B.useRef(null);const le=B.useRef("audio/webm"),Se=B.useRef(null),Te=B.useRef(null),{setScreenRecording:qe,stealthMode:we}=Ya(),[Ot,rt]=B.useState(null),be=B.useRef(null);B.useEffect(()=>{Se.current&&Se.current.scrollIntoView({behavior:"smooth"})},[C]),B.useEffect(()=>{(async()=>{try{console.log("📱 Running on platform:",$t.getPlatform()),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&console.log("✅ getUserMedia API available - permission prompt will appear when recording")}catch(Me){console.warn("Media API check failed:",Me)}})()},[]),B.useEffect(()=>{Re()},[e]);const Ce=($e,Me="success")=>{be.current&&clearTimeout(be.current),rt({message:$e,type:Me}),be.current=setTimeout(()=>rt(null),3200)},pe=async()=>{try{$t.isNativePlatform()?await Ca.openSettings():Ce("Please check your browser microphone settings","error")}catch($e){console.error("Failed to open settings:",$e)}},ue=()=>{t(`/mobile/${e}`)},Ae=B.useMemo(()=>{const $e=(Me="")=>Me.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return(Me="")=>$e(Me).replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>")},[]),Re=async()=>{try{const $e=await Ui.getOne(e);n($e.data.session),T($e.data.session.questions||[])}catch($e){console.error("Failed to load session:",$e),alert("Session not found"),t("/")}},st=($e="")=>{const Me=$e.split(";")[0].trim().toLowerCase();return Me.includes("audio/ogg")?"ogg":Me.includes("audio/opus")?"opus":Me.includes("audio/wav")?"wav":Me.includes("audio/mpeg")||Me.includes("audio/mp3")?"mp3":Me.includes("audio/mp4")||Me.includes("audio/x-m4a")?"mp4":"webm"},ft=async()=>{var $e,Me,fe;try{u(""),d(""),_("recording"),console.log("🎤 Starting recording..."),console.log("Platform:",$t.getPlatform()),console.log("Is native platform:",$t.isNativePlatform());const De=$t.getPlatform()==="android"||/android/i.test(navigator.userAgent),Xe=window.SpeechRecognition||window.webkitSpeechRecognition;if($t.isNativePlatform()&&De){console.log("🎤 Using native AudioRecorder plugin on Android..."),console.log("🎤 Calling startNativeRecording()...");try{const _e=await ML();console.log("✅ Native recording started successfully"),console.log("📁 Start result:",JSON.stringify(_e)),s(!0),_("recording");try{if(console.log("🎤 Starting native Speech Recognition for live transcription..."),(await ma.checkPermissions()).speechRecognition!=="granted"&&(await ma.requestPermissions()).speechRecognition!=="granted"&&console.warn("Speech recognition permission not granted"),!(await ma.available()).available){console.warn("Native speech recognition not available on this device");return}let at="";await ma.addListener("partialResults",wt=>{wt.matches&&wt.matches.length>0&&u(at+wt.matches[0])}),await ma.start({language:"en-US",maxResults:3,partialResults:!0,popup:!1}),Te.current={native:!0},console.log("✅ Native speech recognition started")}catch(Be){console.warn("Could not start native speech recognition (non-fatal):",Be)}return}catch(_e){console.error("❌ Failed to start native recording:",_e);const Be=typeof _e=="string"?_e:(_e==null?void 0:_e.message)||"Unknown error";Ce(`❌ Could not start microphone recording: ${Be}`,"error"),_(null),s(!1);return}}if(De||!Xe){if(console.log("🎤 Using MediaRecorder (web)..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){console.error("❌ getUserMedia not available on this device"),Ce("❌ Audio input not supported on this device.","error"),_(null),s(!1);return}let _e=null;try{console.log("Requesting audio stream..."),_e=await navigator.mediaDevices.getUserMedia({audio:!0}),console.log("✅ Got audio stream:",_e.id);const Mt=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg","audio/mp4"].find(wt=>MediaRecorder.isTypeSupported(wt));console.log("Selected audio format:",Mt||"default");const at=new MediaRecorder(_e,Mt?{mimeType:Mt}:void 0);ne.current=at,le.current=Mt||at.mimeType||"audio/webm",de.current=[],at.ondataavailable=wt=>{console.log("Data available, chunk size:",wt.data.size),wt.data.size>0&&de.current.push(wt.data)},at.onstop=async()=>{const wt=le.current||at.mimeType||"audio/webm",et=st(wt),ve=new Blob(de.current,{type:wt});if(console.log("Recording stopped. Total chunks:",de.current.length,"Total size:",ve.size,"bytes"),ve.size===0){Ce("❌ No audio recorded. Check microphone is working.","error"),_e.getTracks().forEach(pt=>pt.stop()),_(null),s(!1);return}if(ve.size<100){Ce("❌ Recording too short. Speak for at least 1-2 seconds.","error"),_e.getTracks().forEach(pt=>pt.stop()),_(null),s(!1);return}console.log("✅ Audio recorded, transcribing..."),_("transcribing"),await zr(ve,et),_e.getTracks().forEach(pt=>pt.stop())},at.onerror=wt=>{console.error("MediaRecorder error:",wt.error),_e&&_e.getTracks().forEach(et=>et.stop()),s(!1),_(null),Ce(`❌ Recording error: ${wt.error}`,"error")},at.start(),s(!0),console.log("✅ Recording started");return}catch(Be){if(console.error("Failed to start recording:",Be.name,Be.message),_e&&_e.getTracks().forEach(Mt=>Mt.stop()),_(null),s(!1),Be.name==="NotAllowedError"){try{if(navigator.permissions&&navigator.permissions.query){const at=await navigator.permissions.query({name:"microphone"});if(console.log("Permissions API microphone state:",at.state),at.state!=="denied"){Ce(`❌ Could not access microphone: ${Be.name||""} ${Be.message||""}`.trim(),"error");return}}}catch(at){console.warn("Permission API check failed:",at)}if(console.log("Microphone permission denied - showing settings option"),window.confirm(`Microphone permission denied.

Enable it in:
Settings > Apps > Interview Assistant > Permissions > Microphone

Tap OK to open Settings.`)){console.log("Opening app settings...");try{await Ca.openSettings()}catch(at){console.error("Could not open settings:",at)}}}else Be.name==="NotFoundError"?Ce("❌ No microphone found on this device.","error"):Be.name==="NotSupportedError"?Ce("❌ Secure context required. This app must be accessed via HTTPS or localhost.","error"):(console.error("Unknown microphone error:",Be),Ce(`❌ Microphone error: ${Be.name||""} ${Be.message||""}`.trim(),"error"));return}}if(Xe){console.log("🎤 Using Web Speech API (desktop)...");const _e=new Xe;Te.current=_e,_e.lang="en-US",_e.continuous=!1,_e.interimResults=!0;let Be="",Mt;_e.onstart=()=>{console.log("🎤 Recording interviewer question..."),s(!0),Mt=setTimeout(()=>{console.log("Recording timeout - stopping"),_e.stop()},3e4)},_e.onresult=at=>{let wt="";for(let et=at.resultIndex;et<at.results.length;et++){const ve=at.results[et][0].transcript;at.results[et].isFinal?Be+=ve+" ":wt+=ve}u(Be+wt)},_e.onerror=at=>{clearTimeout(Mt),console.error("Web Speech API error:",at.error),s(!1),_(null),Ce(`⚠️ Recording failed: ${at.error}. Please try again.`,"error")},_e.onend=()=>{clearTimeout(Mt),console.log("🎤 Question recording ended"),s(!1),Be.trim()?(u(Be.trim()),Ke(Be.trim())):(_(null),Ce("❌ No speech detected. Please speak clearly and try again.","error"))},_e.start();return}}catch(De){console.error("Failed to start recording:",De),_(null),s(!1);let Xe="Recording failed";if(De.name==="NotAllowedError"||($e=De.message)!=null&&$e.includes("Permission")){window.confirm(`Microphone permission is required.

Tap OK to open Settings and enable microphone access.`)&&await pe();return}else De.name==="NotFoundError"||(Me=De.message)!=null&&Me.includes("no audio input")?Xe="❌ No microphone found. Check if microphone is connected or available on this device.":De.name==="NotSupportedError"?Xe="❌ Recording not supported in your browser. Try a different browser or device.":(fe=De.message)!=null&&fe.includes("getUserMedia")&&(Xe="❌ Could not access microphone. Check permissions and try again.");Ce(Xe,"error")}},Qe=async()=>{var $e;if(console.log("🛑 stopRecording called"),console.log("🛑 isNativePlatform:",$t.isNativePlatform()),console.log("🛑 platform:",$t.getPlatform()),$t.isNativePlatform()&&$t.getPlatform()==="android")try{console.log("🛑 Inside Android stop block"),s(!1),console.log("🛑 Stopping SpeechRecognition (fire and forget)...");try{ma.stop().catch(()=>{}),ma.removeAllListeners().catch(()=>{})}catch{}console.log("🛑 SpeechRecognition stop fired"),_("transcribing"),console.log("🎤 Stopping native recording...");const Me=await DL();console.log("📁 Native recorder result:",JSON.stringify(Me));const fe=Me==null?void 0:Me.filePath,De=Me==null?void 0:Me.webPath;if(console.log("📁 FilePath:",fe),console.log("🌐 WebPath:",De),!fe&&!De){console.error("❌ No file path returned from native recorder"),Ce("❌ No audio file from native recorder.","error"),_(null);return}let Xe=null;if(De)try{console.log("🌐 Trying webPath fetch (preferred on Android):",De);const _e=await fetch(De);if(console.log("📡 Fetch response status:",_e.status,_e.statusText),!_e.ok)throw new Error(`Fetch failed: ${_e.status} ${_e.statusText}`);const Be=await _e.blob();console.log("✅ Raw blob from webPath - size:",Be.size,"type:",Be.type),Xe=new Blob([Be],{type:"audio/mp4"}),console.log("✅ Re-typed blob - size:",Xe.size,"type:",Xe.type)}catch(_e){console.warn("⚠️ webPath fetch failed:",_e.message)}if(!Xe&&fe)try{console.log("📂 Trying Filesystem read (fallback) with absolute path:",fe);const _e=await RL.readFile({path:fe});console.log("📂 Filesystem read success, data length:",($e=_e.data)==null?void 0:$e.length);const Be=_e.data;if(Be){console.log("🔄 Converting base64 to blob...");const Mt=atob(Be),at=new Uint8Array(Mt.length);for(let wt=0;wt<Mt.length;wt++)at[wt]=Mt.charCodeAt(wt);Xe=new Blob([at],{type:"audio/mp4"})}}catch(_e){console.warn("⚠️ Filesystem read failed:",_e.message||_e)}if(!Xe){console.error("❌ Failed to create audio blob from both webPath and Filesystem"),Ce("❌ Failed to read recorded audio file.","error"),_(null);return}if(Xe.size===0){console.error("❌ Audio blob is empty (0 bytes)"),Ce("❌ No audio recorded. Please try again.","error"),_(null);return}Xe.size<1e3&&(console.warn("⚠️ Audio blob is very small:",Xe.size,"bytes"),Ce("⚠️ Recording seems too short. Trying anyway...","warning")),console.log("🎯 Sending to transcription API - size:",Xe.size,"type:",Xe.type),await zr(Xe,"m4a");return}catch(Me){console.error("❌ Native recording error:",Me),Ce(`❌ Failed to process recorded audio: ${Me.message}`,"error"),_(null);return}if(Te.current){Te.current.stop(),Te.current=null,s(!1);return}ne.current&&i&&(ne.current.stop(),s(!1))},Je=()=>{try{const $e=localStorage.getItem("auth-storage");if(!$e)return null;const{state:Me}=JSON.parse($e);return(Me==null?void 0:Me.token)||null}catch{return null}},Ke=async $e=>{var fe;if(!$e.trim()){alert("Please record a question first");return}const Me=Date.now();S(!0),_("analyzing"),N(!0),d(""),J(null);try{const De=Je(),Xe="https://iaalearn-cloud.fly.dev".replace(/\/$/,""),_e=De?`?token=${encodeURIComponent(De)}`:"",Be={interviewerQuestion:$e,position:r==null?void 0:r.position,company:r==null?void 0:r.company_name,cv:(r==null?void 0:r.cv_content)||"",jobDescription:(r==null?void 0:r.job_description)||"",personSpecification:(r==null?void 0:r.person_specification)||"",aiInstructions:((fe=r==null?void 0:r.metadata)==null?void 0:fe.aiInstructions)||""},Mt=await fetch(`${Xe}/api/smart-ai/get-perfect-answer${_e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)});if(!Mt.ok)throw new Error("Failed to generate perfect answer");const at=Mt.body.getReader(),wt=new TextDecoder;let et="";for(;;){const{done:pt,value:vt}=await at.read();if(pt)break;const Tt=wt.decode(vt);et+=Tt,d(et),we&&!Y&&ae(!0)}const ve=Date.now();J(ve-Me),et.trim()&&Ce("Perfect answer ready","success"),v(pt=>[...pt,{question:$e,perfectAnswer:et,timestamp:new Date().toISOString()}])}catch(De){console.error("Error generating perfect answer:",De),Ce("Error generating perfect answer. Please try again.","error")}finally{S(!1),_(null),N(!1)}},zr=async($e,Me="webm")=>{S(!0),_("transcribing");try{console.log("Transcribing interviewer question audio blob:",$e.size,"bytes, type:",$e.type,"format:",Me);let fe=$e;const Xe={webm:"audio/webm",wav:"audio/wav",mp3:"audio/mpeg",ogg:"audio/ogg",opus:"audio/opus",mp4:"audio/mp4",m4a:"audio/mp4",aac:"audio/aac"}[Me]||"audio/mp4";fe=new Blob([$e],{type:Xe}),console.log("Final blob MIME type:",Xe,"size:",fe.size);const _e=new FormData;_e.append("audio",fe,`question.${Me}`),_e.append("format",Me),console.log("FormData prepared with blob size:",fe.size,"type:",fe.type);const Be=Je(),Mt=$t.isNativePlatform(),wt="https://iaalearn-cloud.fly.dev/api/transcription/transcribe";console.log("Sending FormData to:",wt);const et=await fetch(wt,{method:"POST",headers:{...Be?{Authorization:`Bearer ${Be}`}:{}},body:_e});if(console.log("Fetch response status:",et.status),!et.ok){const Tt=await et.json().catch(()=>({}));throw console.error("Transcription error response:",Tt),new Error(Tt.message||Tt.error||`HTTP ${et.status}`)}const pt=(await et.json()).text;if(console.log("Transcription successful:",pt),!pt||!pt.trim())throw new Error("Transcription returned empty text. Please try again with clearer audio.");const vt=pt.trim();u(vt),await Ke(vt),_(null)}catch(fe){console.error("Transcription failed:",fe),_(null),S(!1);const De=fe.message||"Unknown error";Ce(`Transcription failed: ${De}`,"error")}},Oe=async()=>{try{const $e=await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"monitor"}}),fe=$e.getVideoTracks()[0].getSettings();$e.getTracks().forEach(De=>De.stop()),fe.displaySurface==="monitor"||fe.displaySurface==="window"?(R(!0),qe(!0),V(!0),alert("⚠️ Screen sharing detected! Transfer to mobile recommended.")):(R(!1),alert("✓ Safe - sharing different content"))}catch($e){console.log("Screen share check cancelled:",$e)}},Pr=async()=>{if(confirm("Are you sure you want to end this session?"))try{await Ui.end(e),t("/")}catch($e){console.error("Failed to end session:",$e),alert("Failed to end session. Please try again.")}};return r?m.jsxs("div",{className:"interview-session",children:[Ot&&m.jsx("div",{className:"toast-container",children:m.jsx("div",{className:`toast toast-${Ot.type}`,children:Ot.message})}),m.jsx(QL,{isOpen:K,onClose:()=>V(!1),sessionId:e}),m.jsxs("div",{className:"session-header",children:[m.jsxs("div",{children:[m.jsx("h1",{children:r.title}),m.jsxs("div",{className:"session-meta",children:[r.company_name&&m.jsx("span",{children:r.company_name}),r.position&&m.jsxs("span",{children:["• ",r.position]}),m.jsxs("span",{children:["• Question ",I+1," of ",C.length]})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{className:"btn btn-warning",onClick:Oe,title:"Check if screen share will expose this app",children:[m.jsx(BD,{size:20}),"Check Share"]}),m.jsxs("button",{className:"btn btn-secondary",onClick:()=>V(!0),title:"Transfer to mobile if sharing screen",children:[m.jsx(FD,{size:20}),"Transfer"]}),m.jsx("button",{className:"btn btn-danger",onClick:Pr,children:"End Session"})]})]}),m.jsx("div",{className:"session-content",children:m.jsxs("div",{className:"interview-coaching-view",children:[!o&&!f&&m.jsx("div",{className:"recording-status-card",children:m.jsxs("div",{className:"status-content",children:[m.jsx("h2",{children:"Interview Coaching Assistant"}),m.jsx("p",{children:"Click the mic button to record what the interviewer is asking, then get the perfect answer."}),m.jsx("button",{className:`record-btn ${i?"recording":""}`,onClick:i?Qe:ft,disabled:w,title:"Click to record interviewer question",children:i?m.jsx(DD,{size:48}):m.jsx(Z2,{size:48})}),m.jsxs("div",{className:"status-text",children:[i&&m.jsxs("div",{className:"recording-indicator",children:[m.jsx("div",{className:"pulse-ring"}),m.jsx("span",{children:"🎤 Recording... Listening to interviewer question"})]}),!i&&!w&&m.jsx("span",{children:"Ready to record"}),w&&m.jsxs("div",{className:"loading-indicator",children:[m.jsx(Y2,{className:"spinner",size:24}),m.jsxs("span",{children:[E==="recording"&&"Recording question...",E==="analyzing"&&"Analyzing question and generating perfect answer..."]})]})]}),m.jsxs("div",{className:"record-control-buttons",children:[m.jsxs("button",{className:"btn btn-primary",onClick:ft,disabled:i||w,title:"Start recording interviewer question",children:[m.jsx(Z2,{size:18}),m.jsx("span",{className:"ml-2",children:"Start Recording"})]}),m.jsxs("button",{className:"btn btn-secondary",onClick:Qe,disabled:!i||w,title:"Manually stop when the question ends",children:[m.jsx(VT,{size:18}),m.jsx("span",{className:"ml-2",children:"Stop Recording"})]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-800 bg-white bg-opacity-40 px-3 py-2 rounded-md border border-white/40",children:[m.jsx("input",{type:"checkbox",checked:Q,onChange:$e=>H($e.target.checked)}),m.jsx("span",{children:"Auto-listen (speech-to-text)"})]})]})]})}),o&&m.jsxs("div",{className:"question-display-card",children:[m.jsxs("div",{className:"question-header",children:[m.jsx("h3",{children:"Interviewer's Question"}),i&&m.jsx("span",{className:"recording-badge",children:"Still recording..."})]}),m.jsx("div",{className:"question-box",children:m.jsx("p",{children:o})}),!i&&m.jsx("div",{className:"question-controls",children:m.jsx("button",{className:"btn btn-secondary",onClick:()=>{u(""),d("")},children:"Re-record Question"})})]}),f&&m.jsxs("div",{className:"perfect-answer-card",children:[m.jsxs("div",{className:"answer-header",children:[m.jsx("h3",{children:"✨ Perfect Answer"}),m.jsxs("span",{className:"answer-badge",children:["Based on: ",r.company_name," + Your CV & Job Description"]})]}),w&&E==="analyzing"&&m.jsxs("div",{className:"loading-indicator",children:[m.jsx(Y2,{className:"spinner",size:24}),m.jsx("span",{children:"Generating perfect answer..."})]}),m.jsx("div",{className:`answer-box ${ee?"answer-hidden":""}`,children:!ee&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"answer-text",dangerouslySetInnerHTML:{__html:Ae(f)}}),A&&m.jsx("span",{className:"streaming-cursor",children:"▌"})]})}),m.jsxs("div",{className:"answer-controls",children:[m.jsx("button",{className:"btn btn-secondary",onClick:()=>Z($e=>!$e),children:ee?"Reveal Answer":"Hide Answer"}),m.jsxs("button",{className:"btn btn-primary",onClick:()=>navigator.clipboard.writeText(f),disabled:ee,children:[m.jsx(Ka,{size:20}),"Copy Answer"]}),m.jsx("button",{className:"btn btn-success",onClick:()=>{u(""),d("")},children:"Record Next Question"})]})]})]})}),we&&m.jsx(JL,{answer:f,isVisible:Y,onClose:()=>ae(!1),isStreaming:A,formatAnswer:Ae}),we&&m.jsx(e9,{isScreenShareDetected:F,onScreenShareDetected:$e=>L($e),onMobileRequired:ue})]}):m.jsxs("div",{className:"loading-container",children:[m.jsx("div",{className:"spinner"}),m.jsx("p",{children:"Loading session..."})]})}function r9(){const{id:e}=tp(),t=wn(),[r,n]=B.useState(null),[i,s]=B.useState(""),[o,u]=B.useState(!1),[f,d]=B.useState([]),[g,v]=B.useState(0),[w,S]=B.useState(!1),[E,_]=B.useState(!1),[A,N]=B.useState(!1),{stealthMode:C}=Ya(),T=B.useRef(null),I=B.useRef(null);B.useEffect(()=>(P(),k(),()=>{T.current&&clearInterval(T.current),I.current&&clearTimeout(I.current)}),[e]);const P=async()=>{try{const U=await Ui.getOne(e);n(U.data.session),d(U.data.session.questions||[])}catch(U){console.error("Failed to load session:",U),alert("Session not found"),t("/")}},k=()=>{T.current=setInterval(async()=>{try{const J=(await Ui.getOne(e)).data.session.questions||[];if(d(J),J.length>0){const Q=J[J.length-1];Q.answer&&(s(Q.answer),v(J.length-1))}}catch(U){console.error("Polling error:",U)}},1500)},R=B.useMemo(()=>{const U=(J="")=>J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return(J="")=>U(J).replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>")},[]),F=()=>{navigator.clipboard.writeText(i),N(!0),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>N(!1),2e3)},L=()=>{if(g<f.length-1){const U=f[g+1];s(U.answer||""),v(g+1),u(!1)}},K=()=>{if(g>0){const U=f[g-1];s(U.answer||""),v(g-1),u(!1)}},V=f[g];return m.jsxs("div",{className:"mobile-interview-session",children:[m.jsxs("div",{className:"mobile-header",children:[m.jsxs("div",{className:"mobile-header-content",children:[m.jsx(xn,{size:24}),m.jsxs("div",{className:"mobile-header-title",children:[m.jsx("h1",{children:"Interview Mode"}),m.jsx("p",{children:(r==null?void 0:r.company_name)||"Interview Session"})]})]}),m.jsx("button",{className:"btn-switch-desktop",onClick:()=>t(`/session/${e}`),title:"Switch to desktop mode",children:m.jsx(ol,{size:20})})]}),m.jsxs("div",{className:`mobile-answer-container ${E?"minimized":""}`,children:[m.jsxs("div",{className:"answer-header",children:[m.jsxs("div",{className:"answer-meta",children:[m.jsxs("span",{className:"question-count",children:["Q",g+1," of ",f.length]}),w&&m.jsx("span",{className:"streaming-badge",children:"• Streaming"})]}),m.jsx("button",{className:"btn-minimize",onClick:()=>_(!E),title:E?"Expand":"Minimize",children:E?m.jsx(UT,{size:20}):m.jsx(zT,{size:20})})]}),!E&&m.jsxs(m.Fragment,{children:[(V==null?void 0:V.question)&&m.jsxs("div",{className:"mobile-question-display",children:[m.jsx("p",{className:"question-label",children:"Current Question:"}),m.jsx("p",{className:"question-text",children:V.question})]}),m.jsx("div",{className:`mobile-answer-box ${o?"hidden":""}`,children:o?m.jsxs("div",{className:"answer-hidden-placeholder",children:[m.jsx(jn,{size:32}),m.jsx("p",{children:"Answer Hidden"})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"answer-text",dangerouslySetInnerHTML:{__html:R(i)}}),w&&m.jsx("span",{className:"streaming-cursor",children:"▌"})]})}),m.jsxs("div",{className:"mobile-answer-controls",children:[m.jsxs("button",{className:"btn-control",onClick:()=>u(!o),title:o?"Show answer":"Hide answer",children:[o?m.jsx(Yn,{size:20}):m.jsx(jn,{size:20}),o?"Reveal":"Hide"]}),m.jsxs("button",{className:"btn-control btn-copy",onClick:F,disabled:o||!i,title:"Copy answer to clipboard",children:[m.jsx(Ka,{size:20}),A?"Copied!":"Copy"]})]})]})]}),f.length>1&&m.jsxs("div",{className:"mobile-navigation",children:[m.jsx("button",{className:"btn-nav",onClick:K,disabled:g===0,title:"Previous question",children:"← Previous"}),m.jsxs("span",{className:"nav-indicator",children:[g+1," / ",f.length]}),m.jsx("button",{className:"btn-nav",onClick:L,disabled:g===f.length-1,title:"Next question",children:"Next →"})]}),f.length>0&&m.jsxs("div",{className:"mobile-history",children:[m.jsx("h3",{className:"history-title",children:"Recent Answers"}),m.jsx("div",{className:"history-list",children:f.slice(-5).reverse().map((U,J)=>{var H;const Q=f.length-1-J;return m.jsxs("button",{className:`history-item ${Q===g?"active":""}`,onClick:()=>{s(U.answer||""),v(Q),u(!1)},children:[m.jsxs("span",{className:"history-q-number",children:["Q",Q+1]}),m.jsxs("span",{className:"history-question",children:[(H=U.question)==null?void 0:H.substring(0,40),"..."]})]},Q)})})]}),!r&&m.jsxs("div",{className:"mobile-empty-state",children:[m.jsx(xn,{size:48}),m.jsx("p",{children:"Loading session..."})]}),f.length===0&&r&&m.jsxs("div",{className:"mobile-empty-state",children:[m.jsx(xn,{size:48}),m.jsx("p",{children:"No questions answered yet"}),m.jsx("p",{className:"text-muted",children:"Answers will appear here as they are generated"})]})]})}function hN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=hN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function yt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=hN(e))&&(n&&(n+=" "),n+=t);return n}var n9=Array.isArray,bn=n9,i9=typeof Yi=="object"&&Yi&&Yi.Object===Object&&Yi,pN=i9,s9=pN,a9=typeof self=="object"&&self&&self.Object===Object&&self,o9=s9||a9||Function("return this")(),Wi=o9,l9=Wi,c9=l9.Symbol,Mf=c9,IS=Mf,gN=Object.prototype,u9=gN.hasOwnProperty,f9=gN.toString,Rc=IS?IS.toStringTag:void 0;function d9(e){var t=u9.call(e,Rc),r=e[Rc];try{e[Rc]=void 0;var n=!0}catch{}var i=f9.call(e);return n&&(t?e[Rc]=r:delete e[Rc]),i}var h9=d9,p9=Object.prototype,g9=p9.toString;function m9(e){return g9.call(e)}var y9=m9,PS=Mf,v9=h9,x9=y9,w9="[object Null]",b9="[object Undefined]",kS=PS?PS.toStringTag:void 0;function S9(e){return e==null?e===void 0?b9:w9:kS&&kS in Object(e)?v9(e):x9(e)}var vs=S9;function E9(e){return e!=null&&typeof e=="object"}var xs=E9,A9=vs,_9=xs,C9="[object Symbol]";function O9(e){return typeof e=="symbol"||_9(e)&&A9(e)==C9}var rc=O9,T9=bn,N9=rc,I9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P9=/^\w*$/;function k9(e,t){if(T9(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||N9(e)?!0:P9.test(e)||!I9.test(e)||t!=null&&e in Object(t)}var Dx=k9;function j9(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var na=j9;const nc=Pt(na);var R9=vs,M9=na,D9="[object AsyncFunction]",L9="[object Function]",B9="[object GeneratorFunction]",$9="[object Proxy]";function F9(e){if(!M9(e))return!1;var t=R9(e);return t==L9||t==B9||t==D9||t==$9}var Lx=F9;const it=Pt(Lx);var U9=Wi,z9=U9["__core-js_shared__"],H9=z9,og=H9,jS=function(){var e=/[^.]+$/.exec(og&&og.keys&&og.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function W9(e){return!!jS&&jS in e}var V9=W9,G9=Function.prototype,q9=G9.toString;function K9(e){if(e!=null){try{return q9.call(e)}catch{}try{return e+""}catch{}}return""}var mN=K9,X9=Lx,Y9=V9,Z9=na,Q9=mN,J9=/[\\^$.*+?()[\]{}|]/g,eB=/^\[object .+?Constructor\]$/,tB=Function.prototype,rB=Object.prototype,nB=tB.toString,iB=rB.hasOwnProperty,sB=RegExp("^"+nB.call(iB).replace(J9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aB(e){if(!Z9(e)||Y9(e))return!1;var t=X9(e)?sB:eB;return t.test(Q9(e))}var oB=aB;function lB(e,t){return e==null?void 0:e[t]}var cB=lB,uB=oB,fB=cB;function dB(e,t){var r=fB(e,t);return uB(r)?r:void 0}var ao=dB,hB=ao,pB=hB(Object,"create"),hp=pB,RS=hp;function gB(){this.__data__=RS?RS(null):{},this.size=0}var mB=gB;function yB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vB=yB,xB=hp,wB="__lodash_hash_undefined__",bB=Object.prototype,SB=bB.hasOwnProperty;function EB(e){var t=this.__data__;if(xB){var r=t[e];return r===wB?void 0:r}return SB.call(t,e)?t[e]:void 0}var AB=EB,_B=hp,CB=Object.prototype,OB=CB.hasOwnProperty;function TB(e){var t=this.__data__;return _B?t[e]!==void 0:OB.call(t,e)}var NB=TB,IB=hp,PB="__lodash_hash_undefined__";function kB(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=IB&&t===void 0?PB:t,this}var jB=kB,RB=mB,MB=vB,DB=AB,LB=NB,BB=jB;function ic(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ic.prototype.clear=RB;ic.prototype.delete=MB;ic.prototype.get=DB;ic.prototype.has=LB;ic.prototype.set=BB;var $B=ic;function FB(){this.__data__=[],this.size=0}var UB=FB;function zB(e,t){return e===t||e!==e&&t!==t}var Bx=zB,HB=Bx;function WB(e,t){for(var r=e.length;r--;)if(HB(e[r][0],t))return r;return-1}var pp=WB,VB=pp,GB=Array.prototype,qB=GB.splice;function KB(e){var t=this.__data__,r=VB(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():qB.call(t,r,1),--this.size,!0}var XB=KB,YB=pp;function ZB(e){var t=this.__data__,r=YB(t,e);return r<0?void 0:t[r][1]}var QB=ZB,JB=pp;function e$(e){return JB(this.__data__,e)>-1}var t$=e$,r$=pp;function n$(e,t){var r=this.__data__,n=r$(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var i$=n$,s$=UB,a$=XB,o$=QB,l$=t$,c$=i$;function sc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sc.prototype.clear=s$;sc.prototype.delete=a$;sc.prototype.get=o$;sc.prototype.has=l$;sc.prototype.set=c$;var gp=sc,u$=ao,f$=Wi,d$=u$(f$,"Map"),$x=d$,MS=$B,h$=gp,p$=$x;function g$(){this.size=0,this.__data__={hash:new MS,map:new(p$||h$),string:new MS}}var m$=g$;function y$(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var v$=y$,x$=v$;function w$(e,t){var r=e.__data__;return x$(t)?r[typeof t=="string"?"string":"hash"]:r.map}var mp=w$,b$=mp;function S$(e){var t=b$(this,e).delete(e);return this.size-=t?1:0,t}var E$=S$,A$=mp;function _$(e){return A$(this,e).get(e)}var C$=_$,O$=mp;function T$(e){return O$(this,e).has(e)}var N$=T$,I$=mp;function P$(e,t){var r=I$(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var k$=P$,j$=m$,R$=E$,M$=C$,D$=N$,L$=k$;function ac(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ac.prototype.clear=j$;ac.prototype.delete=R$;ac.prototype.get=M$;ac.prototype.has=D$;ac.prototype.set=L$;var Fx=ac,yN=Fx,B$="Expected a function";function Ux(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(B$);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Ux.Cache||yN),r}Ux.Cache=yN;var vN=Ux;const $$=Pt(vN);var F$=vN,U$=500;function z$(e){var t=F$(e,function(n){return r.size===U$&&r.clear(),n}),r=t.cache;return t}var H$=z$,W$=H$,V$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G$=/\\(\\)?/g,q$=W$(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(V$,function(r,n,i,s){t.push(i?s.replace(G$,"$1"):n||r)}),t}),K$=q$;function X$(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var zx=X$,DS=Mf,Y$=zx,Z$=bn,Q$=rc,LS=DS?DS.prototype:void 0,BS=LS?LS.toString:void 0;function xN(e){if(typeof e=="string")return e;if(Z$(e))return Y$(e,xN)+"";if(Q$(e))return BS?BS.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var J$=xN,eF=J$;function tF(e){return e==null?"":eF(e)}var wN=tF,rF=bn,nF=Dx,iF=K$,sF=wN;function aF(e,t){return rF(e)?e:nF(e,t)?[e]:iF(sF(e))}var bN=aF,oF=rc;function lF(e){if(typeof e=="string"||oF(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var yp=lF,cF=bN,uF=yp;function fF(e,t){t=cF(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[uF(t[r++])];return r&&r==n?e:void 0}var Hx=fF,dF=Hx;function hF(e,t,r){var n=e==null?void 0:dF(e,t);return n===void 0?r:n}var SN=hF;const Zn=Pt(SN);function pF(e){return e==null}var gF=pF;const ot=Pt(gF);var mF=vs,yF=bn,vF=xs,xF="[object String]";function wF(e){return typeof e=="string"||!yF(e)&&vF(e)&&mF(e)==xF}var bF=wF;const Za=Pt(bF);var EN={exports:{}},Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx=Symbol.for("react.element"),Vx=Symbol.for("react.portal"),vp=Symbol.for("react.fragment"),xp=Symbol.for("react.strict_mode"),wp=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),SF=Symbol.for("react.server_context"),Ep=Symbol.for("react.forward_ref"),Ap=Symbol.for("react.suspense"),_p=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),Op=Symbol.for("react.lazy"),EF=Symbol.for("react.offscreen"),AN;AN=Symbol.for("react.module.reference");function ni(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Wx:switch(e=e.type,e){case vp:case wp:case xp:case Ap:case _p:return e;default:switch(e=e&&e.$$typeof,e){case SF:case Sp:case Ep:case Op:case Cp:case bp:return e;default:return t}}case Vx:return t}}}Ct.ContextConsumer=Sp;Ct.ContextProvider=bp;Ct.Element=Wx;Ct.ForwardRef=Ep;Ct.Fragment=vp;Ct.Lazy=Op;Ct.Memo=Cp;Ct.Portal=Vx;Ct.Profiler=wp;Ct.StrictMode=xp;Ct.Suspense=Ap;Ct.SuspenseList=_p;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(e){return ni(e)===Sp};Ct.isContextProvider=function(e){return ni(e)===bp};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wx};Ct.isForwardRef=function(e){return ni(e)===Ep};Ct.isFragment=function(e){return ni(e)===vp};Ct.isLazy=function(e){return ni(e)===Op};Ct.isMemo=function(e){return ni(e)===Cp};Ct.isPortal=function(e){return ni(e)===Vx};Ct.isProfiler=function(e){return ni(e)===wp};Ct.isStrictMode=function(e){return ni(e)===xp};Ct.isSuspense=function(e){return ni(e)===Ap};Ct.isSuspenseList=function(e){return ni(e)===_p};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vp||e===wp||e===xp||e===Ap||e===_p||e===EF||typeof e=="object"&&e!==null&&(e.$$typeof===Op||e.$$typeof===Cp||e.$$typeof===bp||e.$$typeof===Sp||e.$$typeof===Ep||e.$$typeof===AN||e.getModuleId!==void 0)};Ct.typeOf=ni;EN.exports=Ct;var AF=EN.exports,_F=vs,CF=xs,OF="[object Number]";function TF(e){return typeof e=="number"||CF(e)&&_F(e)==OF}var _N=TF;const NF=Pt(_N);var IF=_N;function PF(e){return IF(e)&&e!=+e}var kF=PF;const Df=Pt(kF);var xi=function(t){return t===0?0:t>0?1:-1},ka=function(t){return Za(t)&&t.indexOf("%")===t.length-1},Ee=function(t){return NF(t)&&!Df(t)},jF=function(t){return ot(t)},Er=function(t){return Ee(t)||Za(t)},RF=0,Lf=function(t){var r=++RF;return"".concat(t||"").concat(r)},Qa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&!Za(t))return n;var s;if(ka(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Df(s)&&(s=n),i&&s>r&&(s=r),s},Ms=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},MF=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},yi=function(t,r){return Ee(t)&&Ee(r)?function(n){return t+n*(r-t)}:function(){return r}};function Rh(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Zn(n,t))===r})}var DF=function(t,r){return Ee(t)&&Ee(r)?t-r:Za(t)&&Za(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function cl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}var LF=["viewBox","children"],BF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$S=["points","pathLength"],lg={svg:LF,polygon:$S,polyline:$S},Gx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mh=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(B.isValidElement(t)&&(n=t.props),!nc(n))return null;var i={};return Object.keys(n).forEach(function(s){Gx.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},$F=function(t,r,n){return function(i){return t(r,n,i),null}},Dh=function(t,r,n){if(!nc(t)||Ym(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];Gx.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=$F(o,r,n))}),i},FF=["children"],UF=["children"];function FS(e,t){if(e==null)return{};var r=zF(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}var US={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},is=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},zS=null,cg=null,qx=function e(t){if(t===zS&&Array.isArray(cg))return cg;var r=[];return B.Children.forEach(t,function(n){ot(n)||(AF.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),cg=r,zS=t,r};function Qn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return is(i)}):n=[is(t)],qx(e).forEach(function(i){var s=Zn(i,"type.displayName")||Zn(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Tn(e,t){var r=Qn(e,t);return r&&r[0]}var HS=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Ee(n)||n<=0||!Ee(i)||i<=0)},HF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],WF=function(t){return t&&t.type&&Za(t.type)&&HF.indexOf(t.type)>=0},VF=function(t){return t&&Zm(t)==="object"&&"clipDot"in t},GF=function(t,r,n,i){var s,o=(s=lg==null?void 0:lg[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!it(t)&&(i&&o.includes(r)||BF.includes(r))||n&&Gx.includes(r)},ht=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(B.isValidElement(t)&&(i=t.props),!nc(i))return null;var s={};return Object.keys(i).forEach(function(o){var u;GF((u=i)===null||u===void 0?void 0:u[o],o,r,n)&&(s[o]=i[o])}),s},Qm=function e(t,r){if(t===r)return!0;var n=B.Children.count(t);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return WS(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!WS(s,o))return!1}return!0},WS=function(t,r){if(ot(t)&&ot(r))return!0;if(!ot(t)&&!ot(r)){var n=t.props||{},i=n.children,s=FS(n,FF),o=r.props||{},u=o.children,f=FS(o,UF);return i&&u?cl(s,f)&&Qm(i,u):!i&&!u?cl(s,f):!1}return!1},VS=function(t,r){var n=[],i={};return qx(t).forEach(function(s,o){if(WF(s))n.push(s);else if(s){var u=is(s.type),f=r[u]||{},d=f.handler,g=f.once;if(d&&(!g||!i[u])){var v=d(s,u,o);n.push(v),i[u]=!0}}}),n},qF=function(t){var r=t&&t.type;return r&&US[r]?US[r]:null},KF=function(t,r){return qx(r).indexOf(t)},XF=["children","width","height","viewBox","className","style","title","desc"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}function YF(e,t){if(e==null)return{};var r=ZF(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ey(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,u=e.title,f=e.desc,d=YF(e,XF),g=i||{width:r,height:n,x:0,y:0},v=yt("recharts-surface",s);return X.createElement("svg",Jm({},ht(d,!0,"svg"),{className:v,width:r,height:n,style:o,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),X.createElement("title",null,u),X.createElement("desc",null,f),t)}var QF=["children","className"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(this,arguments)}function JF(e,t){if(e==null)return{};var r=eU(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cr=X.forwardRef(function(e,t){var r=e.children,n=e.className,i=JF(e,QF),s=yt("recharts-layer",n);return X.createElement("g",ty({className:s},ht(i,!0),{ref:t}),r)}),ss=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function tU(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var rU=tU,nU=rU;function iU(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:nU(e,t,r)}var sU=iU,aU="\\ud800-\\udfff",oU="\\u0300-\\u036f",lU="\\ufe20-\\ufe2f",cU="\\u20d0-\\u20ff",uU=oU+lU+cU,fU="\\ufe0e\\ufe0f",dU="\\u200d",hU=RegExp("["+dU+aU+uU+fU+"]");function pU(e){return hU.test(e)}var CN=pU;function gU(e){return e.split("")}var mU=gU,ON="\\ud800-\\udfff",yU="\\u0300-\\u036f",vU="\\ufe20-\\ufe2f",xU="\\u20d0-\\u20ff",wU=yU+vU+xU,bU="\\ufe0e\\ufe0f",SU="["+ON+"]",ry="["+wU+"]",ny="\\ud83c[\\udffb-\\udfff]",EU="(?:"+ry+"|"+ny+")",TN="[^"+ON+"]",NN="(?:\\ud83c[\\udde6-\\uddff]){2}",IN="[\\ud800-\\udbff][\\udc00-\\udfff]",AU="\\u200d",PN=EU+"?",kN="["+bU+"]?",_U="(?:"+AU+"(?:"+[TN,NN,IN].join("|")+")"+kN+PN+")*",CU=kN+PN+_U,OU="(?:"+[TN+ry+"?",ry,NN,IN,SU].join("|")+")",TU=RegExp(ny+"(?="+ny+")|"+OU+CU,"g");function NU(e){return e.match(TU)||[]}var IU=NU,PU=mU,kU=CN,jU=IU;function RU(e){return kU(e)?jU(e):PU(e)}var MU=RU,DU=sU,LU=CN,BU=MU,$U=wN;function FU(e){return function(t){t=$U(t);var r=LU(t)?BU(t):void 0,n=r?r[0]:t.charAt(0),i=r?DU(r,1).join(""):t.slice(1);return n[e]()+i}}var UU=FU,zU=UU,HU=zU("toUpperCase"),WU=HU;const Tp=Pt(WU);function Bt(e){return function(){return e}}const jN=Math.cos,Lh=Math.sin,Ai=Math.sqrt,Bh=Math.PI,Np=2*Bh,iy=Math.PI,sy=2*iy,ba=1e-6,VU=sy-ba;function RN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RN;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class qU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RN:GU(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,f=n-t,d=i-r,g=o-t,v=u-r,w=g*g+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(w>ba)if(!(Math.abs(v*f-d*g)>ba)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let S=n-o,E=i-u,_=f*f+d*d,A=S*S+E*E,N=Math.sqrt(_),C=Math.sqrt(w),T=s*Math.tan((iy-Math.acos((_+w-A)/(2*N*C)))/2),I=T/C,P=T/N;Math.abs(I-1)>ba&&this._append`L${t+I*g},${r+I*v}`,this._append`A${s},${s},0,0,${+(v*S>g*E)},${this._x1=t+P*f},${this._y1=r+P*d}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),d=t+u,g=r+f,v=1^o,w=o?i-s:s-i;this._x1===null?this._append`M${d},${g}`:(Math.abs(this._x1-d)>ba||Math.abs(this._y1-g)>ba)&&this._append`L${d},${g}`,n&&(w<0&&(w=w%sy+sy),w>VU?this._append`A${n},${n},0,1,${v},${t-u},${r-f}A${n},${n},0,1,${v},${this._x1=d},${this._y1=g}`:w>ba&&this._append`A${n},${n},0,${+(w>=iy)},${v},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Kx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qU(t)}function Xx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MN(e){this._context=e}MN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ip(e){return new MN(e)}function DN(e){return e[0]}function LN(e){return e[1]}function BN(e,t){var r=Bt(!0),n=null,i=Ip,s=null,o=Kx(u);e=typeof e=="function"?e:e===void 0?DN:Bt(e),t=typeof t=="function"?t:t===void 0?LN:Bt(t);function u(f){var d,g=(f=Xx(f)).length,v,w=!1,S;for(n==null&&(s=i(S=o())),d=0;d<=g;++d)!(d<g&&r(v=f[d],d,f))===w&&((w=!w)?s.lineStart():s.lineEnd()),w&&s.point(+e(v,d,f),+t(v,d,f));if(S)return s=null,S+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Bt(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(s=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=s=null:s=i(n=f),u):n},u}function Od(e,t,r){var n=null,i=Bt(!0),s=null,o=Ip,u=null,f=Kx(d);e=typeof e=="function"?e:e===void 0?DN:Bt(+e),t=typeof t=="function"?t:Bt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?LN:Bt(+r);function d(v){var w,S,E,_=(v=Xx(v)).length,A,N=!1,C,T=new Array(_),I=new Array(_);for(s==null&&(u=o(C=f())),w=0;w<=_;++w){if(!(w<_&&i(A=v[w],w,v))===N)if(N=!N)S=w,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=w-1;E>=S;--E)u.point(T[E],I[E]);u.lineEnd(),u.areaEnd()}N&&(T[w]=+e(A,w,v),I[w]=+t(A,w,v),u.point(n?+n(A,w,v):T[w],r?+r(A,w,v):I[w]))}if(C)return u=null,C+""||null}function g(){return BN().defined(i).curve(o).context(s)}return d.x=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),n=null,d):e},d.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Bt(+v),d):e},d.x1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Bt(+v),d):n},d.y=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),r=null,d):t},d.y0=function(v){return arguments.length?(t=typeof v=="function"?v:Bt(+v),d):t},d.y1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Bt(+v),d):r},d.lineX0=d.lineY0=function(){return g().x(e).y(t)},d.lineY1=function(){return g().x(e).y(r)},d.lineX1=function(){return g().x(n).y(t)},d.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Bt(!!v),d):i},d.curve=function(v){return arguments.length?(o=v,s!=null&&(u=o(s)),d):o},d.context=function(v){return arguments.length?(v==null?s=u=null:u=o(s=v),d):s},d}class $N{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KU(e){return new $N(e,!0)}function XU(e){return new $N(e,!1)}const Yx={draw(e,t){const r=Ai(t/Bh);e.moveTo(r,0),e.arc(0,0,r,0,Np)}},YU={draw(e,t){const r=Ai(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},FN=Ai(1/3),ZU=FN*2,QU={draw(e,t){const r=Ai(t/ZU),n=r*FN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},JU={draw(e,t){const r=Ai(t),n=-r/2;e.rect(n,n,r,r)}},ez=.8908130915292852,UN=Lh(Bh/10)/Lh(7*Bh/10),tz=Lh(Np/10)*UN,rz=-jN(Np/10)*UN,nz={draw(e,t){const r=Ai(t*ez),n=tz*r,i=rz*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=Np*s/5,u=jN(o),f=Lh(o);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*i,f*n+u*i)}e.closePath()}},ug=Ai(3),iz={draw(e,t){const r=-Ai(t/(ug*3));e.moveTo(0,r*2),e.lineTo(-ug*r,-r),e.lineTo(ug*r,-r),e.closePath()}},zn=-.5,Hn=Ai(3)/2,ay=1/Ai(12),sz=(ay/2+1)*3,az={draw(e,t){const r=Ai(t/sz),n=r/2,i=r*ay,s=n,o=r*ay+r,u=-s,f=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(u,f),e.lineTo(zn*n-Hn*i,Hn*n+zn*i),e.lineTo(zn*s-Hn*o,Hn*s+zn*o),e.lineTo(zn*u-Hn*f,Hn*u+zn*f),e.lineTo(zn*n+Hn*i,zn*i-Hn*n),e.lineTo(zn*s+Hn*o,zn*o-Hn*s),e.lineTo(zn*u+Hn*f,zn*f-Hn*u),e.closePath()}};function oz(e,t){let r=null,n=Kx(i);e=typeof e=="function"?e:Bt(e||Yx),t=typeof t=="function"?t:Bt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function $h(){}function Fh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zN(e){this._context=e}zN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lz(e){return new zN(e)}function HN(e){this._context=e}HN.prototype={areaStart:$h,areaEnd:$h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cz(e){return new HN(e)}function WN(e){this._context=e}WN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uz(e){return new WN(e)}function VN(e){this._context=e}VN.prototype={areaStart:$h,areaEnd:$h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fz(e){return new VN(e)}function GS(e){return e<0?-1:1}function qS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),u=(s*i+o*n)/(n+i);return(GS(s)+GS(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function KS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function fg(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,o-u*r,s,o)}function Uh(e){this._context=e}Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fg(this,this._t0,KS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fg(this,KS(this,r=qS(this,e,t)),r);break;default:fg(this,this._t0,r=qS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function GN(e){this._context=new qN(e)}(GN.prototype=Object.create(Uh.prototype)).point=function(e,t){Uh.prototype.point.call(this,t,e)};function qN(e){this._context=e}qN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function dz(e){return new Uh(e)}function hz(e){return new GN(e)}function KN(e){this._context=e}KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=XS(e),i=XS(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function XS(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function pz(e){return new KN(e)}function Pp(e,t){this._context=e,this._t=t}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gz(e){return new Pp(e,.5)}function mz(e){return new Pp(e,0)}function yz(e){return new Pp(e,1)}function Al(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,u=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function oy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vz(e,t){return e[t]}function xz(e){const t=[];return t.key=e,t}function wz(){var e=Bt([]),t=oy,r=Al,n=vz;function i(s){var o=Array.from(e.apply(this,arguments),xz),u,f=o.length,d=-1,g;for(const v of s)for(u=0,++d;u<f;++u)(o[u][d]=[0,+n(v,o[u].key,d,s)]).data=v;for(u=0,g=Xx(t(o));u<f;++u)o[g[u]].index=u;return r(o,g),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Bt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?oy:typeof s=="function"?s:Bt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Al,i):r},i}function bz(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Al(e,t)}}function Sz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,u=0;o<i;++o)u+=e[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}Al(e,t)}}function Ez(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var u=0,f=0,d=0;u<o;++u){for(var g=e[t[u]],v=g[n][1]||0,w=g[n-1][1]||0,S=(v-w)/2,E=0;E<u;++E){var _=e[t[E]],A=_[n][1]||0,N=_[n-1][1]||0;S+=A-N}f+=v,d+=S*v}i[n-1][1]+=i[n-1][0]=r,f&&(r-=d/f)}i[n-1][1]+=i[n-1][0]=r,Al(e,t)}}function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}var Az=["type","size","sizeType"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){_z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _z(e,t,r){return t=Cz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cz(e){var t=Oz(e,"string");return zu(t)=="symbol"?t:t+""}function Oz(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tz(e,t){if(e==null)return{};var r=Nz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XN={symbolCircle:Yx,symbolCross:YU,symbolDiamond:QU,symbolSquare:JU,symbolStar:nz,symbolTriangle:iz,symbolWye:az},Iz=Math.PI/180,Pz=function(t){var r="symbol".concat(Tp(t));return XN[r]||Yx},kz=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Iz;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jz=function(t,r){XN["symbol".concat(Tp(t))]=r},Zx=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,u=o===void 0?"area":o,f=Tz(t,Az),d=ZS(ZS({},f),{},{type:n,size:s,sizeType:u}),g=function(){var A=Pz(n),N=oz().type(A).size(kz(s,u,n));return N()},v=d.className,w=d.cx,S=d.cy,E=ht(d,!0);return w===+w&&S===+S&&s===+s?X.createElement("path",ly({},E,{className:yt("recharts-symbols",v),transform:"translate(".concat(w,", ").concat(S,")"),d:g()})):null};Zx.registerSymbol=jz;function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cy.apply(this,arguments)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){Hu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZN(n.key),n)}}function Lz(e,t,r){return t&&Dz(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bz(e,t,r){return t=zh(t),$z(e,YN()?Reflect.construct(t,r||[],zh(e).constructor):t.apply(e,r))}function $z(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fz(e)}function Fz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YN=function(){return!!e})()}function zh(e){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zh(e)}function Uz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uy(e,t)}function Hu(e,t,r){return t=ZN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZN(e){var t=zz(e,"string");return _l(t)=="symbol"?t:t+""}function zz(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wn=32,Qx=function(e){function t(){return Mz(this,t),Bz(this,t,arguments)}return Uz(t,e),Lz(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Wn/2,o=Wn/6,u=Wn/3,f=n.inactive?i:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Wn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Wn,"M").concat(2*u,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Wn/8,"h").concat(Wn,"v").concat(Wn*3/4,"h").concat(-Wn,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var d=Rz({},n);return delete d.legendIcon,X.cloneElement(n.legendIcon,d)}return X.createElement(Zx,{fill:f,cx:s,cy:s,size:Wn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,u=i.layout,f=i.formatter,d=i.inactiveColor,g={x:0,y:0,width:Wn,height:Wn},v={display:u==="horizontal"?"inline-block":"block",marginRight:10},w={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(S,E){var _=S.formatter||f,A=yt(Hu(Hu({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",S.inactive));if(S.type==="none")return null;var N=it(S.value)?null:S.value;ss(!it(S.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=S.inactive?d:S.color;return X.createElement("li",cy({className:A,style:v,key:"legend-item-".concat(E)},Dh(n.props,S,E)),X.createElement(ey,{width:o,height:o,viewBox:g,style:w},n.renderIcon(S)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},_?_(N,S,E):N))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(B.PureComponent);Hu(Qx,"displayName","Legend");Hu(Qx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hz=gp;function Wz(){this.__data__=new Hz,this.size=0}var Vz=Wz;function Gz(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var qz=Gz;function Kz(e){return this.__data__.get(e)}var Xz=Kz;function Yz(e){return this.__data__.has(e)}var Zz=Yz,Qz=gp,Jz=$x,eH=Fx,tH=200;function rH(e,t){var r=this.__data__;if(r instanceof Qz){var n=r.__data__;if(!Jz||n.length<tH-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new eH(n)}return r.set(e,t),this.size=r.size,this}var nH=rH,iH=gp,sH=Vz,aH=qz,oH=Xz,lH=Zz,cH=nH;function oc(e){var t=this.__data__=new iH(e);this.size=t.size}oc.prototype.clear=sH;oc.prototype.delete=aH;oc.prototype.get=oH;oc.prototype.has=lH;oc.prototype.set=cH;var QN=oc,uH="__lodash_hash_undefined__";function fH(e){return this.__data__.set(e,uH),this}var dH=fH;function hH(e){return this.__data__.has(e)}var pH=hH,gH=Fx,mH=dH,yH=pH;function Hh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gH;++t<r;)this.add(e[t])}Hh.prototype.add=Hh.prototype.push=mH;Hh.prototype.has=yH;var JN=Hh;function vH(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var eI=vH;function xH(e,t){return e.has(t)}var tI=xH,wH=JN,bH=eI,SH=tI,EH=1,AH=2;function _H(e,t,r,n,i,s){var o=r&EH,u=e.length,f=t.length;if(u!=f&&!(o&&f>u))return!1;var d=s.get(e),g=s.get(t);if(d&&g)return d==t&&g==e;var v=-1,w=!0,S=r&AH?new wH:void 0;for(s.set(e,t),s.set(t,e);++v<u;){var E=e[v],_=t[v];if(n)var A=o?n(_,E,v,t,e,s):n(E,_,v,e,t,s);if(A!==void 0){if(A)continue;w=!1;break}if(S){if(!bH(t,function(N,C){if(!SH(S,C)&&(E===N||i(E,N,r,n,s)))return S.push(C)})){w=!1;break}}else if(!(E===_||i(E,_,r,n,s))){w=!1;break}}return s.delete(e),s.delete(t),w}var rI=_H,CH=Wi,OH=CH.Uint8Array,TH=OH;function NH(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var IH=NH;function PH(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Jx=PH,JS=Mf,eE=TH,kH=Bx,jH=rI,RH=IH,MH=Jx,DH=1,LH=2,BH="[object Boolean]",$H="[object Date]",FH="[object Error]",UH="[object Map]",zH="[object Number]",HH="[object RegExp]",WH="[object Set]",VH="[object String]",GH="[object Symbol]",qH="[object ArrayBuffer]",KH="[object DataView]",tE=JS?JS.prototype:void 0,dg=tE?tE.valueOf:void 0;function XH(e,t,r,n,i,s,o){switch(r){case KH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qH:return!(e.byteLength!=t.byteLength||!s(new eE(e),new eE(t)));case BH:case $H:case zH:return kH(+e,+t);case FH:return e.name==t.name&&e.message==t.message;case HH:case VH:return e==t+"";case UH:var u=RH;case WH:var f=n&DH;if(u||(u=MH),e.size!=t.size&&!f)return!1;var d=o.get(e);if(d)return d==t;n|=LH,o.set(e,t);var g=jH(u(e),u(t),n,i,s,o);return o.delete(e),g;case GH:if(dg)return dg.call(e)==dg.call(t)}return!1}var YH=XH;function ZH(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var nI=ZH,QH=nI,JH=bn;function eW(e,t,r){var n=t(e);return JH(e)?n:QH(n,r(e))}var tW=eW;function rW(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var nW=rW;function iW(){return[]}var sW=iW,aW=nW,oW=sW,lW=Object.prototype,cW=lW.propertyIsEnumerable,rE=Object.getOwnPropertySymbols,uW=rE?function(e){return e==null?[]:(e=Object(e),aW(rE(e),function(t){return cW.call(e,t)}))}:oW,fW=uW;function dW(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var hW=dW,pW=vs,gW=xs,mW="[object Arguments]";function yW(e){return gW(e)&&pW(e)==mW}var vW=yW,nE=vW,xW=xs,iI=Object.prototype,wW=iI.hasOwnProperty,bW=iI.propertyIsEnumerable,SW=nE(function(){return arguments}())?nE:function(e){return xW(e)&&wW.call(e,"callee")&&!bW.call(e,"callee")},ew=SW,Wh={exports:{}};function EW(){return!1}var AW=EW;Wh.exports;(function(e,t){var r=Wi,n=AW,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,u=o?r.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||n;e.exports=d})(Wh,Wh.exports);var sI=Wh.exports,_W=9007199254740991,CW=/^(?:0|[1-9]\d*)$/;function OW(e,t){var r=typeof e;return t=t??_W,!!t&&(r=="number"||r!="symbol"&&CW.test(e))&&e>-1&&e%1==0&&e<t}var tw=OW,TW=9007199254740991;function NW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=TW}var rw=NW,IW=vs,PW=rw,kW=xs,jW="[object Arguments]",RW="[object Array]",MW="[object Boolean]",DW="[object Date]",LW="[object Error]",BW="[object Function]",$W="[object Map]",FW="[object Number]",UW="[object Object]",zW="[object RegExp]",HW="[object Set]",WW="[object String]",VW="[object WeakMap]",GW="[object ArrayBuffer]",qW="[object DataView]",KW="[object Float32Array]",XW="[object Float64Array]",YW="[object Int8Array]",ZW="[object Int16Array]",QW="[object Int32Array]",JW="[object Uint8Array]",eV="[object Uint8ClampedArray]",tV="[object Uint16Array]",rV="[object Uint32Array]",Ht={};Ht[KW]=Ht[XW]=Ht[YW]=Ht[ZW]=Ht[QW]=Ht[JW]=Ht[eV]=Ht[tV]=Ht[rV]=!0;Ht[jW]=Ht[RW]=Ht[GW]=Ht[MW]=Ht[qW]=Ht[DW]=Ht[LW]=Ht[BW]=Ht[$W]=Ht[FW]=Ht[UW]=Ht[zW]=Ht[HW]=Ht[WW]=Ht[VW]=!1;function nV(e){return kW(e)&&PW(e.length)&&!!Ht[IW(e)]}var iV=nV;function sV(e){return function(t){return e(t)}}var aI=sV,Vh={exports:{}};Vh.exports;(function(e,t){var r=pN,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,u=function(){try{var f=i&&i.require&&i.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u})(Vh,Vh.exports);var aV=Vh.exports,oV=iV,lV=aI,iE=aV,sE=iE&&iE.isTypedArray,cV=sE?lV(sE):oV,oI=cV,uV=hW,fV=ew,dV=bn,hV=sI,pV=tw,gV=oI,mV=Object.prototype,yV=mV.hasOwnProperty;function vV(e,t){var r=dV(e),n=!r&&fV(e),i=!r&&!n&&hV(e),s=!r&&!n&&!i&&gV(e),o=r||n||i||s,u=o?uV(e.length,String):[],f=u.length;for(var d in e)(t||yV.call(e,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||pV(d,f)))&&u.push(d);return u}var xV=vV,wV=Object.prototype;function bV(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||wV;return e===r}var SV=bV;function EV(e,t){return function(r){return e(t(r))}}var lI=EV,AV=lI,_V=AV(Object.keys,Object),CV=_V,OV=SV,TV=CV,NV=Object.prototype,IV=NV.hasOwnProperty;function PV(e){if(!OV(e))return TV(e);var t=[];for(var r in Object(e))IV.call(e,r)&&r!="constructor"&&t.push(r);return t}var kV=PV,jV=Lx,RV=rw;function MV(e){return e!=null&&RV(e.length)&&!jV(e)}var Bf=MV,DV=xV,LV=kV,BV=Bf;function $V(e){return BV(e)?DV(e):LV(e)}var kp=$V,FV=tW,UV=fW,zV=kp;function HV(e){return FV(e,zV,UV)}var WV=HV,aE=WV,VV=1,GV=Object.prototype,qV=GV.hasOwnProperty;function KV(e,t,r,n,i,s){var o=r&VV,u=aE(e),f=u.length,d=aE(t),g=d.length;if(f!=g&&!o)return!1;for(var v=f;v--;){var w=u[v];if(!(o?w in t:qV.call(t,w)))return!1}var S=s.get(e),E=s.get(t);if(S&&E)return S==t&&E==e;var _=!0;s.set(e,t),s.set(t,e);for(var A=o;++v<f;){w=u[v];var N=e[w],C=t[w];if(n)var T=o?n(C,N,w,t,e,s):n(N,C,w,e,t,s);if(!(T===void 0?N===C||i(N,C,r,n,s):T)){_=!1;break}A||(A=w=="constructor")}if(_&&!A){var I=e.constructor,P=t.constructor;I!=P&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof P=="function"&&P instanceof P)&&(_=!1)}return s.delete(e),s.delete(t),_}var XV=KV,YV=ao,ZV=Wi,QV=YV(ZV,"DataView"),JV=QV,eG=ao,tG=Wi,rG=eG(tG,"Promise"),nG=rG,iG=ao,sG=Wi,aG=iG(sG,"Set"),cI=aG,oG=ao,lG=Wi,cG=oG(lG,"WeakMap"),uG=cG,fy=JV,dy=$x,hy=nG,py=cI,gy=uG,uI=vs,lc=mN,oE="[object Map]",fG="[object Object]",lE="[object Promise]",cE="[object Set]",uE="[object WeakMap]",fE="[object DataView]",dG=lc(fy),hG=lc(dy),pG=lc(hy),gG=lc(py),mG=lc(gy),Sa=uI;(fy&&Sa(new fy(new ArrayBuffer(1)))!=fE||dy&&Sa(new dy)!=oE||hy&&Sa(hy.resolve())!=lE||py&&Sa(new py)!=cE||gy&&Sa(new gy)!=uE)&&(Sa=function(e){var t=uI(e),r=t==fG?e.constructor:void 0,n=r?lc(r):"";if(n)switch(n){case dG:return fE;case hG:return oE;case pG:return lE;case gG:return cE;case mG:return uE}return t});var yG=Sa,hg=QN,vG=rI,xG=YH,wG=XV,dE=yG,hE=bn,pE=sI,bG=oI,SG=1,gE="[object Arguments]",mE="[object Array]",Td="[object Object]",EG=Object.prototype,yE=EG.hasOwnProperty;function AG(e,t,r,n,i,s){var o=hE(e),u=hE(t),f=o?mE:dE(e),d=u?mE:dE(t);f=f==gE?Td:f,d=d==gE?Td:d;var g=f==Td,v=d==Td,w=f==d;if(w&&pE(e)){if(!pE(t))return!1;o=!0,g=!1}if(w&&!g)return s||(s=new hg),o||bG(e)?vG(e,t,r,n,i,s):xG(e,t,f,r,n,i,s);if(!(r&SG)){var S=g&&yE.call(e,"__wrapped__"),E=v&&yE.call(t,"__wrapped__");if(S||E){var _=S?e.value():e,A=E?t.value():t;return s||(s=new hg),i(_,A,r,n,s)}}return w?(s||(s=new hg),wG(e,t,r,n,i,s)):!1}var _G=AG,CG=_G,vE=xs;function fI(e,t,r,n,i){return e===t?!0:e==null||t==null||!vE(e)&&!vE(t)?e!==e&&t!==t:CG(e,t,r,n,fI,i)}var nw=fI,OG=QN,TG=nw,NG=1,IG=2;function PG(e,t,r,n){var i=r.length,s=i,o=!n;if(e==null)return!s;for(e=Object(e);i--;){var u=r[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){u=r[i];var f=u[0],d=e[f],g=u[1];if(o&&u[2]){if(d===void 0&&!(f in e))return!1}else{var v=new OG;if(n)var w=n(d,g,f,e,t,v);if(!(w===void 0?TG(g,d,NG|IG,n,v):w))return!1}}return!0}var kG=PG,jG=na;function RG(e){return e===e&&!jG(e)}var dI=RG,MG=dI,DG=kp;function LG(e){for(var t=DG(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,MG(i)]}return t}var BG=LG;function $G(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var hI=$G,FG=kG,UG=BG,zG=hI;function HG(e){var t=UG(e);return t.length==1&&t[0][2]?zG(t[0][0],t[0][1]):function(r){return r===e||FG(r,e,t)}}var WG=HG;function VG(e,t){return e!=null&&t in Object(e)}var GG=VG,qG=bN,KG=ew,XG=bn,YG=tw,ZG=rw,QG=yp;function JG(e,t,r){t=qG(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var o=QG(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&ZG(i)&&YG(o,i)&&(XG(e)||KG(e)))}var eq=JG,tq=GG,rq=eq;function nq(e,t){return e!=null&&rq(e,t,tq)}var iq=nq,sq=nw,aq=SN,oq=iq,lq=Dx,cq=dI,uq=hI,fq=yp,dq=1,hq=2;function pq(e,t){return lq(e)&&cq(t)?uq(fq(e),t):function(r){var n=aq(r,e);return n===void 0&&n===t?oq(r,e):sq(t,n,dq|hq)}}var gq=pq;function mq(e){return e}var cc=mq;function yq(e){return function(t){return t==null?void 0:t[e]}}var vq=yq,xq=Hx;function wq(e){return function(t){return xq(t,e)}}var bq=wq,Sq=vq,Eq=bq,Aq=Dx,_q=yp;function Cq(e){return Aq(e)?Sq(_q(e)):Eq(e)}var Oq=Cq,Tq=WG,Nq=gq,Iq=cc,Pq=bn,kq=Oq;function jq(e){return typeof e=="function"?e:e==null?Iq:typeof e=="object"?Pq(e)?Nq(e[0],e[1]):Tq(e):kq(e)}var ia=jq;function Rq(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var pI=Rq;function Mq(e){return e!==e}var Dq=Mq;function Lq(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Bq=Lq,$q=pI,Fq=Dq,Uq=Bq;function zq(e,t,r){return t===t?Uq(e,t,r):$q(e,Fq,r)}var Hq=zq,Wq=Hq;function Vq(e,t){var r=e==null?0:e.length;return!!r&&Wq(e,t,0)>-1}var Gq=Vq;function qq(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Kq=qq;function Xq(){}var Yq=Xq,pg=cI,Zq=Yq,Qq=Jx,Jq=1/0,eK=pg&&1/Qq(new pg([,-0]))[1]==Jq?function(e){return new pg(e)}:Zq,tK=eK,rK=JN,nK=Gq,iK=Kq,sK=tI,aK=tK,oK=Jx,lK=200;function cK(e,t,r){var n=-1,i=nK,s=e.length,o=!0,u=[],f=u;if(r)o=!1,i=iK;else if(s>=lK){var d=t?null:aK(e);if(d)return oK(d);o=!1,i=sK,f=new rK}else f=t?[]:u;e:for(;++n<s;){var g=e[n],v=t?t(g):g;if(g=r||g!==0?g:0,o&&v===v){for(var w=f.length;w--;)if(f[w]===v)continue e;t&&f.push(v),u.push(g)}else i(f,v,r)||(f!==u&&f.push(v),u.push(g))}return u}var uK=cK,fK=ia,dK=uK;function hK(e,t){return e&&e.length?dK(e,fK(t)):[]}var pK=hK;const xE=Pt(pK);function gI(e,t,r){return t===!0?xE(e,r):it(t)?xE(e,t):e}function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}var gK=["ref"];function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){jp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yI(n.key),n)}}function yK(e,t,r){return t&&bE(e.prototype,t),r&&bE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vK(e,t,r){return t=Gh(t),xK(e,mI()?Reflect.construct(t,r||[],Gh(e).constructor):t.apply(e,r))}function xK(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wK(e)}function wK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mI=function(){return!!e})()}function Gh(e){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gh(e)}function bK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},my(e,t)}function jp(e,t,r){return t=yI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yI(e){var t=SK(e,"string");return Cl(t)=="symbol"?t:t+""}function SK(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function EK(e,t){if(e==null)return{};var r=AK(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _K(e){return e.value}function CK(e,t){if(X.isValidElement(e))return X.cloneElement(e,t);if(typeof e=="function")return X.createElement(e,t);t.ref;var r=EK(t,gK);return X.createElement(Qx,r)}var SE=1,$a=function(e){function t(){var r;mK(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=vK(this,t,[].concat(i)),jp(r,"lastBoundingBox",{width:-1,height:-1}),r}return bK(t,e),yK(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>SE||Math.abs(i.height-this.lastBoundingBox.height)>SE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,u=i.verticalAlign,f=i.margin,d=i.chartWidth,g=i.chartHeight,v,w;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var S=this.getBBoxSnapshot();v={left:((d||0)-S.width)/2}}else v=o==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var E=this.getBBoxSnapshot();w={top:((g||0)-E.height)/2}}else w=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return Vi(Vi({},v),w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,u=i.height,f=i.wrapperStyle,d=i.payloadUniqBy,g=i.payload,v=Vi(Vi({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return X.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:function(S){n.wrapperNode=S}},CK(s,Vi(Vi({},this.props),{},{payload:gI(g,d,_K)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Vi(Vi({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Ee(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(B.PureComponent);jp($a,"displayName","Legend");jp($a,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var EE=Mf,OK=ew,TK=bn,AE=EE?EE.isConcatSpreadable:void 0;function NK(e){return TK(e)||OK(e)||!!(AE&&e&&e[AE])}var IK=NK,PK=nI,kK=IK;function vI(e,t,r,n,i){var s=-1,o=e.length;for(r||(r=kK),i||(i=[]);++s<o;){var u=e[s];t>0&&r(u)?t>1?vI(u,t-1,r,n,i):PK(i,u):n||(i[i.length]=u)}return i}var xI=vI;function jK(e){return function(t,r,n){for(var i=-1,s=Object(t),o=n(t),u=o.length;u--;){var f=o[e?u:++i];if(r(s[f],f,s)===!1)break}return t}}var RK=jK,MK=RK,DK=MK(),LK=DK,BK=LK,$K=kp;function FK(e,t){return e&&BK(e,t,$K)}var wI=FK,UK=Bf;function zK(e,t){return function(r,n){if(r==null)return r;if(!UK(r))return e(r,n);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var HK=zK,WK=wI,VK=HK,GK=VK(WK),iw=GK,qK=iw,KK=Bf;function XK(e,t){var r=-1,n=KK(e)?Array(e.length):[];return qK(e,function(i,s,o){n[++r]=t(i,s,o)}),n}var bI=XK;function YK(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ZK=YK,_E=rc;function QK(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=_E(e),o=t!==void 0,u=t===null,f=t===t,d=_E(t);if(!u&&!d&&!s&&e>t||s&&o&&f&&!u&&!d||n&&o&&f||!r&&f||!i)return 1;if(!n&&!s&&!d&&e<t||d&&r&&i&&!n&&!s||u&&r&&i||!o&&i||!f)return-1}return 0}var JK=QK,eX=JK;function tX(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,u=r.length;++n<o;){var f=eX(i[n],s[n]);if(f){if(n>=u)return f;var d=r[n];return f*(d=="desc"?-1:1)}}return e.index-t.index}var rX=tX,gg=zx,nX=Hx,iX=ia,sX=bI,aX=ZK,oX=aI,lX=rX,cX=cc,uX=bn;function fX(e,t,r){t.length?t=gg(t,function(s){return uX(s)?function(o){return nX(o,s.length===1?s[0]:s)}:s}):t=[cX];var n=-1;t=gg(t,oX(iX));var i=sX(e,function(s,o,u){var f=gg(t,function(d){return d(s)});return{criteria:f,index:++n,value:s}});return aX(i,function(s,o){return lX(s,o,r)})}var dX=fX;function hX(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var pX=hX,gX=pX,CE=Math.max;function mX(e,t,r){return t=CE(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=CE(n.length-t,0),o=Array(s);++i<s;)o[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(o),gX(e,this,u)}}var yX=mX;function vX(e){return function(){return e}}var xX=vX,wX=ao,bX=function(){try{var e=wX(Object,"defineProperty");return e({},"",{}),e}catch{}}(),SI=bX,SX=xX,OE=SI,EX=cc,AX=OE?function(e,t){return OE(e,"toString",{configurable:!0,enumerable:!1,value:SX(t),writable:!0})}:EX,_X=AX,CX=800,OX=16,TX=Date.now;function NX(e){var t=0,r=0;return function(){var n=TX(),i=OX-(n-r);if(r=n,i>0){if(++t>=CX)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var IX=NX,PX=_X,kX=IX,jX=kX(PX),RX=jX,MX=cc,DX=yX,LX=RX;function BX(e,t){return LX(DX(e,t,MX),e+"")}var $X=BX,FX=Bx,UX=Bf,zX=tw,HX=na;function WX(e,t,r){if(!HX(r))return!1;var n=typeof t;return(n=="number"?UX(r)&&zX(t,r.length):n=="string"&&t in r)?FX(r[t],e):!1}var Rp=WX,VX=xI,GX=dX,qX=$X,TE=Rp,KX=qX(function(e,t){if(e==null)return[];var r=t.length;return r>1&&TE(e,t[0],t[1])?t=[]:r>2&&TE(t[0],t[1],t[2])&&(t=[t[0]]),GX(e,VX(t,1),[])}),XX=KX;const sw=Pt(XX);function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(this,arguments)}function YX(e,t){return eY(e)||JX(e,t)||QX(e,t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QX(e,t){if(e){if(typeof e=="string")return NE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NE(e,t)}}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function eY(e){if(Array.isArray(e))return e}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){tY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t,r){return t=rY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=nY(e,"string");return Wu(t)=="symbol"?t:t+""}function nY(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iY(e){return Array.isArray(e)&&Er(e[0])&&Er(e[1])?e.join(" ~ "):e}var sY=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,u=o===void 0?{}:o,f=t.labelStyle,d=f===void 0?{}:f,g=t.payload,v=t.formatter,w=t.itemSorter,S=t.wrapperClassName,E=t.labelClassName,_=t.label,A=t.labelFormatter,N=t.accessibilityLayer,C=N===void 0?!1:N,T=function(){if(g&&g.length){var U={padding:0,margin:0},J=(w?sw(g,w):g).map(function(Q,H){if(Q.type==="none")return null;var ee=mg({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},u),Z=Q.formatter||v||iY,Y=Q.value,ae=Q.name,ne=Y,de=ae;if(Z&&ne!=null&&de!=null){var le=Z(Y,ae,Q,H,g);if(Array.isArray(le)){var Se=YX(le,2);ne=Se[0],de=Se[1]}else ne=le}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:ee},Er(de)?X.createElement("span",{className:"recharts-tooltip-item-name"},de):null,Er(de)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},ne),X.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:U},J)}return null},I=mg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=mg({margin:0},d),k=!ot(_),R=k?_:"",F=yt("recharts-default-tooltip",S),L=yt("recharts-tooltip-label",E);k&&A&&g!==void 0&&g!==null&&(R=A(_,g));var K=C?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",yy({className:F,style:I},K),X.createElement("p",{className:L,style:P},X.isValidElement(R)?R:"".concat(R)),T())};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Nd(e,t,r){return t=aY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=oY(e,"string");return Vu(t)=="symbol"?t:t+""}function oY(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mc="recharts-tooltip-wrapper",lY={visibility:"hidden"};function cY(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return yt(Mc,Nd(Nd(Nd(Nd({},"".concat(Mc,"-right"),Ee(r)&&t&&Ee(t.x)&&r>=t.x),"".concat(Mc,"-left"),Ee(r)&&t&&Ee(t.x)&&r<t.x),"".concat(Mc,"-bottom"),Ee(n)&&t&&Ee(t.y)&&n>=t.y),"".concat(Mc,"-top"),Ee(n)&&t&&Ee(t.y)&&n<t.y))}function PE(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,u=e.tooltipDimension,f=e.viewBox,d=e.viewBoxDimension;if(s&&Ee(s[n]))return s[n];var g=r[n]-u-i,v=r[n]+i;if(t[n])return o[n]?g:v;if(o[n]){var w=g,S=f[n];return w<S?Math.max(v,f[n]):Math.max(g,f[n])}var E=v+u,_=f[n]+d;return E>_?Math.max(g,f[n]):Math.max(v,f[n])}function uY(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fY(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,u=e.useTranslate3d,f=e.viewBox,d,g,v;return o.height>0&&o.width>0&&r?(g=PE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),v=PE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),d=uY({translateX:g,translateY:v,useTranslate3d:u})):d=lY,{cssProperties:d,cssClasses:cY({translateX:g,translateY:v,coordinate:r})}}function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AI(n.key),n)}}function pY(e,t,r){return t&&hY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gY(e,t,r){return t=qh(t),mY(e,EI()?Reflect.construct(t,r||[],qh(e).constructor):t.apply(e,r))}function mY(e,t){if(t&&(Ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yY(e)}function yY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EI=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(e)}function vY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vy(e,t)}function xy(e,t,r){return t=AI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AI(e){var t=xY(e,"string");return Ol(t)=="symbol"?t:t+""}function xY(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RE=1,wY=function(e){function t(){var r;dY(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=gY(this,t,[].concat(i)),xy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xy(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,f,d,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(d=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&d!==void 0?d:0}})}}),r}return vY(t,e),pY(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>RE||Math.abs(n.height-this.state.lastBoundingBox.height)>RE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,d=i.children,g=i.coordinate,v=i.hasPayload,w=i.isAnimationActive,S=i.offset,E=i.position,_=i.reverseDirection,A=i.useTranslate3d,N=i.viewBox,C=i.wrapperStyle,T=fY({allowEscapeViewBox:o,coordinate:g,offsetTopLeft:S,position:E,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:N}),I=T.cssClasses,P=T.cssProperties,k=jE(jE({transition:w&&s?"transform ".concat(u,"ms ").concat(f):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&v?"visible":"hidden",position:"absolute",top:0,left:0},C);return X.createElement("div",{tabIndex:-1,className:I,style:k,ref:function(F){n.wrapperNode=F}},d)}}])}(B.PureComponent),bY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uc={isSsr:bY()};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(n){aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CI(n.key),n)}}function AY(e,t,r){return t&&EY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Y(e,t,r){return t=Kh(t),CY(e,_I()?Reflect.construct(t,r||[],Kh(e).constructor):t.apply(e,r))}function CY(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OY(e)}function OY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_I=function(){return!!e})()}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kh(e)}function TY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wy(e,t)}function aw(e,t,r){return t=CI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CI(e){var t=NY(e,"string");return Tl(t)=="symbol"?t:t+""}function NY(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IY(e){return e.dataKey}function PY(e,t){return X.isValidElement(e)?X.cloneElement(e,t):typeof e=="function"?X.createElement(e,t):X.createElement(sY,t)}var Ri=function(e){function t(){return SY(this,t),_Y(this,t,arguments)}return TY(t,e),AY(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,d=i.content,g=i.coordinate,v=i.filterNull,w=i.isAnimationActive,S=i.offset,E=i.payload,_=i.payloadUniqBy,A=i.position,N=i.reverseDirection,C=i.useTranslate3d,T=i.viewBox,I=i.wrapperStyle,P=E??[];v&&P.length&&(P=gI(E.filter(function(R){return R.value!=null&&(R.hide!==!0||n.props.includeHidden)}),_,IY));var k=P.length>0;return X.createElement(wY,{allowEscapeViewBox:o,animationDuration:u,animationEasing:f,isAnimationActive:w,active:s,coordinate:g,hasPayload:k,offset:S,position:A,reverseDirection:N,useTranslate3d:C,viewBox:T,wrapperStyle:I},PY(d,DE(DE({},this.props),{},{payload:P})))}}])}(B.PureComponent);aw(Ri,"displayName","Tooltip");aw(Ri,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kY=Wi,jY=function(){return kY.Date.now()},RY=jY,MY=/\s/;function DY(e){for(var t=e.length;t--&&MY.test(e.charAt(t)););return t}var LY=DY,BY=LY,$Y=/^\s+/;function FY(e){return e&&e.slice(0,BY(e)+1).replace($Y,"")}var UY=FY,zY=UY,LE=na,HY=rc,BE=NaN,WY=/^[-+]0x[0-9a-f]+$/i,VY=/^0b[01]+$/i,GY=/^0o[0-7]+$/i,qY=parseInt;function KY(e){if(typeof e=="number")return e;if(HY(e))return BE;if(LE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=LE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=zY(e);var r=VY.test(e);return r||GY.test(e)?qY(e.slice(2),r?2:8):WY.test(e)?BE:+e}var OI=KY,XY=na,yg=RY,$E=OI,YY="Expected a function",ZY=Math.max,QY=Math.min;function JY(e,t,r){var n,i,s,o,u,f,d=0,g=!1,v=!1,w=!0;if(typeof e!="function")throw new TypeError(YY);t=$E(t)||0,XY(r)&&(g=!!r.leading,v="maxWait"in r,s=v?ZY($E(r.maxWait)||0,t):s,w="trailing"in r?!!r.trailing:w);function S(k){var R=n,F=i;return n=i=void 0,d=k,o=e.apply(F,R),o}function E(k){return d=k,u=setTimeout(N,t),g?S(k):o}function _(k){var R=k-f,F=k-d,L=t-R;return v?QY(L,s-F):L}function A(k){var R=k-f,F=k-d;return f===void 0||R>=t||R<0||v&&F>=s}function N(){var k=yg();if(A(k))return C(k);u=setTimeout(N,_(k))}function C(k){return u=void 0,w&&n?S(k):(n=i=void 0,o)}function T(){u!==void 0&&clearTimeout(u),d=0,n=f=i=u=void 0}function I(){return u===void 0?o:C(yg())}function P(){var k=yg(),R=A(k);if(n=arguments,i=this,f=k,R){if(u===void 0)return E(f);if(v)return clearTimeout(u),u=setTimeout(N,t),S(f)}return u===void 0&&(u=setTimeout(N,t)),o}return P.cancel=T,P.flush=I,P}var eZ=JY,tZ=eZ,rZ=na,nZ="Expected a function";function iZ(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(nZ);return rZ(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),tZ(e,t,{leading:n,maxWait:t,trailing:i})}var sZ=iZ;const TI=Pt(sZ);function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return t=oZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return Gu(t)=="symbol"?t:t+""}function lZ(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cZ(e,t){return hZ(e)||dZ(e,t)||fZ(e,t)||uZ()}function uZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(e,t){if(e){if(typeof e=="string")return UE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(e,t)}}function UE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function hZ(e){if(Array.isArray(e))return e}var pZ=B.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,u=e.height,f=u===void 0?"100%":u,d=e.minWidth,g=d===void 0?0:d,v=e.minHeight,w=e.maxHeight,S=e.children,E=e.debounce,_=E===void 0?0:E,A=e.id,N=e.className,C=e.onResize,T=e.style,I=T===void 0?{}:T,P=B.useRef(null),k=B.useRef();k.current=C,B.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var R=B.useState({containerWidth:i.width,containerHeight:i.height}),F=cZ(R,2),L=F[0],K=F[1],V=B.useCallback(function(J,Q){K(function(H){var ee=Math.round(J),Z=Math.round(Q);return H.containerWidth===ee&&H.containerHeight===Z?H:{containerWidth:ee,containerHeight:Z}})},[]);B.useEffect(function(){var J=function(ae){var ne,de=ae[0].contentRect,le=de.width,Se=de.height;V(le,Se),(ne=k.current)===null||ne===void 0||ne.call(k,le,Se)};_>0&&(J=TI(J,_,{trailing:!0,leading:!1}));var Q=new ResizeObserver(J),H=P.current.getBoundingClientRect(),ee=H.width,Z=H.height;return V(ee,Z),Q.observe(P.current),function(){Q.disconnect()}},[V,_]);var U=B.useMemo(function(){var J=L.containerWidth,Q=L.containerHeight;if(J<0||Q<0)return null;ss(ka(o)||ka(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,f),ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=ka(o)?J:o,ee=ka(f)?Q:f;r&&r>0&&(H?ee=H/r:ee&&(H=ee*r),w&&ee>w&&(ee=w)),ss(H>0||ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,ee,o,f,g,v,r);var Z=!Array.isArray(S)&&is(S.type).endsWith("Chart");return X.Children.map(S,function(Y){return X.isValidElement(Y)?B.cloneElement(Y,Id({width:H,height:ee},Z?{style:Id({height:"100%",width:"100%",maxHeight:ee,maxWidth:H},Y.props.style)}:{})):Y})},[r,S,f,w,v,g,L,o]);return X.createElement("div",{id:A?"".concat(A):void 0,className:yt("recharts-responsive-container",N),style:Id(Id({},I),{},{width:o,height:f,minWidth:g,minHeight:v,maxHeight:w}),ref:P},U)}),NI=function(t){return null};NI.displayName="Cell";function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){gZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gZ(e,t,r){return t=mZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mZ(e){var t=yZ(e,"string");return qu(t)=="symbol"?t:t+""}function yZ(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var No={widthCache:{},cacheCount:0},vZ=2e3,xZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HE="recharts_measurement_span";function wZ(e){var t=by({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||uc.isSsr)return{width:0,height:0};var n=wZ(r),i=JSON.stringify({text:t,copyStyle:n});if(No.widthCache[i])return No.widthCache[i];try{var s=document.getElementById(HE);s||(s=document.createElement("span"),s.setAttribute("id",HE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=by(by({},xZ),n);Object.assign(s.style,o),s.textContent="".concat(t);var u=s.getBoundingClientRect(),f={width:u.width,height:u.height};return No.widthCache[i]=f,++No.cacheCount>vZ&&(No.cacheCount=0,No.widthCache={}),f}catch{return{width:0,height:0}}},bZ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Xh(e,t){return _Z(e)||AZ(e,t)||EZ(e,t)||SZ()}function SZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(e,t){if(e){if(typeof e=="string")return WE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WE(e,t)}}function WE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function _Z(e){if(Array.isArray(e))return e}function CZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TZ(n.key),n)}}function OZ(e,t,r){return t&&VE(e.prototype,t),r&&VE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TZ(e){var t=NZ(e,"string");return Ku(t)=="symbol"?t:t+""}function NZ(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,II={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kZ=Object.keys(II),Xo="NaN";function jZ(e,t){return e*II[t]}var Pd=function(){function e(t,r){CZ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!IZ.test(r)&&(this.num=NaN,this.unit=""),kZ.includes(r)&&(this.num=jZ(t,r),this.unit="px")}return OZ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=PZ.exec(r))!==null&&n!==void 0?n:[],s=Xh(i,3),o=s[1],u=s[2];return new e(parseFloat(o),u??"")}}])}();function PI(e){if(e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=GE.exec(t))!==null&&r!==void 0?r:[],i=Xh(n,4),s=i[1],o=i[2],u=i[3],f=Pd.parse(s??""),d=Pd.parse(u??""),g=o==="*"?f.multiply(d):f.divide(d);if(g.isNaN())return Xo;t=t.replace(GE,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var v,w=(v=qE.exec(t))!==null&&v!==void 0?v:[],S=Xh(w,4),E=S[1],_=S[2],A=S[3],N=Pd.parse(E??""),C=Pd.parse(A??""),T=_==="+"?N.add(C):N.subtract(C);if(T.isNaN())return Xo;t=t.replace(qE,T.toString())}return t}var KE=/\(([^()]*)\)/;function RZ(e){for(var t=e;t.includes("(");){var r=KE.exec(t),n=Xh(r,2),i=n[1];t=t.replace(KE,PI(i))}return t}function MZ(e){var t=e.replace(/\s+/g,"");return t=RZ(t),t=PI(t),t}function DZ(e){try{return MZ(e)}catch{return Xo}}function vg(e){var t=DZ(e.slice(5,-1));return t===Xo?"":t}var LZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],BZ=["dx","dy","angle","className","breakAll"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function XE(e,t){if(e==null)return{};var r=$Z(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Z(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YE(e,t){return HZ(e)||zZ(e,t)||UZ(e,t)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UZ(e,t){if(e){if(typeof e=="string")return ZE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(e,t)}}function ZE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function HZ(e){if(Array.isArray(e))return e}var kI=/[ \f\n\r\t\v\u2028\u2029]+/,jI=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];ot(r)||(n?s=r.toString().split(""):s=r.toString().split(kI));var o=s.map(function(f){return{word:f,width:cu(f,i).width}}),u=n?0:cu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},WZ=function(t,r,n,i,s){var o=t.maxLines,u=t.children,f=t.style,d=t.breakAll,g=Ee(o),v=u,w=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(ee,Z){var Y=Z.word,ae=Z.width,ne=ee[ee.length-1];if(ne&&(i==null||s||ne.width+ae+n<Number(i)))ne.words.push(Y),ne.width+=ae+n;else{var de={words:[Y],width:ae};ee.push(de)}return ee},[])},S=w(r),E=function(H){return H.reduce(function(ee,Z){return ee.width>Z.width?ee:Z})};if(!g)return S;for(var _="…",A=function(H){var ee=v.slice(0,H),Z=jI({breakAll:d,style:f,children:ee+_}).wordsWithComputedWidth,Y=w(Z),ae=Y.length>o||E(Y).width>Number(i);return[ae,Y]},N=0,C=v.length-1,T=0,I;N<=C&&T<=v.length-1;){var P=Math.floor((N+C)/2),k=P-1,R=A(k),F=YE(R,2),L=F[0],K=F[1],V=A(P),U=YE(V,1),J=U[0];if(!L&&!J&&(N=P+1),L&&J&&(C=P-1),!L&&J){I=K;break}T++}return I||S},QE=function(t){var r=ot(t)?[]:t.toString().split(kI);return[{words:r}]},VZ=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,u=t.maxLines;if((r||n)&&!uc.isSsr){var f,d,g=jI({breakAll:o,children:i,style:s});if(g){var v=g.wordsWithComputedWidth,w=g.spaceWidth;f=v,d=w}else return QE(i);return WZ({breakAll:o,children:i,maxLines:u,style:s},f,d,r,n)}return QE(i)},JE="#808080",Yh=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,u=o===void 0?"1em":o,f=t.capHeight,d=f===void 0?"0.71em":f,g=t.scaleToFit,v=g===void 0?!1:g,w=t.textAnchor,S=w===void 0?"start":w,E=t.verticalAnchor,_=E===void 0?"end":E,A=t.fill,N=A===void 0?JE:A,C=XE(t,LZ),T=B.useMemo(function(){return VZ({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:v,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,v,C.style,C.width]),I=C.dx,P=C.dy,k=C.angle,R=C.className,F=C.breakAll,L=XE(C,BZ);if(!Er(n)||!Er(s))return null;var K=n+(Ee(I)?I:0),V=s+(Ee(P)?P:0),U;switch(_){case"start":U=vg("calc(".concat(d,")"));break;case"middle":U=vg("calc(".concat((T.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:U=vg("calc(".concat(T.length-1," * -").concat(u,")"));break}var J=[];if(v){var Q=T[0].width,H=C.width;J.push("scale(".concat((Ee(H)?H/Q:1)/Q,")"))}return k&&J.push("rotate(".concat(k,", ").concat(K,", ").concat(V,")")),J.length&&(L.transform=J.join(" ")),X.createElement("text",Sy({},ht(L,!0),{x:K,y:V,className:yt("recharts-text",R),textAnchor:S,fill:N.includes("url")?JE:N}),T.map(function(ee,Z){var Y=ee.words.join(F?"":" ");return X.createElement("tspan",{x:K,dy:Z===0?U:u,key:"".concat(Y,"-").concat(Z)},Y)}))};function Xs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ow(e){let t,r,n;e.length!==2?(t=Xs,r=(u,f)=>Xs(e(u),f),n=(u,f)=>e(u)-f):(t=e===Xs||e===GZ?e:qZ,r=e,n=e);function i(u,f,d=0,g=u.length){if(d<g){if(t(f,f)!==0)return g;do{const v=d+g>>>1;r(u[v],f)<0?d=v+1:g=v}while(d<g)}return d}function s(u,f,d=0,g=u.length){if(d<g){if(t(f,f)!==0)return g;do{const v=d+g>>>1;r(u[v],f)<=0?d=v+1:g=v}while(d<g)}return d}function o(u,f,d=0,g=u.length){const v=i(u,f,d,g-1);return v>d&&n(u[v-1],f)>-n(u[v],f)?v-1:v}return{left:i,center:o,right:s}}function qZ(){return 0}function RI(e){return e===null?NaN:+e}function*KZ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const XZ=ow(Xs),$f=XZ.right;ow(RI).center;class eA extends Map{constructor(t,r=QZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(tA(this,t))}has(t){return super.has(tA(this,t))}set(t,r){return super.set(YZ(this,t),r)}delete(t){return super.delete(ZZ(this,t))}}function tA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function YZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ZZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function QZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function JZ(e=Xs){if(e===Xs)return MI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function MI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eQ=Math.sqrt(50),tQ=Math.sqrt(10),rQ=Math.sqrt(2);function Zh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=eQ?10:s>=tQ?5:s>=rQ?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/o,u=Math.round(e*d),f=Math.round(t*d),u/d<e&&++u,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*o,u=Math.round(e/d),f=Math.round(t/d),u*d<e&&++u,f*d>t&&--f),f<u&&.5<=r&&r<2?Zh(e,t,r*2):[u,f,d]}function Ey(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?Zh(t,e,r):Zh(e,t,r);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(n)if(o<0)for(let d=0;d<u;++d)f[d]=(s-d)/-o;else for(let d=0;d<u;++d)f[d]=(s-d)*o;else if(o<0)for(let d=0;d<u;++d)f[d]=(i+d)/-o;else for(let d=0;d<u;++d)f[d]=(i+d)*o;return f}function Ay(e,t,r){return t=+t,e=+e,r=+r,Zh(e,t,r)[2]}function _y(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Ay(t,e,r):Ay(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function rA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DI(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?MI:JZ(i);n>r;){if(n-r>600){const f=n-r+1,d=t-r+1,g=Math.log(f),v=.5*Math.exp(2*g/3),w=.5*Math.sqrt(g*v*(f-v)/f)*(d-f/2<0?-1:1),S=Math.max(r,Math.floor(t-d*v/f+w)),E=Math.min(n,Math.floor(t+(f-d)*v/f+w));DI(e,t,S,E,i)}const s=e[t];let o=r,u=n;for(Dc(e,r,t),i(e[n],s)>0&&Dc(e,r,n);o<u;){for(Dc(e,o,u),++o,--u;i(e[o],s)<0;)++o;for(;i(e[u],s)>0;)--u}i(e[r],s)===0?Dc(e,r,u):(++u,Dc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Dc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nQ(e,t,r){if(e=Float64Array.from(KZ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nA(e);if(t>=1)return rA(e);var n,i=(n-1)*t,s=Math.floor(i),o=rA(DI(e,s).subarray(0,s+1)),u=nA(e.subarray(s+1));return o+(u-o)*(i-s)}}function iQ(e,t,r=RI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return o+(u-o)*(i-s)}}function sQ(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function ii(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ws(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Cy=Symbol("implicit");function lw(){var e=new eA,t=[],r=[],n=Cy;function i(s){let o=e.get(s);if(o===void 0){if(n!==Cy)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new eA;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return lw(t,r).unknown(n)},ii.apply(i,arguments),i}function Xu(){var e=lw().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,u=!1,f=0,d=0,g=.5;delete e.unknown;function v(){var w=t().length,S=i<n,E=S?i:n,_=S?n:i;s=(_-E)/Math.max(1,w-f+d*2),u&&(s=Math.floor(s)),E+=(_-E-s*(w-f))*g,o=s*(1-f),u&&(E=Math.round(E),o=Math.round(o));var A=sQ(w).map(function(N){return E+s*N});return r(S?A.reverse():A)}return e.domain=function(w){return arguments.length?(t(w),v()):t()},e.range=function(w){return arguments.length?([n,i]=w,n=+n,i=+i,v()):[n,i]},e.rangeRound=function(w){return[n,i]=w,n=+n,i=+i,u=!0,v()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(w){return arguments.length?(u=!!w,v()):u},e.padding=function(w){return arguments.length?(f=Math.min(1,d=+w),v()):f},e.paddingInner=function(w){return arguments.length?(f=Math.min(1,w),v()):f},e.paddingOuter=function(w){return arguments.length?(d=+w,v()):d},e.align=function(w){return arguments.length?(g=Math.max(0,Math.min(1,w)),v()):g},e.copy=function(){return Xu(t(),[n,i]).round(u).paddingInner(f).paddingOuter(d).align(g)},ii.apply(v(),arguments)}function LI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LI(t())},e}function uu(){return LI(Xu.apply(null,arguments).paddingInner(1))}function cw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ff(){}var Yu=.7,Qh=1/Yu,ul="\\s*([+-]?\\d+)\\s*",Zu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aQ=/^#([0-9a-f]{3,8})$/,oQ=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),lQ=new RegExp(`^rgb\\(${$i},${$i},${$i}\\)$`),cQ=new RegExp(`^rgba\\(${ul},${ul},${ul},${Zu}\\)$`),uQ=new RegExp(`^rgba\\(${$i},${$i},${$i},${Zu}\\)$`),fQ=new RegExp(`^hsl\\(${Zu},${$i},${$i}\\)$`),dQ=new RegExp(`^hsla\\(${Zu},${$i},${$i},${Zu}\\)$`),iA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cw(Ff,Qu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sA,formatHex:sA,formatHex8:hQ,formatHsl:pQ,formatRgb:aA,toString:aA});function sA(){return this.rgb().formatHex()}function hQ(){return this.rgb().formatHex8()}function pQ(){return $I(this).formatHsl()}function aA(){return this.rgb().formatRgb()}function Qu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oA(t):r===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?kd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?kd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oQ.exec(e))?new hn(t[1],t[2],t[3],1):(t=lQ.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cQ.exec(e))?kd(t[1],t[2],t[3],t[4]):(t=uQ.exec(e))?kd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fQ.exec(e))?uA(t[1],t[2]/100,t[3]/100,1):(t=dQ.exec(e))?uA(t[1],t[2]/100,t[3]/100,t[4]):iA.hasOwnProperty(e)?oA(iA[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function oA(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function kd(e,t,r,n){return n<=0&&(e=t=r=NaN),new hn(e,t,r,n)}function gQ(e){return e instanceof Ff||(e=Qu(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function Oy(e,t,r,n){return arguments.length===1?gQ(e):new hn(e,t,r,n??1)}function hn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cw(hn,Oy,BI(Ff,{brighter(e){return e=e==null?Qh:Math.pow(Qh,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(Fa(this.r),Fa(this.g),Fa(this.b),Jh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lA,formatHex:lA,formatHex8:mQ,formatRgb:cA,toString:cA}));function lA(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}`}function mQ(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}${ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function cA(){const e=Jh(this.opacity);return`${e===1?"rgb(":"rgba("}${Fa(this.r)}, ${Fa(this.g)}, ${Fa(this.b)}${e===1?")":`, ${e})`}`}function Jh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ja(e){return e=Fa(e),(e<16?"0":"")+e.toString(16)}function uA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vi(e,t,r,n)}function $I(e){if(e instanceof vi)return new vi(e.h,e.s,e.l,e.opacity);if(e instanceof Ff||(e=Qu(e)),!e)return new vi;if(e instanceof vi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,u=s-i,f=(s+i)/2;return u?(t===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-t)/u+2:o=(t-r)/u+4,u/=f<.5?s+i:2-s-i,o*=60):u=f>0&&f<1?0:o,new vi(o,u,f,e.opacity)}function yQ(e,t,r,n){return arguments.length===1?$I(e):new vi(e,t,r,n??1)}function vi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cw(vi,yQ,BI(Ff,{brighter(e){return e=e==null?Qh:Math.pow(Qh,e),new vi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new vi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new hn(xg(e>=240?e-240:e+120,i,n),xg(e,i,n),xg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new vi(fA(this.h),jd(this.s),jd(this.l),Jh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jh(this.opacity);return`${e===1?"hsl(":"hsla("}${fA(this.h)}, ${jd(this.s)*100}%, ${jd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fA(e){return e=(e||0)%360,e<0?e+360:e}function jd(e){return Math.max(0,Math.min(1,e||0))}function xg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const uw=e=>()=>e;function vQ(e,t){return function(r){return e+r*t}}function xQ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wQ(e){return(e=+e)==1?FI:function(t,r){return r-t?xQ(t,r,e):uw(isNaN(t)?r:t)}}function FI(e,t){var r=t-e;return r?vQ(e,r):uw(isNaN(e)?t:e)}const dA=function e(t){var r=wQ(t);function n(i,s){var o=r((i=Oy(i)).r,(s=Oy(s)).r),u=r(i.g,s.g),f=r(i.b,s.b),d=FI(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=u(g),i.b=f(g),i.opacity=d(g),i+""}}return n.gamma=e,n}(1);function bQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function SQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function EQ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=fc(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(u){for(o=0;o<n;++o)s[o]=i[o](u);return s}}function AQ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function e0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _Q(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=fc(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ty=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wg=new RegExp(Ty.source,"g");function CQ(e){return function(){return e}}function OQ(e){return function(t){return e(t)+""}}function TQ(e,t){var r=Ty.lastIndex=wg.lastIndex=0,n,i,s,o=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Ty.exec(e))&&(i=wg.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,f.push({i:o,x:e0(n,i)})),r=wg.lastIndex;return r<t.length&&(s=t.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?f[0]?OQ(f[0].x):CQ(t):(t=f.length,function(d){for(var g=0,v;g<t;++g)u[(v=f[g]).i]=v.x(d);return u.join("")})}function fc(e,t){var r=typeof t,n;return t==null||r==="boolean"?uw(t):(r==="number"?e0:r==="string"?(n=Qu(t))?(t=n,dA):TQ:t instanceof Qu?dA:t instanceof Date?AQ:SQ(t)?bQ:Array.isArray(t)?EQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_Q:e0)(e,t)}function fw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function NQ(e,t){t===void 0&&(t=e,e=fc);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[u](o-u)}}function IQ(e){return function(){return e}}function t0(e){return+e}var hA=[0,1];function tn(e){return e}function Ny(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:IQ(isNaN(t)?NaN:.5)}function PQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kQ(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=Ny(i,n),s=r(o,s)):(n=Ny(n,i),s=r(s,o)),function(u){return s(n(u))}}function jQ(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Ny(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(u){var f=$f(e,u,1,n)-1;return s[f](i[f](u))}}function Uf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mp(){var e=hA,t=hA,r=fc,n,i,s,o=tn,u,f,d;function g(){var w=Math.min(e.length,t.length);return o!==tn&&(o=PQ(e[0],e[w-1])),u=w>2?jQ:kQ,f=d=null,v}function v(w){return w==null||isNaN(w=+w)?s:(f||(f=u(e.map(n),t,r)))(n(o(w)))}return v.invert=function(w){return o(i((d||(d=u(t,e.map(n),e0)))(w)))},v.domain=function(w){return arguments.length?(e=Array.from(w,t0),g()):e.slice()},v.range=function(w){return arguments.length?(t=Array.from(w),g()):t.slice()},v.rangeRound=function(w){return t=Array.from(w),r=fw,g()},v.clamp=function(w){return arguments.length?(o=w?!0:tn,g()):o!==tn},v.interpolate=function(w){return arguments.length?(r=w,g()):r},v.unknown=function(w){return arguments.length?(s=w,v):s},function(w,S){return n=w,i=S,g()}}function dw(){return Mp()(tn,tn)}function RQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function r0(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Nl(e){return e=r0(Math.abs(e)),e?e[1]:NaN}function MQ(e,t){return function(r,n){for(var i=r.length,s=[],o=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}function DQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var LQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ju(e){if(!(t=LQ.exec(e)))throw new Error("invalid format: "+e);var t;return new hw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ju.prototype=hw.prototype;function hw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function BQ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var n0;function $Q(e,t){var r=r0(e,t);if(!r)return n0=void 0,e.toPrecision(t);var n=r[0],i=r[1],s=i-(n0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+r0(e,Math.max(0,t+s-1))[0]}function pA(e,t){var r=r0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const gA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pA(e*100,t),r:pA,s:$Q,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mA(e){return e}var yA=Array.prototype.map,vA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function FQ(e){var t=e.grouping===void 0||e.thousands===void 0?mA:MQ(yA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?mA:DQ(yA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(v,w){v=Ju(v);var S=v.fill,E=v.align,_=v.sign,A=v.symbol,N=v.zero,C=v.width,T=v.comma,I=v.precision,P=v.trim,k=v.type;k==="n"?(T=!0,k="g"):gA[k]||(I===void 0&&(I=12),P=!0,k="g"),(N||S==="0"&&E==="=")&&(N=!0,S="0",E="=");var R=(w&&w.prefix!==void 0?w.prefix:"")+(A==="$"?r:A==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),F=(A==="$"?n:/[%p]/.test(k)?o:"")+(w&&w.suffix!==void 0?w.suffix:""),L=gA[k],K=/[defgprs%]/.test(k);I=I===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function V(U){var J=R,Q=F,H,ee,Z;if(k==="c")Q=L(U)+Q,U="";else{U=+U;var Y=U<0||1/U<0;if(U=isNaN(U)?f:L(Math.abs(U),I),P&&(U=BQ(U)),Y&&+U==0&&_!=="+"&&(Y=!1),J=(Y?_==="("?_:u:_==="-"||_==="("?"":_)+J,Q=(k==="s"&&!isNaN(U)&&n0!==void 0?vA[8+n0/3]:"")+Q+(Y&&_==="("?")":""),K){for(H=-1,ee=U.length;++H<ee;)if(Z=U.charCodeAt(H),48>Z||Z>57){Q=(Z===46?i+U.slice(H+1):U.slice(H))+Q,U=U.slice(0,H);break}}}T&&!N&&(U=t(U,1/0));var ae=J.length+U.length+Q.length,ne=ae<C?new Array(C-ae+1).join(S):"";switch(T&&N&&(U=t(ne+U,ne.length?C-Q.length:1/0),ne=""),E){case"<":U=J+U+Q+ne;break;case"=":U=J+ne+U+Q;break;case"^":U=ne.slice(0,ae=ne.length>>1)+J+U+Q+ne.slice(ae);break;default:U=ne+J+U+Q;break}return s(U)}return V.toString=function(){return v+""},V}function g(v,w){var S=Math.max(-8,Math.min(8,Math.floor(Nl(w)/3)))*3,E=Math.pow(10,-S),_=d((v=Ju(v),v.type="f",v),{suffix:vA[8+S/3]});return function(A){return _(E*A)}}return{format:d,formatPrefix:g}}var Rd,pw,UI;UQ({thousands:",",grouping:[3],currency:["$",""]});function UQ(e){return Rd=FQ(e),pw=Rd.format,UI=Rd.formatPrefix,Rd}function zQ(e){return Math.max(0,-Nl(Math.abs(e)))}function HQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nl(t)/3)))*3-Nl(Math.abs(e)))}function WQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nl(t)-Nl(e))+1}function zI(e,t,r,n){var i=_y(e,t,r),s;switch(n=Ju(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=HQ(i,o))&&(n.precision=s),UI(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=WQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=zQ(i))&&(n.precision=s-(n.type==="%")*2);break}}return pw(n)}function sa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ey(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return zI(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],u=n[s],f,d,g=10;for(u<o&&(d=o,o=u,u=d,d=i,i=s,s=d);g-- >0;){if(d=Ay(o,u,r),d===f)return n[i]=o,n[s]=u,t(n);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;f=d}return e},e}function i0(){var e=dw();return e.copy=function(){return Uf(e,i0())},ii.apply(e,arguments),sa(e)}function HI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,t0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return HI(e).unknown(t)},e=arguments.length?Array.from(e,t0):[0,1],sa(r)}function WI(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function xA(e){return Math.log(e)}function wA(e){return Math.exp(e)}function VQ(e){return-Math.log(-e)}function GQ(e){return-Math.exp(-e)}function qQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KQ(e){return e===10?qQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bA(e){return(t,r)=>-e(-t,r)}function gw(e){const t=e(xA,wA),r=t.domain;let n=10,i,s;function o(){return i=XQ(n),s=KQ(n),r()[0]<0?(i=bA(i),s=bA(s),e(VQ,GQ)):e(xA,wA),t}return t.base=function(u){return arguments.length?(n=+u,o()):n},t.domain=function(u){return arguments.length?(r(u),o()):r()},t.ticks=u=>{const f=r();let d=f[0],g=f[f.length-1];const v=g<d;v&&([d,g]=[g,d]);let w=i(d),S=i(g),E,_;const A=u==null?10:+u;let N=[];if(!(n%1)&&S-w<A){if(w=Math.floor(w),S=Math.ceil(S),d>0){for(;w<=S;++w)for(E=1;E<n;++E)if(_=w<0?E/s(-w):E*s(w),!(_<d)){if(_>g)break;N.push(_)}}else for(;w<=S;++w)for(E=n-1;E>=1;--E)if(_=w>0?E/s(-w):E*s(w),!(_<d)){if(_>g)break;N.push(_)}N.length*2<A&&(N=Ey(d,g,A))}else N=Ey(w,S,Math.min(S-w,A)).map(s);return v?N.reverse():N},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Ju(f)).precision==null&&(f.trim=!0),f=pw(f)),u===1/0)return f;const d=Math.max(1,n*u/t.ticks().length);return g=>{let v=g/s(Math.round(i(g)));return v*n<n-.5&&(v*=n),v<=d?f(g):""}},t.nice=()=>r(WI(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function VI(){const e=gw(Mp()).domain([1,10]);return e.copy=()=>Uf(e,VI()).base(e.base()),ii.apply(e,arguments),e}function SA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function EA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mw(e){var t=1,r=e(SA(t),EA(t));return r.constant=function(n){return arguments.length?e(SA(t=+n),EA(t)):t},sa(r)}function GI(){var e=mw(Mp());return e.copy=function(){return Uf(e,GI()).constant(e.constant())},ii.apply(e,arguments)}function AA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZQ(e){return e<0?-e*e:e*e}function yw(e){var t=e(tn,tn),r=1;function n(){return r===1?e(tn,tn):r===.5?e(YQ,ZQ):e(AA(r),AA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},sa(t)}function vw(){var e=yw(Mp());return e.copy=function(){return Uf(e,vw()).exponent(e.exponent())},ii.apply(e,arguments),e}function QQ(){return vw.apply(null,arguments).exponent(.5)}function _A(e){return Math.sign(e)*e*e}function JQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qI(){var e=dw(),t=[0,1],r=!1,n;function i(s){var o=JQ(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(_A(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,t0)).map(_A)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return qI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ii.apply(i,arguments),sa(i)}function KI(){var e=[],t=[],r=[],n;function i(){var o=0,u=Math.max(1,t.length);for(r=new Array(u-1);++o<u;)r[o-1]=iQ(e,o/u);return s}function s(o){return o==null||isNaN(o=+o)?n:t[$f(r,o)]}return s.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Xs),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return KI().domain(e).range(t).unknown(n)},ii.apply(s,arguments)}function XI(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(f){return f!=null&&f<=f?i[$f(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return o}return o.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},o.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,u()):i.slice()},o.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(f){return arguments.length&&(s=f),o},o.thresholds=function(){return n.slice()},o.copy=function(){return XI().domain([e,t]).range(i).unknown(s)},ii.apply(sa(o),arguments)}function YI(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[$f(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return YI().domain(e).range(t).unknown(r)},ii.apply(i,arguments)}const bg=new Date,Sg=new Date;function Ar(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),u=i.ceil(s);return s-o<u-s?o:u},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return f;let d;do f.push(d=new Date(+s)),t(s,u),e(s);while(d<s&&s<o);return f},i.filter=s=>Ar(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(bg.setTime(+s),Sg.setTime(+o),e(bg),e(Sg),Math.floor(r(bg,Sg))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const s0=Ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);s0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):s0);s0.range;const Ji=1e3,Kn=Ji*60,es=Kn*60,ds=es*24,xw=ds*7,CA=ds*30,Eg=ds*365,Ra=Ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getUTCSeconds());Ra.range;const ww=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getMinutes());ww.range;const bw=Ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getUTCMinutes());bw.range;const Sw=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji-e.getMinutes()*Kn)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getHours());Sw.range;const Ew=Ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getUTCHours());Ew.range;const zf=Ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kn)/ds,e=>e.getDate()-1);zf.range;const Dp=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ds,e=>e.getUTCDate()-1);Dp.range;const ZI=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ds,e=>Math.floor(e/ds));ZI.range;function oo(e){return Ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kn)/xw)}const Lp=oo(0),a0=oo(1),eJ=oo(2),tJ=oo(3),Il=oo(4),rJ=oo(5),nJ=oo(6);Lp.range;a0.range;eJ.range;tJ.range;Il.range;rJ.range;nJ.range;function lo(e){return Ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xw)}const Bp=lo(0),o0=lo(1),iJ=lo(2),sJ=lo(3),Pl=lo(4),aJ=lo(5),oJ=lo(6);Bp.range;o0.range;iJ.range;sJ.range;Pl.range;aJ.range;oJ.range;const Aw=Ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Aw.range;const _w=Ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_w.range;const hs=Ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hs.range;const ps=Ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ps.range;function QI(e,t,r,n,i,s){const o=[[Ra,1,Ji],[Ra,5,5*Ji],[Ra,15,15*Ji],[Ra,30,30*Ji],[s,1,Kn],[s,5,5*Kn],[s,15,15*Kn],[s,30,30*Kn],[i,1,es],[i,3,3*es],[i,6,6*es],[i,12,12*es],[n,1,ds],[n,2,2*ds],[r,1,xw],[t,1,CA],[t,3,3*CA],[e,1,Eg]];function u(d,g,v){const w=g<d;w&&([d,g]=[g,d]);const S=v&&typeof v.range=="function"?v:f(d,g,v),E=S?S.range(d,+g+1):[];return w?E.reverse():E}function f(d,g,v){const w=Math.abs(g-d)/v,S=ow(([,,A])=>A).right(o,w);if(S===o.length)return e.every(_y(d/Eg,g/Eg,v));if(S===0)return s0.every(Math.max(_y(d,g,v),1));const[E,_]=o[w/o[S-1][2]<o[S][2]/w?S-1:S];return E.every(_)}return[u,f]}const[lJ,cJ]=QI(ps,_w,Bp,ZI,Ew,bw),[uJ,fJ]=QI(hs,Aw,Lp,zf,Sw,ww);function Ag(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _g(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function dJ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,u=e.months,f=e.shortMonths,d=Bc(i),g=$c(i),v=Bc(s),w=$c(s),S=Bc(o),E=$c(o),_=Bc(u),A=$c(u),N=Bc(f),C=$c(f),T={a:Z,A:Y,b:ae,B:ne,c:null,d:kA,e:kA,f:MJ,g:VJ,G:qJ,H:kJ,I:jJ,j:RJ,L:JI,m:DJ,M:LJ,p:de,q:le,Q:MA,s:DA,S:BJ,u:$J,U:FJ,V:UJ,w:zJ,W:HJ,x:null,X:null,y:WJ,Y:GJ,Z:KJ,"%":RA},I={a:Se,A:Te,b:qe,B:we,c:null,d:jA,e:jA,f:QJ,g:lee,G:uee,H:XJ,I:YJ,j:ZJ,L:tP,m:JJ,M:eee,p:Ot,q:rt,Q:MA,s:DA,S:tee,u:ree,U:nee,V:iee,w:see,W:aee,x:null,X:null,y:oee,Y:cee,Z:fee,"%":RA},P={a:K,A:V,b:U,B:J,c:Q,d:IA,e:IA,f:TJ,g:NA,G:TA,H:PA,I:PA,j:AJ,L:OJ,m:EJ,M:_J,p:L,q:SJ,Q:IJ,s:PJ,S:CJ,u:yJ,U:vJ,V:xJ,w:mJ,W:wJ,x:H,X:ee,y:NA,Y:TA,Z:bJ,"%":NJ};T.x=k(r,T),T.X=k(n,T),T.c=k(t,T),I.x=k(r,I),I.X=k(n,I),I.c=k(t,I);function k(be,Ce){return function(pe){var ue=[],Ae=-1,Re=0,st=be.length,ft,Qe,Je;for(pe instanceof Date||(pe=new Date(+pe));++Ae<st;)be.charCodeAt(Ae)===37&&(ue.push(be.slice(Re,Ae)),(Qe=OA[ft=be.charAt(++Ae)])!=null?ft=be.charAt(++Ae):Qe=ft==="e"?" ":"0",(Je=Ce[ft])&&(ft=Je(pe,Qe)),ue.push(ft),Re=Ae+1);return ue.push(be.slice(Re,Ae)),ue.join("")}}function R(be,Ce){return function(pe){var ue=Lc(1900,void 0,1),Ae=F(ue,be,pe+="",0),Re,st;if(Ae!=pe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ce&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Re=_g(Lc(ue.y,0,1)),st=Re.getUTCDay(),Re=st>4||st===0?o0.ceil(Re):o0(Re),Re=Dp.offset(Re,(ue.V-1)*7),ue.y=Re.getUTCFullYear(),ue.m=Re.getUTCMonth(),ue.d=Re.getUTCDate()+(ue.w+6)%7):(Re=Ag(Lc(ue.y,0,1)),st=Re.getDay(),Re=st>4||st===0?a0.ceil(Re):a0(Re),Re=zf.offset(Re,(ue.V-1)*7),ue.y=Re.getFullYear(),ue.m=Re.getMonth(),ue.d=Re.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),st="Z"in ue?_g(Lc(ue.y,0,1)).getUTCDay():Ag(Lc(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(st+5)%7:ue.w+ue.U*7-(st+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,_g(ue)):Ag(ue)}}function F(be,Ce,pe,ue){for(var Ae=0,Re=Ce.length,st=pe.length,ft,Qe;Ae<Re;){if(ue>=st)return-1;if(ft=Ce.charCodeAt(Ae++),ft===37){if(ft=Ce.charAt(Ae++),Qe=P[ft in OA?Ce.charAt(Ae++):ft],!Qe||(ue=Qe(be,pe,ue))<0)return-1}else if(ft!=pe.charCodeAt(ue++))return-1}return ue}function L(be,Ce,pe){var ue=d.exec(Ce.slice(pe));return ue?(be.p=g.get(ue[0].toLowerCase()),pe+ue[0].length):-1}function K(be,Ce,pe){var ue=S.exec(Ce.slice(pe));return ue?(be.w=E.get(ue[0].toLowerCase()),pe+ue[0].length):-1}function V(be,Ce,pe){var ue=v.exec(Ce.slice(pe));return ue?(be.w=w.get(ue[0].toLowerCase()),pe+ue[0].length):-1}function U(be,Ce,pe){var ue=N.exec(Ce.slice(pe));return ue?(be.m=C.get(ue[0].toLowerCase()),pe+ue[0].length):-1}function J(be,Ce,pe){var ue=_.exec(Ce.slice(pe));return ue?(be.m=A.get(ue[0].toLowerCase()),pe+ue[0].length):-1}function Q(be,Ce,pe){return F(be,t,Ce,pe)}function H(be,Ce,pe){return F(be,r,Ce,pe)}function ee(be,Ce,pe){return F(be,n,Ce,pe)}function Z(be){return o[be.getDay()]}function Y(be){return s[be.getDay()]}function ae(be){return f[be.getMonth()]}function ne(be){return u[be.getMonth()]}function de(be){return i[+(be.getHours()>=12)]}function le(be){return 1+~~(be.getMonth()/3)}function Se(be){return o[be.getUTCDay()]}function Te(be){return s[be.getUTCDay()]}function qe(be){return f[be.getUTCMonth()]}function we(be){return u[be.getUTCMonth()]}function Ot(be){return i[+(be.getUTCHours()>=12)]}function rt(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Ce=k(be+="",T);return Ce.toString=function(){return be},Ce},parse:function(be){var Ce=R(be+="",!1);return Ce.toString=function(){return be},Ce},utcFormat:function(be){var Ce=k(be+="",I);return Ce.toString=function(){return be},Ce},utcParse:function(be){var Ce=R(be+="",!0);return Ce.toString=function(){return be},Ce}}}var OA={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,hJ=/^%/,pJ=/[\\^$*+?|[\]().{}]/g;function xt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function gJ(e){return e.replace(pJ,"\\$&")}function Bc(e){return new RegExp("^(?:"+e.map(gJ).join("|")+")","i")}function $c(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mJ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yJ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vJ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xJ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wJ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function TA(e,t,r){var n=Ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function NA(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SJ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function EJ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function IA(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function AJ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function PA(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _J(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function CJ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function OJ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function TJ(e,t,r){var n=Ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function NJ(e,t,r){var n=hJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function IJ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function PJ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kA(e,t){return xt(e.getDate(),t,2)}function kJ(e,t){return xt(e.getHours(),t,2)}function jJ(e,t){return xt(e.getHours()%12||12,t,2)}function RJ(e,t){return xt(1+zf.count(hs(e),e),t,3)}function JI(e,t){return xt(e.getMilliseconds(),t,3)}function MJ(e,t){return JI(e,t)+"000"}function DJ(e,t){return xt(e.getMonth()+1,t,2)}function LJ(e,t){return xt(e.getMinutes(),t,2)}function BJ(e,t){return xt(e.getSeconds(),t,2)}function $J(e){var t=e.getDay();return t===0?7:t}function FJ(e,t){return xt(Lp.count(hs(e)-1,e),t,2)}function eP(e){var t=e.getDay();return t>=4||t===0?Il(e):Il.ceil(e)}function UJ(e,t){return e=eP(e),xt(Il.count(hs(e),e)+(hs(e).getDay()===4),t,2)}function zJ(e){return e.getDay()}function HJ(e,t){return xt(a0.count(hs(e)-1,e),t,2)}function WJ(e,t){return xt(e.getFullYear()%100,t,2)}function VJ(e,t){return e=eP(e),xt(e.getFullYear()%100,t,2)}function GJ(e,t){return xt(e.getFullYear()%1e4,t,4)}function qJ(e,t){var r=e.getDay();return e=r>=4||r===0?Il(e):Il.ceil(e),xt(e.getFullYear()%1e4,t,4)}function KJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xt(t/60|0,"0",2)+xt(t%60,"0",2)}function jA(e,t){return xt(e.getUTCDate(),t,2)}function XJ(e,t){return xt(e.getUTCHours(),t,2)}function YJ(e,t){return xt(e.getUTCHours()%12||12,t,2)}function ZJ(e,t){return xt(1+Dp.count(ps(e),e),t,3)}function tP(e,t){return xt(e.getUTCMilliseconds(),t,3)}function QJ(e,t){return tP(e,t)+"000"}function JJ(e,t){return xt(e.getUTCMonth()+1,t,2)}function eee(e,t){return xt(e.getUTCMinutes(),t,2)}function tee(e,t){return xt(e.getUTCSeconds(),t,2)}function ree(e){var t=e.getUTCDay();return t===0?7:t}function nee(e,t){return xt(Bp.count(ps(e)-1,e),t,2)}function rP(e){var t=e.getUTCDay();return t>=4||t===0?Pl(e):Pl.ceil(e)}function iee(e,t){return e=rP(e),xt(Pl.count(ps(e),e)+(ps(e).getUTCDay()===4),t,2)}function see(e){return e.getUTCDay()}function aee(e,t){return xt(o0.count(ps(e)-1,e),t,2)}function oee(e,t){return xt(e.getUTCFullYear()%100,t,2)}function lee(e,t){return e=rP(e),xt(e.getUTCFullYear()%100,t,2)}function cee(e,t){return xt(e.getUTCFullYear()%1e4,t,4)}function uee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pl(e):Pl.ceil(e),xt(e.getUTCFullYear()%1e4,t,4)}function fee(){return"+0000"}function RA(){return"%"}function MA(e){return+e}function DA(e){return Math.floor(+e/1e3)}var Io,nP,iP;dee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dee(e){return Io=dJ(e),nP=Io.format,Io.parse,iP=Io.utcFormat,Io.utcParse,Io}function hee(e){return new Date(e)}function pee(e){return e instanceof Date?+e:+new Date(+e)}function Cw(e,t,r,n,i,s,o,u,f,d){var g=dw(),v=g.invert,w=g.domain,S=d(".%L"),E=d(":%S"),_=d("%I:%M"),A=d("%I %p"),N=d("%a %d"),C=d("%b %d"),T=d("%B"),I=d("%Y");function P(k){return(f(k)<k?S:u(k)<k?E:o(k)<k?_:s(k)<k?A:n(k)<k?i(k)<k?N:C:r(k)<k?T:I)(k)}return g.invert=function(k){return new Date(v(k))},g.domain=function(k){return arguments.length?w(Array.from(k,pee)):w().map(hee)},g.ticks=function(k){var R=w();return e(R[0],R[R.length-1],k??10)},g.tickFormat=function(k,R){return R==null?P:d(R)},g.nice=function(k){var R=w();return(!k||typeof k.range!="function")&&(k=t(R[0],R[R.length-1],k??10)),k?w(WI(R,k)):g},g.copy=function(){return Uf(g,Cw(e,t,r,n,i,s,o,u,f,d))},g}function gee(){return ii.apply(Cw(uJ,fJ,hs,Aw,Lp,zf,Sw,ww,Ra,nP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mee(){return ii.apply(Cw(lJ,cJ,ps,_w,Bp,Dp,Ew,bw,Ra,iP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $p(){var e=0,t=1,r,n,i,s,o=tn,u=!1,f;function d(v){return v==null||isNaN(v=+v)?f:o(i===0?.5:(v=(s(v)-r)*i,u?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([e,t]=v,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(v){return arguments.length?(u=!!v,d):u},d.interpolator=function(v){return arguments.length?(o=v,d):o};function g(v){return function(w){var S,E;return arguments.length?([S,E]=w,o=v(S,E),d):[o(0),o(1)]}}return d.range=g(fc),d.rangeRound=g(fw),d.unknown=function(v){return arguments.length?(f=v,d):f},function(v){return s=v,r=v(e),n=v(t),i=r===n?0:1/(n-r),d}}function aa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sP(){var e=sa($p()(tn));return e.copy=function(){return aa(e,sP())},ws.apply(e,arguments)}function aP(){var e=gw($p()).domain([1,10]);return e.copy=function(){return aa(e,aP()).base(e.base())},ws.apply(e,arguments)}function oP(){var e=mw($p());return e.copy=function(){return aa(e,oP()).constant(e.constant())},ws.apply(e,arguments)}function Ow(){var e=yw($p());return e.copy=function(){return aa(e,Ow()).exponent(e.exponent())},ws.apply(e,arguments)}function yee(){return Ow.apply(null,arguments).exponent(.5)}function lP(){var e=[],t=tn;function r(n){if(n!=null&&!isNaN(n=+n))return t(($f(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>nQ(e,s/n))},r.copy=function(){return lP(t).domain(e)},ws.apply(r,arguments)}function Fp(){var e=0,t=.5,r=1,n=1,i,s,o,u,f,d=tn,g,v=!1,w;function S(_){return isNaN(_=+_)?w:(_=.5+((_=+g(_))-s)*(n*_<n*s?u:f),d(v?Math.max(0,Math.min(1,_)):_))}S.domain=function(_){return arguments.length?([e,t,r]=_,i=g(e=+e),s=g(t=+t),o=g(r=+r),u=i===s?0:.5/(s-i),f=s===o?0:.5/(o-s),n=s<i?-1:1,S):[e,t,r]},S.clamp=function(_){return arguments.length?(v=!!_,S):v},S.interpolator=function(_){return arguments.length?(d=_,S):d};function E(_){return function(A){var N,C,T;return arguments.length?([N,C,T]=A,d=NQ(_,[N,C,T]),S):[d(0),d(.5),d(1)]}}return S.range=E(fc),S.rangeRound=E(fw),S.unknown=function(_){return arguments.length?(w=_,S):w},function(_){return g=_,i=_(e),s=_(t),o=_(r),u=i===s?0:.5/(s-i),f=s===o?0:.5/(o-s),n=s<i?-1:1,S}}function cP(){var e=sa(Fp()(tn));return e.copy=function(){return aa(e,cP())},ws.apply(e,arguments)}function uP(){var e=gw(Fp()).domain([.1,1,10]);return e.copy=function(){return aa(e,uP()).base(e.base())},ws.apply(e,arguments)}function fP(){var e=mw(Fp());return e.copy=function(){return aa(e,fP()).constant(e.constant())},ws.apply(e,arguments)}function Tw(){var e=yw(Fp());return e.copy=function(){return aa(e,Tw()).exponent(e.exponent())},ws.apply(e,arguments)}function vee(){return Tw.apply(null,arguments).exponent(.5)}const LA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xu,scaleDiverging:cP,scaleDivergingLog:uP,scaleDivergingPow:Tw,scaleDivergingSqrt:vee,scaleDivergingSymlog:fP,scaleIdentity:HI,scaleImplicit:Cy,scaleLinear:i0,scaleLog:VI,scaleOrdinal:lw,scalePoint:uu,scalePow:vw,scaleQuantile:KI,scaleQuantize:XI,scaleRadial:qI,scaleSequential:sP,scaleSequentialLog:aP,scaleSequentialPow:Ow,scaleSequentialQuantile:lP,scaleSequentialSqrt:yee,scaleSequentialSymlog:oP,scaleSqrt:QQ,scaleSymlog:GI,scaleThreshold:YI,scaleTime:gee,scaleUtc:mee,tickFormat:zI},Symbol.toStringTag,{value:"Module"}));var xee=rc;function wee(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],o=t(s);if(o!=null&&(u===void 0?o===o&&!xee(o):r(o,u)))var u=o,f=s}return f}var dP=wee;function bee(e,t){return e>t}var See=bee,Eee=dP,Aee=See,_ee=cc;function Cee(e){return e&&e.length?Eee(e,_ee,Aee):void 0}var Oee=Cee;const Up=Pt(Oee);function Tee(e,t){return e<t}var Nee=Tee,Iee=dP,Pee=Nee,kee=cc;function jee(e){return e&&e.length?Iee(e,kee,Pee):void 0}var Ree=jee;const zp=Pt(Ree);var Mee=zx,Dee=ia,Lee=bI,Bee=bn;function $ee(e,t){var r=Bee(e)?Mee:Lee;return r(e,Dee(t))}var Fee=$ee,Uee=xI,zee=Fee;function Hee(e,t){return Uee(zee(e,t),1)}var Wee=Hee;const Vee=Pt(Wee);var Gee=nw;function qee(e,t){return Gee(e,t)}var Kee=qee;const Hp=Pt(Kee);var dc=1e9,Xee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Iw,Kt=!0,ti="[DecimalError] ",Ua=ti+"Invalid argument: ",Nw=ti+"Exponent out of range: ",hc=Math.floor,Ea=Math.pow,Yee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,Or=1e7,Wt=7,hP=9007199254740991,l0=hc(hP/Wt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return as(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return Rt(as(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return pr(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(In))throw Error(ti+"NaN");if(r.s<1)throw Error(ti+(r.s?"NaN":"-Infinity"));return r.eq(In)?new n(0):(Kt=!1,t=as(ef(r,s),ef(e,s),s),Kt=!0,Rt(t,i))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mP(t,e):pP(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ti+"NaN");return r.s?(Kt=!1,t=as(r,e,0,1).times(e),Kt=!0,r.minus(t)):Rt(new n(r),i)};ke.naturalExponential=ke.exp=function(){return gP(this)};ke.naturalLogarithm=ke.ln=function(){return ef(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pP(t,e):mP(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ua+e);if(t=pr(i)+1,n=i.d.length-1,r=n*Wt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,i,s,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ti+"NaN")}for(e=pr(u),Kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Di(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=hc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=o=r+3;;)if(s=n,n=s.plus(as(u,s,o+2)).times(.5),Di(s.d).slice(0,o)===(t=Di(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Rt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;o+=4}return Kt=!0,Rt(n,r)};ke.times=ke.mul=function(e){var t,r,n,i,s,o,u,f,d,g=this,v=g.constructor,w=g.d,S=(e=new v(e)).d;if(!g.s||!e.s)return new v(0);for(e.s*=g.s,r=g.e+e.e,f=w.length,d=S.length,f<d&&(s=w,w=S,S=s,o=f,f=d,d=o),s=[],o=f+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,i=f+n;i>n;)u=s[i]+S[n]*w[i-n-1]+t,s[i--]=u%Or|0,t=u/Or|0;s[i]=(s[i]+t)%Or|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Kt?Rt(e,v.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zi(e,0,dc),t===void 0?t=n.rounding:zi(t,0,8),Rt(r,e+pr(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ja(n,!0):(zi(e,0,dc),t===void 0?t=i.rounding:zi(t,0,8),n=Rt(new i(n),e+1,t),r=Ja(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ja(i):(zi(e,0,dc),t===void 0?t=s.rounding:zi(t,0,8),n=Rt(new s(i),e+pr(i)+1,t),r=Ja(n.abs(),!1,e+pr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return Rt(new t(e),pr(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,i,s,o,u=this,f=u.constructor,d=12,g=+(e=new f(e));if(!e.s)return new f(In);if(u=new f(u),!u.s){if(e.s<1)throw Error(ti+"Infinity");return u}if(u.eq(In))return u;if(n=f.precision,e.eq(In))return Rt(u,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=u.s,o){if((r=g<0?-g:g)<=hP){for(i=new f(In),t=Math.ceil(n/Wt+4),Kt=!1;r%2&&(i=i.times(u),$A(i.d,t)),r=hc(r/2),r!==0;)u=u.times(u),$A(u.d,t);return Kt=!0,e.s<0?new f(In).div(i):Rt(i,n)}}else if(s<0)throw Error(ti+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Kt=!1,i=e.times(ef(u,n+d)),Kt=!0,i=gP(i),i.s=s,i};ke.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=pr(i),n=Ja(i,r<=s.toExpNeg||r>=s.toExpPos)):(zi(e,1,dc),t===void 0?t=s.rounding:zi(t,0,8),i=Rt(new s(i),e,t),r=pr(i),n=Ja(i,e<=r||r<=s.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zi(e,1,dc),t===void 0?t=n.rounding:zi(t,0,8)),Rt(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pr(e),r=e.constructor;return Ja(e,t<=r.toExpNeg||t>=r.toExpPos)};function pP(e,t){var r,n,i,s,o,u,f,d,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Kt?Rt(t,v):t;if(f=e.d,d=t.d,o=e.e,i=t.e,f=f.slice(),s=o-i,s){for(s<0?(n=f,s=-s,u=d.length):(n=d,i=o,u=f.length),o=Math.ceil(v/Wt),u=o>u?o+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=d.length,u-s<0&&(s=u,n=d,d=f,f=n),r=0;s;)r=(f[--s]=f[s]+d[s]+r)/Or|0,f[s]%=Or;for(r&&(f.unshift(r),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,Kt?Rt(t,v):t}function zi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ua+e)}function Di(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Wt-n.length,r&&(s+=Ps(r)),s+=n;o=e[t],n=o+"",r=Wt-n.length,r&&(s+=Ps(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var as=function(){function e(n,i){var s,o=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+o,n[u]=s%Or|0,o=s/Or|0;return o&&n.unshift(o),n}function t(n,i,s,o){var u,f;if(s!=o)f=s>o?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=i[u]){f=n[u]>i[u]?1:-1;break}return f}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Or+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var u,f,d,g,v,w,S,E,_,A,N,C,T,I,P,k,R,F,L=n.constructor,K=n.s==i.s?1:-1,V=n.d,U=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(ti+"Division by zero");for(f=n.e-i.e,R=U.length,P=V.length,S=new L(K),E=S.d=[],d=0;U[d]==(V[d]||0);)++d;if(U[d]>(V[d]||0)&&--f,s==null?C=s=L.precision:o?C=s+(pr(n)-pr(i))+1:C=s,C<0)return new L(0);if(C=C/Wt+2|0,d=0,R==1)for(g=0,U=U[0],C++;(d<P||g)&&C--;d++)T=g*Or+(V[d]||0),E[d]=T/U|0,g=T%U|0;else{for(g=Or/(U[0]+1)|0,g>1&&(U=e(U,g),V=e(V,g),R=U.length,P=V.length),I=R,_=V.slice(0,R),A=_.length;A<R;)_[A++]=0;F=U.slice(),F.unshift(0),k=U[0],U[1]>=Or/2&&++k;do g=0,u=t(U,_,R,A),u<0?(N=_[0],R!=A&&(N=N*Or+(_[1]||0)),g=N/k|0,g>1?(g>=Or&&(g=Or-1),v=e(U,g),w=v.length,A=_.length,u=t(v,_,w,A),u==1&&(g--,r(v,R<w?F:U,w))):(g==0&&(u=g=1),v=U.slice()),w=v.length,w<A&&v.unshift(0),r(_,v,A),u==-1&&(A=_.length,u=t(U,_,R,A),u<1&&(g++,r(_,R<A?F:U,A))),A=_.length):u===0&&(g++,_=[0]),E[d++]=g,u&&_[0]?_[A++]=V[I]||0:(_=[V[I]],A=1);while((I++<P||_[0]!==void 0)&&C--)}return E[0]||E.shift(),S.e=f,Rt(S,o?s+pr(S)+1:s)}}();function gP(e,t){var r,n,i,s,o,u,f=0,d=0,g=e.constructor,v=g.precision;if(pr(e)>16)throw Error(Nw+pr(e));if(!e.s)return new g(In);for(Kt=!1,u=v,o=new g(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Ea(2,d))/Math.LN10*2+5|0,u+=n,r=i=s=new g(In),g.precision=u;;){if(i=Rt(i.times(e),u),r=r.times(++f),o=s.plus(as(i,r,u)),Di(o.d).slice(0,u)===Di(s.d).slice(0,u)){for(;d--;)s=Rt(s.times(s),u);return g.precision=v,t==null?(Kt=!0,Rt(s,v)):s}s=o}}function pr(e){for(var t=e.e*Wt,r=e.d[0];r>=10;r/=10)t++;return t}function Cg(e,t,r){if(t>e.LN10.sd())throw Kt=!0,r&&(e.precision=r),Error(ti+"LN10 precision limit exceeded");return Rt(new e(e.LN10),t)}function Ps(e){for(var t="";e--;)t+="0";return t}function ef(e,t){var r,n,i,s,o,u,f,d,g,v=1,w=10,S=e,E=S.d,_=S.constructor,A=_.precision;if(S.s<1)throw Error(ti+(S.s?"NaN":"-Infinity"));if(S.eq(In))return new _(0);if(t==null?(Kt=!1,d=A):d=t,S.eq(10))return t==null&&(Kt=!0),Cg(_,d);if(d+=w,_.precision=d,r=Di(E),n=r.charAt(0),s=pr(S),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)S=S.times(e),r=Di(S.d),n=r.charAt(0),v++;s=pr(S),n>1?(S=new _("0."+r),s++):S=new _(n+"."+r.slice(1))}else return f=Cg(_,d+2,A).times(s+""),S=ef(new _(n+"."+r.slice(1)),d-w).plus(f),_.precision=A,t==null?(Kt=!0,Rt(S,A)):S;for(u=o=S=as(S.minus(In),S.plus(In),d),g=Rt(S.times(S),d),i=3;;){if(o=Rt(o.times(g),d),f=u.plus(as(o,new _(i),d)),Di(f.d).slice(0,d)===Di(u.d).slice(0,d))return u=u.times(2),s!==0&&(u=u.plus(Cg(_,d+2,A).times(s+""))),u=as(u,new _(v),d),_.precision=A,t==null?(Kt=!0,Rt(u,A)):u;u=f,i+=2}}function BA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=hc(r/Wt),e.d=[],n=(r+1)%Wt,r<0&&(n+=Wt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Wt;n<i;)e.d.push(+t.slice(n,n+=Wt));t=t.slice(n),n=Wt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Kt&&(e.e>l0||e.e<-l0))throw Error(Nw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Rt(e,t,r){var n,i,s,o,u,f,d,g,v=e.d;for(o=1,s=v[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Wt,i=t,d=v[g=0];else{if(g=Math.ceil((n+1)/Wt),s=v.length,g>=s)return e;for(d=s=v[g],o=1;s>=10;s/=10)o++;n%=Wt,i=n-Wt+o}if(r!==void 0&&(s=Ea(10,o-i-1),u=d/s%10|0,f=t<0||v[g+1]!==void 0||d%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?i>0?d/Ea(10,o-i):0:v[g-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return f?(s=pr(e),v.length=1,t=t-s-1,v[0]=Ea(10,(Wt-t%Wt)%Wt),e.e=hc(-t/Wt)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=g,s=1,g--):(v.length=g+1,s=Ea(10,Wt-n),v[g]=i>0?(d/Ea(10,o-i)%Ea(10,i)|0)*s:0),f)for(;;)if(g==0){(v[0]+=s)==Or&&(v[0]=1,++e.e);break}else{if(v[g]+=s,v[g]!=Or)break;v[g--]=0,s=1}for(n=v.length;v[--n]===0;)v.pop();if(Kt&&(e.e>l0||e.e<-l0))throw Error(Nw+pr(e));return e}function mP(e,t){var r,n,i,s,o,u,f,d,g,v,w=e.constructor,S=w.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new w(e),Kt?Rt(t,S):t;if(f=e.d,v=t.d,n=t.e,d=e.e,f=f.slice(),o=d-n,o){for(g=o<0,g?(r=f,o=-o,u=v.length):(r=v,n=d,u=f.length),i=Math.max(Math.ceil(S/Wt),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=f.length,u=v.length,g=i<u,g&&(u=i),i=0;i<u;i++)if(f[i]!=v[i]){g=f[i]<v[i];break}o=0}for(g&&(r=f,f=v,v=r,t.s=-t.s),u=f.length,i=v.length-u;i>0;--i)f[u++]=0;for(i=v.length;i>o;){if(f[--i]<v[i]){for(s=i;s&&f[--s]===0;)f[s]=Or-1;--f[s],f[i]+=Or}f[i]-=v[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Kt?Rt(t,S):t):new w(0)}function Ja(e,t,r){var n,i=pr(e),s=Di(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ps(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ps(-i-1)+s,r&&(n=r-o)>0&&(s+=Ps(n))):i>=o?(s+=Ps(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Ps(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Ps(n))),e.s<0?"-"+s:s}function $A(e,t){if(e.length>t)return e.length=t,!0}function yP(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ua+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return BA(o,s.toString())}else if(typeof s!="string")throw Error(Ua+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Yee.test(s))BA(o,s);else throw Error(Ua+s)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yP,i.config=i.set=Zee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Zee(e){if(!e||typeof e!="object")throw Error(ti+"Object expected");var t,r,n,i=["precision",1,dc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(hc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ua+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ua+r+": "+n);return this}var Iw=yP(Xee);In=new Iw(1);const It=Iw;function Qee(e){return rte(e)||tte(e)||ete(e)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(e,t){if(e){if(typeof e=="string")return Iy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iy(e,t)}}function tte(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rte(e){if(Array.isArray(e))return Iy(e)}function Iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nte=function(t){return t},vP={},xP=function(t){return t===vP},FA=function(t){return function r(){return arguments.length===0||arguments.length===1&&xP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ite=function e(t,r){return t===1?r:FA(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(u){return u!==vP}).length;return o>=t?r.apply(void 0,i):e(t-o,FA(function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];var g=i.map(function(v){return xP(v)?f.shift():v});return r.apply(void 0,Qee(g).concat(f))}))})},Wp=function(t){return ite(t.length,t)},Py=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},ste=Wp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ate=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return nte;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(u,f){return f(u)},s.apply(void 0,arguments))}},ky=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},wP=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(u,f){return u===r[f]})||(r=s,n=t.apply(void 0,s)),n}};function ote(e){var t;return e===0?t=1:t=Math.floor(new It(e).abs().log(10).toNumber())+1,t}function lte(e,t,r){for(var n=new It(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var cte=Wp(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),ute=Wp(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),fte=Wp(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Vp={rangeStep:lte,getDigitCount:ote,interpolateNumber:cte,uninterpolateNumber:ute,uninterpolateTruncation:fte};function jy(e){return pte(e)||hte(e)||bP(e)||dte()}function dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function pte(e){if(Array.isArray(e))return Ry(e)}function tf(e,t){return yte(e)||mte(e,t)||bP(e,t)||gte()}function gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bP(e,t){if(e){if(typeof e=="string")return Ry(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ry(e,t)}}function Ry(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mte(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(f){i=!0,s=f}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function yte(e){if(Array.isArray(e))return e}function SP(e){var t=tf(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function EP(e,t,r){if(e.lte(0))return new It(0);var n=Vp.getDigitCount(e.toNumber()),i=new It(10).pow(n),s=e.div(i),o=n!==1?.05:.1,u=new It(Math.ceil(s.div(o).toNumber())).add(r).mul(o),f=u.mul(i);return t?f:new It(Math.ceil(f))}function vte(e,t,r){var n=1,i=new It(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new It(10).pow(Vp.getDigitCount(e)-1),i=new It(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new It(Math.floor(e)))}else e===0?i=new It(Math.floor((t-1)/2)):r||(i=new It(Math.floor(e)));var o=Math.floor((t-1)/2),u=ate(ste(function(f){return i.add(new It(f-o).mul(n)).toNumber()}),Py);return u(0,t)}function AP(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var s=EP(new It(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new It(0):(o=new It(e).add(t).div(2),o=o.sub(new It(o).mod(s)));var u=Math.ceil(o.sub(e).div(s).toNumber()),f=Math.ceil(new It(t).sub(o).div(s).toNumber()),d=u+f+1;return d>r?AP(e,t,r,n,i+1):(d<r&&(f=t>0?f+(r-d):f,u=t>0?u:u+(r-d)),{step:s,tickMin:o.sub(new It(u).mul(s)),tickMax:o.add(new It(f).mul(s))})}function xte(e){var t=tf(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=SP([r,n]),f=tf(u,2),d=f[0],g=f[1];if(d===-1/0||g===1/0){var v=g===1/0?[d].concat(jy(Py(0,i-1).map(function(){return 1/0}))):[].concat(jy(Py(0,i-1).map(function(){return-1/0})),[g]);return r>n?ky(v):v}if(d===g)return vte(d,i,s);var w=AP(d,g,o,s),S=w.step,E=w.tickMin,_=w.tickMax,A=Vp.rangeStep(E,_.add(new It(.1).mul(S)),S);return r>n?ky(A):A}function wte(e,t){var r=tf(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=SP([n,i]),u=tf(o,2),f=u[0],d=u[1];if(f===-1/0||d===1/0)return[n,i];if(f===d)return[f];var g=Math.max(t,2),v=EP(new It(d).sub(f).div(g-1),s,0),w=[].concat(jy(Vp.rangeStep(new It(f),new It(d).sub(new It(.99).mul(v)),v)),[d]);return n>i?ky(w):w}var bte=wP(xte),Ste=wP(wte),Ete="Invariant failed";function eo(e,t){throw new Error(Ete)}var Ate=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(this,arguments)}function _te(e,t){return Nte(e)||Tte(e,t)||Ote(e,t)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(e,t){if(e){if(typeof e=="string")return UA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(e,t)}}function UA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function Nte(e){if(Array.isArray(e))return e}function Ite(e,t){if(e==null)return{};var r=Pte(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OP(n.key),n)}}function Rte(e,t,r){return t&&jte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mte(e,t,r){return t=u0(t),Dte(e,_P()?Reflect.construct(t,r||[],u0(e).constructor):t.apply(e,r))}function Dte(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lte(e)}function Lte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!e})()}function u0(e){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u0(e)}function Bte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},My(e,t)}function CP(e,t,r){return t=OP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OP(e){var t=$te(e,"string");return kl(t)=="symbol"?t:t+""}function $te(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hf=function(e){function t(){return kte(this,t),Mte(this,t,arguments)}return Bte(t,e),Rte(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,u=n.dataKey,f=n.data,d=n.dataPointFormatter,g=n.xAxis,v=n.yAxis,w=Ite(n,Ate),S=ht(w,!1);this.props.direction==="x"&&g.type!=="number"&&eo();var E=f.map(function(_){var A=d(_,u),N=A.x,C=A.y,T=A.value,I=A.errorVal;if(!I)return null;var P=[],k,R;if(Array.isArray(I)){var F=_te(I,2);k=F[0],R=F[1]}else k=R=I;if(s==="vertical"){var L=g.scale,K=C+i,V=K+o,U=K-o,J=L(T-k),Q=L(T+R);P.push({x1:Q,y1:V,x2:Q,y2:U}),P.push({x1:J,y1:K,x2:Q,y2:K}),P.push({x1:J,y1:V,x2:J,y2:U})}else if(s==="horizontal"){var H=v.scale,ee=N+i,Z=ee-o,Y=ee+o,ae=H(T-k),ne=H(T+R);P.push({x1:Z,y1:ne,x2:Y,y2:ne}),P.push({x1:ee,y1:ae,x2:ee,y2:ne}),P.push({x1:Z,y1:ae,x2:Y,y2:ae})}return X.createElement(cr,c0({className:"recharts-errorBar",key:"bar-".concat(P.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},S),P.map(function(de){return X.createElement("line",c0({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return X.createElement(cr,{className:"recharts-errorBars"},E)}}])}(X.Component);CP(Hf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CP(Hf,"displayName","ErrorBar");function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){Fte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fte(e,t,r){return t=Ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=zte(e,"string");return rf(t)=="symbol"?t:t+""}function zte(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TP=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=Tn(r,$a);if(!o)return null;var u=$a.defaultProps,f=u!==void 0?ya(ya({},u),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(n||[]).reduce(function(g,v){var w=v.item,S=v.props,E=S.sectors||S.data||[];return g.concat(E.map(function(_){return{type:o.props.iconType||w.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):d=(n||[]).map(function(g){var v=g.item,w=v.type.defaultProps,S=w!==void 0?ya(ya({},w),v.props):{},E=S.dataKey,_=S.name,A=S.legendType,N=S.hide;return{inactive:N,dataKey:E,type:f.iconType||A||"square",color:Pw(v),value:_||E,payload:S}}),ya(ya(ya({},f),$a.getWithHeight(o,i)),{},{payload:d,item:o})};function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function HA(e){return Gte(e)||Vte(e)||Wte(e)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(e,t){if(e){if(typeof e=="string")return Dy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dy(e,t)}}function Vte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gte(e){if(Array.isArray(e))return Dy(e)}function Dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fl(e,t,r){return t=qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qte(e){var t=Kte(e,"string");return nf(t)=="symbol"?t:t+""}function Kte(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mn(e,t,r){return ot(e)||ot(t)?r:Er(t)?Zn(e,t,r):it(t)?t(e):r}function fu(e,t,r,n){var i=Vee(e,function(u){return Mn(u,t)});if(r==="number"){var s=i.filter(function(u){return Ee(u)||parseFloat(u)});return s.length?[zp(s),Up(s)]:[1/0,-1/0]}var o=n?i.filter(function(u){return!ot(u)}):i;return o.map(function(u){return Er(u)||u instanceof Date?u:""})}var Xte=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var f=s.range,d=0;d<u;d++){var g=d>0?i[d-1].coordinate:i[u-1].coordinate,v=i[d].coordinate,w=d>=u-1?i[0].coordinate:i[d+1].coordinate,S=void 0;if(xi(v-g)!==xi(w-v)){var E=[];if(xi(w-v)===xi(f[1]-f[0])){S=w;var _=v+f[1]-f[0];E[0]=Math.min(_,(_+g)/2),E[1]=Math.max(_,(_+g)/2)}else{S=g;var A=w+f[1]-f[0];E[0]=Math.min(v,(A+v)/2),E[1]=Math.max(v,(A+v)/2)}var N=[Math.min(v,(S+v)/2),Math.max(v,(S+v)/2)];if(t>N[0]&&t<=N[1]||t>=E[0]&&t<=E[1]){o=i[d].index;break}}else{var C=Math.min(g,w),T=Math.max(g,w);if(t>(C+v)/2&&t<=(T+v)/2){o=i[d].index;break}}}else for(var I=0;I<u;I++)if(I===0&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<u-1&&t>(n[I].coordinate+n[I-1].coordinate)/2&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I===u-1&&t>(n[I].coordinate+n[I-1].coordinate)/2){o=n[I].index;break}return o},Pw=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,o=s.stroke,u=s.fill,f;switch(i){case"Line":f=o;break;case"Area":case"Radar":f=o&&o!=="none"?o:u;break;default:f=u;break}return f},Yte=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},u=Object.keys(s),f=0,d=u.length;f<d;f++)for(var g=s[u[f]].stackGroups,v=Object.keys(g),w=0,S=v.length;w<S;w++){var E=g[v[w]],_=E.items,A=E.cateAxisId,N=_.filter(function(R){return is(R.type).indexOf("Bar")>=0});if(N&&N.length){var C=N[0].type.defaultProps,T=C!==void 0?ar(ar({},C),N[0].props):N[0].props,I=T.barSize,P=T[A];o[P]||(o[P]=[]);var k=ot(I)?r:I;o[P].push({item:N[0],stackList:N.slice(1),barSize:ot(k)?void 0:Qa(k,n,0)})}}return o},Zte=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,u=t.maxBarSize,f=o.length;if(f<1)return null;var d=Qa(r,i,0,!0),g,v=[];if(o[0].barSize===+o[0].barSize){var w=!1,S=i/f,E=o.reduce(function(I,P){return I+P.barSize||0},0);E+=(f-1)*d,E>=i&&(E-=(f-1)*d,d=0),E>=i&&S>0&&(w=!0,S*=.9,E=f*S);var _=(i-E)/2>>0,A={offset:_-d,size:0};g=o.reduce(function(I,P){var k={item:P.item,position:{offset:A.offset+A.size+d,size:w?S:P.barSize}},R=[].concat(HA(I),[k]);return A=R[R.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(F){R.push({item:F,position:A})}),R},v)}else{var N=Qa(n,i,0,!0);i-2*N-(f-1)*d<=0&&(d=0);var C=(i-2*N-(f-1)*d)/f;C>1&&(C>>=0);var T=u===+u?Math.min(C,u):C;g=o.reduce(function(I,P,k){var R=[].concat(HA(I),[{item:P.item,position:{offset:N+(C+d)*k+(C-T)/2,size:T}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(F){R.push({item:F,position:R[R.length-1].position})}),R},v)}return g},Qte=function(t,r,n,i){var s=n.children,o=n.width,u=n.margin,f=o-(u.left||0)-(u.right||0),d=TP({children:s,legendWidth:f});if(d){var g=i||{},v=g.width,w=g.height,S=d.align,E=d.verticalAlign,_=d.layout;if((_==="vertical"||_==="horizontal"&&E==="middle")&&S!=="center"&&Ee(t[S]))return ar(ar({},t),{},fl({},S,t[S]+(v||0)));if((_==="horizontal"||_==="vertical"&&S==="center")&&E!=="middle"&&Ee(t[E]))return ar(ar({},t),{},fl({},E,t[E]+(w||0)))}return t},Jte=function(t,r,n){return ot(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},NP=function(t,r,n,i,s){var o=r.props.children,u=Qn(o,Hf).filter(function(d){return Jte(i,s,d.props.direction)});if(u&&u.length){var f=u.map(function(d){return d.props.dataKey});return t.reduce(function(d,g){var v=Mn(g,n);if(ot(v))return d;var w=Array.isArray(v)?[zp(v),Up(v)]:[v,v],S=f.reduce(function(E,_){var A=Mn(g,_,0),N=w[0]-Math.abs(Array.isArray(A)?A[0]:A),C=w[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(N,E[0]),Math.max(C,E[1])]},[1/0,-1/0]);return[Math.min(S[0],d[0]),Math.max(S[1],d[1])]},[1/0,-1/0])}return null},ere=function(t,r,n,i,s){var o=r.map(function(u){return NP(t,u,n,s,i)}).filter(function(u){return!ot(u)});return o&&o.length?o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},IP=function(t,r,n,i,s){var o=r.map(function(f){var d=f.props.dataKey;return n==="number"&&d&&NP(t,f,d,i)||fu(t,d,n,s)});if(n==="number")return o.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]);var u={};return o.reduce(function(f,d){for(var g=0,v=d.length;g<v;g++)u[d[g]]||(u[d[g]]=!0,f.push(d[g]));return f},[])},PP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kP=function(t,r,n,i){if(i)return t.map(function(f){return f.coordinate});var s,o,u=t.map(function(f){return f.coordinate===r&&(s=!0),f.coordinate===n&&(o=!0),f.coordinate});return s||u.push(r),o||u.push(n),u},ts=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,u=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/f:0;if(d=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?xi(u[0]-u[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(v){var w=s?s.indexOf(v):v;return{coordinate:i(w)+d,value:v,offset:d}});return g.filter(function(v){return!Df(v.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(v,w){return{coordinate:i(v)+d,value:v,index:w,offset:d}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(v){return{coordinate:i(v)+d,value:v,offset:d}}):i.domain().map(function(v,w){return{coordinate:i(v)+d,value:s?s[v]:v,index:w,offset:d}})},Og=new WeakMap,Md=function(t,r){if(typeof r!="function")return t;Og.has(t)||Og.set(t,new WeakMap);var n=Og.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},tre=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,u=t.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:Xu(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:i0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:uu(),realScaleType:"point"}:s==="category"?{scale:Xu(),realScaleType:"band"}:{scale:i0(),realScaleType:"linear"};if(Za(i)){var f="scale".concat(Tp(i));return{scale:(LA[f]||uu)(),realScaleType:LA[f]?f:"point"}}return it(i)?{scale:i}:{scale:uu(),realScaleType:"point"}},VA=1e-4,rre=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-VA,o=Math.max(i[0],i[1])+VA,u=t(r[0]),f=t(r[n-1]);(u<s||u>o||f<s||f>o)&&t.domain([r[0],r[n-1]])}},nre=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},ire=function(t,r){if(!r||r.length!==2||!Ee(r[0])||!Ee(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ee(t[0])||t[0]<n)&&(s[0]=n),(!Ee(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},sre=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,u=0;u<r;++u){var f=Df(t[u][n][1])?t[u][n][0]:t[u][n][1];f>=0?(t[u][n][0]=s,t[u][n][1]=s+f,s=t[u][n][1]):(t[u][n][0]=o,t[u][n][1]=o+f,o=t[u][n][1])}},are=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var u=Df(t[o][n][1])?t[o][n][0]:t[o][n][1];u>=0?(t[o][n][0]=s,t[o][n][1]=s+u,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},ore={sign:sre,expand:bz,none:Al,silhouette:Sz,wiggle:Ez,positive:are},lre=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),s=ore[n],o=wz().keys(i).value(function(u,f){return+Mn(u,f,0)}).order(oy).offset(s);return o(t)},cre=function(t,r,n,i,s,o){if(!t)return null;var u=o?r.reverse():r,f={},d=u.reduce(function(v,w){var S,E=(S=w.type)!==null&&S!==void 0&&S.defaultProps?ar(ar({},w.type.defaultProps),w.props):w.props,_=E.stackId,A=E.hide;if(A)return v;var N=E[n],C=v[N]||{hasStack:!1,stackGroups:{}};if(Er(_)){var T=C.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};T.items.push(w),C.hasStack=!0,C.stackGroups[_]=T}else C.stackGroups[Lf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[w]};return ar(ar({},v),{},fl({},N,C))},f),g={};return Object.keys(d).reduce(function(v,w){var S=d[w];if(S.hasStack){var E={};S.stackGroups=Object.keys(S.stackGroups).reduce(function(_,A){var N=S.stackGroups[A];return ar(ar({},_),{},fl({},A,{numericAxisId:n,cateAxisId:i,items:N.items,stackedData:lre(t,N.items,s)}))},E)}return ar(ar({},v),{},fl({},w,S))},g)},ure=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,u=r.allowDecimals,f=n||r.scale;if(f!=="auto"&&f!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var g=bte(d,s,u);return t.domain([zp(g),Up(g)]),{niceTicks:g}}if(s&&i==="number"){var v=t.domain(),w=Ste(v,s,u);return{niceTicks:w}}return null};function GA(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ot(i[t.dataKey])){var u=Rh(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var f=Mn(i,ot(o)?t.dataKey:o);return ot(f)?null:t.scale(f)}var qA=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var f=Mn(o,r.dataKey,r.domain[u]);return ot(f)?null:r.scale(f)-s/2+i},fre=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},dre=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Er(s)){var o=r[s];if(o){var u=o.items.indexOf(t);return u>=0?o.stackedData[u]:null}}return null},hre=function(t){return t.reduce(function(r,n){return[zp(n.concat([r[0]]).filter(Ee)),Up(n.concat([r[1]]).filter(Ee))]},[1/0,-1/0])},jP=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],u=o.stackedData,f=u.reduce(function(d,g){var v=hre(g.slice(r,n+1));return[Math.min(d[0],v[0]),Math.max(d[1],v[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},KA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ly=function(t,r,n){if(it(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Ee(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(KA.test(t[0])){var s=+KA.exec(t[0])[1];i[0]=r[0]-s}else it(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Ee(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(XA.test(t[1])){var o=+XA.exec(t[1])[1];i[1]=r[1]+o}else it(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},f0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=sw(r,function(v){return v.coordinate}),o=1/0,u=1,f=s.length;u<f;u++){var d=s[u],g=s[u-1];o=Math.min((d.coordinate||0)-(g.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},YA=function(t,r,n){return!t||!t.length||Hp(t,Zn(n,"type.defaultProps.domain"))?r:t},RP=function(t,r){var n=t.type.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,u=n.formatter,f=n.tooltipType,d=n.chartType,g=n.hide;return ar(ar({},ht(t,!1)),{},{dataKey:i,unit:o,formatter:u,name:s||i,color:Pw(t),value:Mn(r,i),type:f,payload:r,chartType:d,hide:g})};function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pre(e,t,r){return t=gre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gre(e){var t=mre(e,"string");return sf(t)=="symbol"?t:t+""}function mre(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d0=Math.PI/180,yre=function(t){return t*180/Math.PI},$r=function(t,r,n,i){return{x:t+Math.cos(-d0*i)*n,y:r+Math.sin(-d0*i)*n}},vre=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},xre=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,u=vre({x:n,y:i},{x:s,y:o});if(u<=0)return{radius:u};var f=(n-s)/u,d=Math.acos(f);return i>o&&(d=2*Math.PI-d),{radius:u,angle:yre(d),angleInRadian:d}},wre=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},bre=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),u=Math.min(s,o);return t+u*360},JA=function(t,r){var n=t.x,i=t.y,s=xre({x:n,y:i},r),o=s.radius,u=s.angle,f=r.innerRadius,d=r.outerRadius;if(o<f||o>d)return!1;if(o===0)return!0;var g=wre(r),v=g.startAngle,w=g.endAngle,S=u,E;if(v<=w){for(;S>w;)S-=360;for(;S<v;)S+=360;E=S>=v&&S<=w}else{for(;S>v;)S-=360;for(;S<w;)S+=360;E=S>=w&&S<=v}return E?QA(QA({},r),{},{radius:o,angle:bre(S,r)}):null};function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}var Sre=["offset"];function Ere(e){return Ore(e)||Cre(e)||_re(e)||Are()}function Are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _re(e,t){if(e){if(typeof e=="string")return By(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return By(e,t)}}function Cre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ore(e){if(Array.isArray(e))return By(e)}function By(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tre(e,t){if(e==null)return{};var r=Nre(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){Ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ire(e,t,r){return t=Pre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pre(e){var t=kre(e,"string");return af(t)=="symbol"?t:t+""}function kre(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}var jre=function(t){var r=t.value,n=t.formatter,i=ot(t.children)?r:t.children;return it(n)?n(i):i},Rre=function(t,r){var n=xi(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Mre=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,u=t.className,f=s,d=f.cx,g=f.cy,v=f.innerRadius,w=f.outerRadius,S=f.startAngle,E=f.endAngle,_=f.clockWise,A=(v+w)/2,N=Rre(S,E),C=N>=0?1:-1,T,I;i==="insideStart"?(T=S+C*o,I=_):i==="insideEnd"?(T=E-C*o,I=!_):i==="end"&&(T=E+C*o,I=_),I=N<=0?I:!I;var P=$r(d,g,A,T),k=$r(d,g,A,T+(I?1:-1)*359),R="M".concat(P.x,",").concat(P.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(I?0:1,`,
    `).concat(k.x,",").concat(k.y),F=ot(t.id)?Lf("recharts-radial-line-"):t.id;return X.createElement("text",of({},n,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",u)}),X.createElement("defs",null,X.createElement("path",{id:F,d:R})),X.createElement("textPath",{xlinkHref:"#".concat(F)},r))},Dre=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,u=s.cy,f=s.innerRadius,d=s.outerRadius,g=s.startAngle,v=s.endAngle,w=(g+v)/2;if(i==="outside"){var S=$r(o,u,d+n,w),E=S.x,_=S.y;return{x:E,y:_,textAnchor:E>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var A=(f+d)/2,N=$r(o,u,A,w),C=N.x,T=N.y;return{x:C,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Lre=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,u=o.x,f=o.y,d=o.width,g=o.height,v=g>=0?1:-1,w=v*i,S=v>0?"end":"start",E=v>0?"start":"end",_=d>=0?1:-1,A=_*i,N=_>0?"end":"start",C=_>0?"start":"end";if(s==="top"){var T={x:u+d/2,y:f-v*i,textAnchor:"middle",verticalAnchor:S};return xr(xr({},T),n?{height:Math.max(f-n.y,0),width:d}:{})}if(s==="bottom"){var I={x:u+d/2,y:f+g+w,textAnchor:"middle",verticalAnchor:E};return xr(xr({},I),n?{height:Math.max(n.y+n.height-(f+g),0),width:d}:{})}if(s==="left"){var P={x:u-A,y:f+g/2,textAnchor:N,verticalAnchor:"middle"};return xr(xr({},P),n?{width:Math.max(P.x-n.x,0),height:g}:{})}if(s==="right"){var k={x:u+d+A,y:f+g/2,textAnchor:C,verticalAnchor:"middle"};return xr(xr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:g}:{})}var R=n?{width:d,height:g}:{};return s==="insideLeft"?xr({x:u+A,y:f+g/2,textAnchor:C,verticalAnchor:"middle"},R):s==="insideRight"?xr({x:u+d-A,y:f+g/2,textAnchor:N,verticalAnchor:"middle"},R):s==="insideTop"?xr({x:u+d/2,y:f+w,textAnchor:"middle",verticalAnchor:E},R):s==="insideBottom"?xr({x:u+d/2,y:f+g-w,textAnchor:"middle",verticalAnchor:S},R):s==="insideTopLeft"?xr({x:u+A,y:f+w,textAnchor:C,verticalAnchor:E},R):s==="insideTopRight"?xr({x:u+d-A,y:f+w,textAnchor:N,verticalAnchor:E},R):s==="insideBottomLeft"?xr({x:u+A,y:f+g-w,textAnchor:C,verticalAnchor:S},R):s==="insideBottomRight"?xr({x:u+d-A,y:f+g-w,textAnchor:N,verticalAnchor:S},R):nc(s)&&(Ee(s.x)||ka(s.x))&&(Ee(s.y)||ka(s.y))?xr({x:u+Qa(s.x,d),y:f+Qa(s.y,g),textAnchor:"end",verticalAnchor:"end"},R):xr({x:u+d/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Bre=function(t){return"cx"in t&&Ee(t.cx)};function Xr(e){var t=e.offset,r=t===void 0?5:t,n=Tre(e,Sre),i=xr({offset:r},n),s=i.viewBox,o=i.position,u=i.value,f=i.children,d=i.content,g=i.className,v=g===void 0?"":g,w=i.textBreakAll;if(!s||ot(u)&&ot(f)&&!B.isValidElement(d)&&!it(d))return null;if(B.isValidElement(d))return B.cloneElement(d,i);var S;if(it(d)){if(S=B.createElement(d,i),B.isValidElement(S))return S}else S=jre(i);var E=Bre(s),_=ht(i,!0);if(E&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Mre(i,S,_);var A=E?Dre(i):Lre(i);return X.createElement(Yh,of({className:yt("recharts-label",v)},_,A,{breakAll:w}),S)}Xr.displayName="Label";var MP=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,u=t.r,f=t.radius,d=t.innerRadius,g=t.outerRadius,v=t.x,w=t.y,S=t.top,E=t.left,_=t.width,A=t.height,N=t.clockWise,C=t.labelViewBox;if(C)return C;if(Ee(_)&&Ee(A)){if(Ee(v)&&Ee(w))return{x:v,y:w,width:_,height:A};if(Ee(S)&&Ee(E))return{x:S,y:E,width:_,height:A}}return Ee(v)&&Ee(w)?{x:v,y:w,width:0,height:0}:Ee(r)&&Ee(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:g||f||u||0,clockWise:N}:t.viewBox?t.viewBox:{}},$re=function(t,r){return t?t===!0?X.createElement(Xr,{key:"label-implicit",viewBox:r}):Er(t)?X.createElement(Xr,{key:"label-implicit",viewBox:r,value:t}):B.isValidElement(t)?t.type===Xr?B.cloneElement(t,{key:"label-implicit",viewBox:r}):X.createElement(Xr,{key:"label-implicit",content:t,viewBox:r}):it(t)?X.createElement(Xr,{key:"label-implicit",content:t,viewBox:r}):nc(t)?X.createElement(Xr,of({viewBox:r},t,{key:"label-implicit"})):null:null},Fre=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=MP(t),o=Qn(i,Xr).map(function(f,d){return B.cloneElement(f,{viewBox:r||s,key:"label-".concat(d)})});if(!n)return o;var u=$re(t.label,r||s);return[u].concat(Ere(o))};Xr.parseViewBox=MP;Xr.renderCallByParent=Fre;function Ure(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var zre=Ure;const Hre=Pt(zre);function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}var Wre=["valueAccessor"],Vre=["data","dataKey","clockWise","id","textBreakAll"];function Gre(e){return Yre(e)||Xre(e)||Kre(e)||qre()}function qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kre(e,t){if(e){if(typeof e=="string")return $y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(e,t)}}function Xre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yre(e){if(Array.isArray(e))return $y(e)}function $y(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){Zre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zre(e,t,r){return t=Qre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qre(e){var t=Jre(e,"string");return lf(t)=="symbol"?t:t+""}function Jre(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n_(e,t){if(e==null)return{};var r=ene(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ene(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tne=function(t){return Array.isArray(t.value)?Hre(t.value):t.value};function Ys(e){var t=e.valueAccessor,r=t===void 0?tne:t,n=n_(e,Wre),i=n.data,s=n.dataKey,o=n.clockWise,u=n.id,f=n.textBreakAll,d=n_(n,Vre);return!i||!i.length?null:X.createElement(cr,{className:"recharts-label-list"},i.map(function(g,v){var w=ot(s)?r(g,v):Mn(g&&g.payload,s),S=ot(u)?{}:{id:"".concat(u,"-").concat(v)};return X.createElement(Xr,h0({},ht(g,!0),d,S,{parentViewBox:g.parentViewBox,value:w,textBreakAll:f,viewBox:Xr.parseViewBox(ot(o)?g:r_(r_({},g),{},{clockWise:o})),key:"label-".concat(v),index:v}))}))}Ys.displayName="LabelList";function rne(e,t){return e?e===!0?X.createElement(Ys,{key:"labelList-implicit",data:t}):X.isValidElement(e)||it(e)?X.createElement(Ys,{key:"labelList-implicit",data:t,content:e}):nc(e)?X.createElement(Ys,h0({data:t},e,{key:"labelList-implicit"})):null:null}function nne(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Qn(n,Ys).map(function(o,u){return B.cloneElement(o,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var s=rne(e.label,t);return[s].concat(Gre(i))}Ys.renderCallByParent=nne;function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){ine(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ine(e,t,r){return t=sne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sne(e){var t=ane(e,"string");return cf(t)=="symbol"?t:t+""}function ane(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var one=function(t,r){var n=xi(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Dd=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,u=t.isExternal,f=t.cornerRadius,d=t.cornerIsExternal,g=f*(u?1:-1)+i,v=Math.asin(f/g)/d0,w=d?s:s+o*v,S=$r(r,n,g,w),E=$r(r,n,i,w),_=d?s-o*v:s,A=$r(r,n,g*Math.cos(v*d0),_);return{center:S,circleTangency:E,lineTangency:A,theta:v}},DP=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,u=t.endAngle,f=one(o,u),d=o+f,g=$r(r,n,s,o),v=$r(r,n,s,d),w="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>d),`,
    `).concat(v.x,",").concat(v.y,`
  `);if(i>0){var S=$r(r,n,i,o),E=$r(r,n,i,d);w+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=d),`,
            `).concat(S.x,",").concat(S.y," Z")}else w+="L ".concat(r,",").concat(n," Z");return w},lne=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,u=t.forceCornerRadius,f=t.cornerIsExternal,d=t.startAngle,g=t.endAngle,v=xi(g-d),w=Dd({cx:r,cy:n,radius:s,angle:d,sign:v,cornerRadius:o,cornerIsExternal:f}),S=w.circleTangency,E=w.lineTangency,_=w.theta,A=Dd({cx:r,cy:n,radius:s,angle:g,sign:-v,cornerRadius:o,cornerIsExternal:f}),N=A.circleTangency,C=A.lineTangency,T=A.theta,I=f?Math.abs(d-g):Math.abs(d-g)-_-T;if(I<0)return u?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):DP({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:g});var P="M ".concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(v<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var k=Dd({cx:r,cy:n,radius:i,angle:d,sign:v,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),R=k.circleTangency,F=k.lineTangency,L=k.theta,K=Dd({cx:r,cy:n,radius:i,angle:g,sign:-v,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),V=K.circleTangency,U=K.lineTangency,J=K.theta,Q=f?Math.abs(d-g):Math.abs(d-g)-L-J;if(Q<0&&o===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(v>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(v<0),",").concat(F.x,",").concat(F.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},cne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LP=function(t){var r=s_(s_({},cne),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,f=r.forceCornerRadius,d=r.cornerIsExternal,g=r.startAngle,v=r.endAngle,w=r.className;if(o<s||g===v)return null;var S=yt("recharts-sector",w),E=o-s,_=Qa(u,E,0,!0),A;return _>0&&Math.abs(g-v)<360?A=lne({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(_,E/2),forceCornerRadius:f,cornerIsExternal:d,startAngle:g,endAngle:v}):A=DP({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:g,endAngle:v}),X.createElement("path",Fy({},ht(r,!0),{className:S,d:A,role:"img"}))};function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(this,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){une(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function une(e,t,r){return t=fne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fne(e){var t=dne(e,"string");return uf(t)=="symbol"?t:t+""}function dne(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l_={curveBasisClosed:cz,curveBasisOpen:uz,curveBasis:lz,curveBumpX:KU,curveBumpY:XU,curveLinearClosed:fz,curveLinear:Ip,curveMonotoneX:dz,curveMonotoneY:hz,curveNatural:pz,curveStep:gz,curveStepAfter:yz,curveStepBefore:mz},Ld=function(t){return t.x===+t.x&&t.y===+t.y},Fc=function(t){return t.x},Uc=function(t){return t.y},hne=function(t,r){if(it(t))return t;var n="curve".concat(Tp(t));return(n==="curveMonotone"||n==="curveBump")&&r?l_["".concat(n).concat(r==="vertical"?"Y":"X")]:l_[n]||Ip},pne=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,u=t.layout,f=t.connectNulls,d=f===void 0?!1:f,g=hne(n,u),v=d?s.filter(function(_){return Ld(_)}):s,w;if(Array.isArray(o)){var S=d?o.filter(function(_){return Ld(_)}):o,E=v.map(function(_,A){return o_(o_({},_),{},{base:S[A]})});return u==="vertical"?w=Od().y(Uc).x1(Fc).x0(function(_){return _.base.x}):w=Od().x(Fc).y1(Uc).y0(function(_){return _.base.y}),w.defined(Ld).curve(g),w(E)}return u==="vertical"&&Ee(o)?w=Od().y(Uc).x1(Fc).x0(o):Ee(o)?w=Od().x(Fc).y1(Uc).y0(o):w=BN().x(Fc).y(Uc),w.defined(Ld).curve(g),w(v)},zy=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?pne(t):i;return B.createElement("path",Uy({},ht(t,!1),Mh(t),{className:yt("recharts-curve",r),d:o,ref:s}))},BP={exports:{}},gne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mne=gne,yne=mne;function $P(){}function FP(){}FP.resetWarningCache=$P;var vne=function(){function e(n,i,s,o,u,f){if(f!==yne){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FP,resetWarningCache:$P};return r.PropTypes=r,r};BP.exports=vne();var xne=BP.exports;const At=Pt(xne),{getOwnPropertyNames:wne,getOwnPropertySymbols:bne}=Object,{hasOwnProperty:Sne}=Object.prototype;function Tg(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function Bd(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:s}=i,o=s.get(r),u=s.get(n);if(o&&u)return o===n&&u===r;s.set(r,n),s.set(n,r);const f=e(r,n,i);return s.delete(r),s.delete(n),f}}function Ene(e){return e!=null?e[Symbol.toStringTag]:void 0}function c_(e){return wne(e).concat(bne(e))}const Ane=Object.hasOwn||((e,t)=>Sne.call(e,t));function co(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const _ne="__v",Cne="__o",One="_owner",{getOwnPropertyDescriptor:u_,keys:f_}=Object;function Tne(e,t){return e.byteLength===t.byteLength&&p0(new Uint8Array(e),new Uint8Array(t))}function Nne(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Ine(e,t){return e.byteLength===t.byteLength&&p0(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Pne(e,t){return co(e.getTime(),t.getTime())}function kne(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function jne(e,t){return e===t}function d_(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.entries();let o,u,f=0;for(;(o=s.next())&&!o.done;){const d=t.entries();let g=!1,v=0;for(;(u=d.next())&&!u.done;){if(i[v]){v++;continue}const w=o.value,S=u.value;if(r.equals(w[0],S[0],f,v,e,t,r)&&r.equals(w[1],S[1],w[0],S[0],e,t,r)){g=i[v]=!0;break}v++}if(!g)return!1;f++}return!0}const Rne=co;function Mne(e,t,r){const n=f_(e);let i=n.length;if(f_(t).length!==i)return!1;for(;i-- >0;)if(!UP(e,t,r,n[i]))return!1;return!0}function zc(e,t,r){const n=c_(e);let i=n.length;if(c_(t).length!==i)return!1;let s,o,u;for(;i-- >0;)if(s=n[i],!UP(e,t,r,s)||(o=u_(e,s),u=u_(t,s),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function Dne(e,t){return co(e.valueOf(),t.valueOf())}function Lne(e,t){return e.source===t.source&&e.flags===t.flags}function h_(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.values();let o,u;for(;(o=s.next())&&!o.done;){const f=t.values();let d=!1,g=0;for(;(u=f.next())&&!u.done;){if(!i[g]&&r.equals(o.value,u.value,o.value,u.value,e,t,r)){d=i[g]=!0;break}g++}if(!d)return!1}return!0}function p0(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Bne(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function UP(e,t,r,n){return(n===One||n===Cne||n===_ne)&&(e.$$typeof||t.$$typeof)?!0:Ane(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const $ne="[object ArrayBuffer]",Fne="[object Arguments]",Une="[object Boolean]",zne="[object DataView]",Hne="[object Date]",Wne="[object Error]",Vne="[object Map]",Gne="[object Number]",qne="[object Object]",Kne="[object RegExp]",Xne="[object Set]",Yne="[object String]",Zne={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Qne="[object URL]",Jne=Object.prototype.toString;function eie({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:d,areRegExpsEqual:g,areSetsEqual:v,areTypedArraysEqual:w,areUrlsEqual:S,unknownTagComparators:E}){return function(A,N,C){if(A===N)return!0;if(A==null||N==null)return!1;const T=typeof A;if(T!==typeof N)return!1;if(T!=="object")return T==="number"?u(A,N,C):T==="function"?s(A,N,C):!1;const I=A.constructor;if(I!==N.constructor)return!1;if(I===Object)return f(A,N,C);if(Array.isArray(A))return t(A,N,C);if(I===Date)return n(A,N,C);if(I===RegExp)return g(A,N,C);if(I===Map)return o(A,N,C);if(I===Set)return v(A,N,C);const P=Jne.call(A);if(P===Hne)return n(A,N,C);if(P===Kne)return g(A,N,C);if(P===Vne)return o(A,N,C);if(P===Xne)return v(A,N,C);if(P===qne)return typeof A.then!="function"&&typeof N.then!="function"&&f(A,N,C);if(P===Qne)return S(A,N,C);if(P===Wne)return i(A,N,C);if(P===Fne)return f(A,N,C);if(Zne[P])return w(A,N,C);if(P===$ne)return e(A,N,C);if(P===zne)return r(A,N,C);if(P===Une||P===Gne||P===Yne)return d(A,N,C);if(E){let k=E[P];if(!k){const R=Ene(A);R&&(k=E[R])}if(k)return k(A,N,C)}return!1}}function tie({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Tne,areArraysEqual:r?zc:Nne,areDataViewsEqual:Ine,areDatesEqual:Pne,areErrorsEqual:kne,areFunctionsEqual:jne,areMapsEqual:r?Tg(d_,zc):d_,areNumbersEqual:Rne,areObjectsEqual:r?zc:Mne,arePrimitiveWrappersEqual:Dne,areRegExpsEqual:Lne,areSetsEqual:r?Tg(h_,zc):h_,areTypedArraysEqual:r?Tg(p0,zc):p0,areUrlsEqual:Bne,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Bd(n.areArraysEqual),s=Bd(n.areMapsEqual),o=Bd(n.areObjectsEqual),u=Bd(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:u})}return n}function rie(e){return function(t,r,n,i,s,o,u){return e(t,r,u)}}function nie({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(u,f){const{cache:d=e?new WeakMap:void 0,meta:g}=r();return t(u,f,{cache:d,equals:n,meta:g,strict:i})};if(e)return function(u,f){return t(u,f,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,f){return t(u,f,s)}}const iie=oa();oa({strict:!0});oa({circular:!0});oa({circular:!0,strict:!0});oa({createInternalComparator:()=>co});oa({strict:!0,createInternalComparator:()=>co});oa({circular:!0,createInternalComparator:()=>co});oa({circular:!0,createInternalComparator:()=>co,strict:!0});function oa(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,s=tie(e),o=eie(s),u=r?r(o):rie(o);return nie({circular:t,comparator:o,createState:n,equals:u,strict:i})}function sie(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function p_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):sie(i)};requestAnimationFrame(n)}function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function aie(e){return uie(e)||cie(e)||lie(e)||oie()}function oie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lie(e,t){if(e){if(typeof e=="string")return g_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(e,t)}}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uie(e){if(Array.isArray(e))return e}function fie(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,u=aie(o),f=u[0],d=u.slice(1);if(typeof f=="number"){p_(i.bind(null,d),f);return}i(f),p_(i.bind(null,d));return}Hy(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){zP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zP(e,t,r){return t=die(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e){var t=hie(e,"string");return ff(t)==="symbol"?t:String(t)}function hie(e,t){if(ff(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pie=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},gie=function(t){return t},mie=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},du=function(t,r){return Object.keys(r).reduce(function(n,i){return y_(y_({},n),{},zP({},i,t(i,r[i])))},{})},v_=function(t,r,n){return t.map(function(i){return"".concat(mie(i)," ").concat(r,"ms ").concat(n)}).join(",")};function yie(e,t){return wie(e)||xie(e,t)||HP(e,t)||vie()}function vie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function wie(e){if(Array.isArray(e))return e}function bie(e){return Aie(e)||Eie(e)||HP(e)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HP(e,t){if(e){if(typeof e=="string")return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(e,t)}}function Eie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aie(e){if(Array.isArray(e))return Wy(e)}function Wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g0=1e-4,WP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},VP=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},x_=function(t,r){return function(n){var i=WP(t,r);return VP(i,n)}},_ie=function(t,r){return function(n){var i=WP(t,r),s=[].concat(bie(i.map(function(o,u){return o*u}).slice(1)),[0]);return VP(s,n)}},w_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,u=1;break;case"ease":i=.25,s=.1,o=.25,u=1;break;case"ease-in":i=.42,s=0,o=1,u=1;break;case"ease-out":i=.42,s=0,o=.58,u=1;break;case"ease-in-out":i=0,s=0,o=.58,u=1;break;default:{var f=r[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var d=f[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),g=yie(d,4);i=g[0],s=g[1],o=g[2],u=g[3]}}}var v=x_(i,o),w=x_(s,u),S=_ie(i,o),E=function(N){return N>1?1:N<0?0:N},_=function(N){for(var C=N>1?1:N,T=C,I=0;I<8;++I){var P=v(T)-C,k=S(T);if(Math.abs(P-C)<g0||k<g0)return w(T);T=E(T-P/k)}return w(T)};return _.isStepper=!1,_},Cie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,u=o===void 0?17:o,f=function(g,v,w){var S=-(g-v)*n,E=w*s,_=w+(S-E)*u/1e3,A=w*u/1e3+g;return Math.abs(A-v)<g0&&Math.abs(_)<g0?[v,0]:[A,_]};return f.isStepper=!0,f.dt=u,f},Oie=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w_(i);case"spring":return Cie();default:if(i.split("(")[0]==="cubic-bezier")return w_(i)}return typeof i=="function"?i:null};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function b_(e){return Iie(e)||Nie(e)||GP(e)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Iie(e){if(Array.isArray(e))return Gy(e)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){Vy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vy(e,t,r){return t=Pie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=kie(e,"string");return df(t)==="symbol"?t:String(t)}function kie(e,t){if(df(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jie(e,t){return Die(e)||Mie(e,t)||GP(e,t)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GP(e,t){if(e){if(typeof e=="string")return Gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gy(e,t)}}function Gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function Die(e){if(Array.isArray(e))return e}var m0=function(t,r,n){return t+(r-t)*n},qy=function(t){var r=t.from,n=t.to;return r!==n},Lie=function e(t,r,n){var i=du(function(s,o){if(qy(o)){var u=t(o.from,o.to,o.velocity),f=jie(u,2),d=f[0],g=f[1];return Lr(Lr({},o),{},{from:d,velocity:g})}return o},r);return n<1?du(function(s,o){return qy(o)?Lr(Lr({},o),{},{velocity:m0(o.velocity,i[s].velocity,n),from:m0(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const Bie=function(e,t,r,n,i){var s=pie(e,t),o=s.reduce(function(A,N){return Lr(Lr({},A),{},Vy({},N,[e[N],t[N]]))},{}),u=s.reduce(function(A,N){return Lr(Lr({},A),{},Vy({},N,{from:e[N],velocity:0,to:t[N]}))},{}),f=-1,d,g,v=function(){return null},w=function(){return du(function(N,C){return C.from},u)},S=function(){return!Object.values(u).filter(qy).length},E=function(N){d||(d=N);var C=N-d,T=C/r.dt;u=Lie(r,u,T),i(Lr(Lr(Lr({},e),t),w())),d=N,S()||(f=requestAnimationFrame(v))},_=function(N){g||(g=N);var C=(N-g)/n,T=du(function(P,k){return m0.apply(void 0,b_(k).concat([r(C)]))},o);if(i(Lr(Lr(Lr({},e),t),T)),C<1)f=requestAnimationFrame(v);else{var I=du(function(P,k){return m0.apply(void 0,b_(k).concat([r(1)]))},o);i(Lr(Lr(Lr({},e),t),I))}};return v=r.isStepper?E:_,function(){return requestAnimationFrame(v),function(){cancelAnimationFrame(f)}}};function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}var $ie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fie(e,t){if(e==null)return{};var r=Uie(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ng(e){return Vie(e)||Wie(e)||Hie(e)||zie()}function zie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(e,t){if(e){if(typeof e=="string")return Ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ky(e,t)}}function Wie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vie(e){if(Array.isArray(e))return Ky(e)}function Ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){Yc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yc(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function Kie(e,t,r){return t&&qie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qP(e){var t=Xie(e,"string");return jl(t)==="symbol"?t:String(t)}function Xie(e,t){if(jl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xy(e,t)}function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xy(e,t)}function Zie(e){var t=Qie();return function(){var n=y0(e),i;if(t){var s=y0(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Yy(this,i)}}function Yy(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zy(e)}function Zy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y0(e){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(e)}var gs=function(e){Yie(r,e);var t=Zie(r);function r(n,i){var s;Gie(this,r),s=t.call(this,n,i);var o=s.props,u=o.isActive,f=o.attributeName,d=o.from,g=o.to,v=o.steps,w=o.children,S=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Zy(s)),s.changeStyle=s.changeStyle.bind(Zy(s)),!u||S<=0)return s.state={style:{}},typeof w=="function"&&(s.state={style:g}),Yy(s);if(v&&v.length)s.state={style:v[0].style};else if(d){if(typeof w=="function")return s.state={style:d},Yy(s);s.state={style:f?Yc({},f,d):d}}else s.state={style:{}};return s}return Kie(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,u=s.canBegin,f=s.attributeName,d=s.shouldReAnimate,g=s.to,v=s.from,w=this.state.style;if(u){if(!o){var S={style:f?Yc({},f,g):g};this.state&&w&&(f&&w[f]!==g||!f&&w!==g)&&this.setState(S);return}if(!(iie(i.to,g)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=E||d?v:i.to;if(this.state&&w){var A={style:f?Yc({},f,_):_};(f&&w[f]!==_||!f&&w!==_)&&this.setState(A)}this.runAnimation(li(li({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,u=i.to,f=i.duration,d=i.easing,g=i.begin,v=i.onAnimationEnd,w=i.onAnimationStart,S=Bie(o,u,Oie(d),f,this.changeStyle),E=function(){s.stopJSAnimation=S()};this.manager.start([w,g,E,f,v])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,u=i.begin,f=i.onAnimationStart,d=o[0],g=d.style,v=d.duration,w=v===void 0?0:v,S=function(_,A,N){if(N===0)return _;var C=A.duration,T=A.easing,I=T===void 0?"ease":T,P=A.style,k=A.properties,R=A.onAnimationEnd,F=N>0?o[N-1]:A,L=k||Object.keys(P);if(typeof I=="function"||I==="spring")return[].concat(Ng(_),[s.runJSAnimation.bind(s,{from:F.style,to:P,duration:C,easing:I}),C]);var K=v_(L,C,I),V=li(li(li({},F.style),P),{},{transition:K});return[].concat(Ng(_),[V,C,R]).filter(gie)};return this.manager.start([f].concat(Ng(o.reduce(S,[g,Math.max(w,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=fie());var s=i.begin,o=i.duration,u=i.attributeName,f=i.to,d=i.easing,g=i.onAnimationStart,v=i.onAnimationEnd,w=i.steps,S=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof d=="function"||typeof S=="function"||d==="spring"){this.runJSAnimation(i);return}if(w.length>1){this.runStepAnimation(i);return}var _=u?Yc({},u,f):f,A=v_(Object.keys(_),o,d);E.start([g,s,li(li({},_),{},{transition:A}),o,v])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=Fie(i,$ie),d=B.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!u||d===0||o<=0)return s;var v=function(S){var E=S.props,_=E.style,A=_===void 0?{}:_,N=E.className,C=B.cloneElement(S,li(li({},f),{},{style:li(li({},A),g),className:N}));return C};return d===1?v(B.Children.only(s)):X.createElement("div",null,B.Children.map(s,function(w){return v(w)}))}}]),r}(B.PureComponent);gs.displayName="Animate";gs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gs.propTypes={from:At.oneOfType([At.object,At.string]),to:At.oneOfType([At.object,At.string]),attributeName:At.string,duration:At.number,begin:At.number,easing:At.oneOfType([At.string,At.func]),steps:At.arrayOf(At.shape({duration:At.number.isRequired,style:At.object.isRequired,easing:At.oneOfType([At.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),At.func]),properties:At.arrayOf("string"),onAnimationEnd:At.func})),children:At.oneOfType([At.node,At.func]),isActive:At.bool,canBegin:At.bool,onAnimationEnd:At.func,shouldReAnimate:At.bool,onAnimationStart:At.func,onAnimationReStart:At.func};function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(this,arguments)}function Jie(e,t){return nse(e)||rse(e,t)||tse(e,t)||ese()}function ese(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tse(e,t){if(e){if(typeof e=="string")return A_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A_(e,t)}}function A_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function nse(e){if(Array.isArray(e))return e}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){ise(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ise(e,t,r){return t=sse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sse(e){var t=ase(e,"string");return hf(t)=="symbol"?t:t+""}function ase(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O_=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,f=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,g;if(o>0&&s instanceof Array){for(var v=[0,0,0,0],w=0,S=4;w<S;w++)v[w]=s[w]>o?o:s[w];g="M".concat(t,",").concat(r+u*v[0]),v[0]>0&&(g+="A ".concat(v[0],",").concat(v[0],",0,0,").concat(d,",").concat(t+f*v[0],",").concat(r)),g+="L ".concat(t+n-f*v[1],",").concat(r),v[1]>0&&(g+="A ".concat(v[1],",").concat(v[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+u*v[1])),g+="L ".concat(t+n,",").concat(r+i-u*v[2]),v[2]>0&&(g+="A ".concat(v[2],",").concat(v[2],",0,0,").concat(d,`,
        `).concat(t+n-f*v[2],",").concat(r+i)),g+="L ".concat(t+f*v[3],",").concat(r+i),v[3]>0&&(g+="A ".concat(v[3],",").concat(v[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+i-u*v[3])),g+="Z"}else if(o>0&&s===+s&&s>0){var E=Math.min(o,s);g="M ".concat(t,",").concat(r+u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(d,",").concat(t+f*E,",").concat(r,`
            L `).concat(t+n-f*E,",").concat(r,`
            A `).concat(E,",").concat(E,",0,0,").concat(d,",").concat(t+n,",").concat(r+u*E,`
            L `).concat(t+n,",").concat(r+i-u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(d,",").concat(t+n-f*E,",").concat(r+i,`
            L `).concat(t+f*E,",").concat(r+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(d,",").concat(t,",").concat(r+i-u*E," Z")}else g="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},ose=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,u=r.width,f=r.height;if(Math.abs(u)>0&&Math.abs(f)>0){var d=Math.min(s,s+u),g=Math.max(s,s+u),v=Math.min(o,o+f),w=Math.max(o,o+f);return n>=d&&n<=g&&i>=v&&i<=w}return!1},lse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kw=function(t){var r=C_(C_({},lse),t),n=B.useRef(),i=B.useState(-1),s=Jie(i,2),o=s[0],u=s[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&u(I)}catch{}},[]);var f=r.x,d=r.y,g=r.width,v=r.height,w=r.radius,S=r.className,E=r.animationEasing,_=r.animationDuration,A=r.animationBegin,N=r.isAnimationActive,C=r.isUpdateAnimationActive;if(f!==+f||d!==+d||g!==+g||v!==+v||g===0||v===0)return null;var T=yt("recharts-rectangle",S);return C?X.createElement(gs,{canBegin:o>0,from:{width:g,height:v,x:f,y:d},to:{width:g,height:v,x:f,y:d},duration:_,animationEasing:E,isActive:C},function(I){var P=I.width,k=I.height,R=I.x,F=I.y;return X.createElement(gs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:_,isActive:N,easing:E},X.createElement("path",v0({},ht(r,!0),{className:T,d:O_(R,F,P,k,w),ref:n})))}):X.createElement("path",v0({},ht(r,!0),{className:T,d:O_(f,d,g,v,w)}))};function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}var jw=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=yt("recharts-dot",s);return r===+r&&n===+n&&i===+i?B.createElement("circle",Qy({},ht(t,!1),Mh(t),{className:o,cx:r,cy:n,r:i})):null};function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}var cse=["x","y","top","left","width","height","className"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function use(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fse(e,t,r){return t=dse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dse(e){var t=hse(e,"string");return pf(t)=="symbol"?t:t+""}function hse(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pse(e,t){if(e==null)return{};var r=gse(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mse=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},yse=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,u=o===void 0?0:o,f=t.left,d=f===void 0?0:f,g=t.width,v=g===void 0?0:g,w=t.height,S=w===void 0?0:w,E=t.className,_=pse(t,cse),A=use({x:n,y:s,top:u,left:d,width:v,height:S},_);return!Ee(n)||!Ee(s)||!Ee(v)||!Ee(S)||!Ee(u)||!Ee(d)?null:X.createElement("path",Jy({},ht(A,!0),{className:yt("recharts-cross",E),d:mse(n,s,v,S,u,d)}))},vse=lI,xse=vse(Object.getPrototypeOf,Object),wse=xse,bse=vs,Sse=wse,Ese=xs,Ase="[object Object]",_se=Function.prototype,Cse=Object.prototype,KP=_se.toString,Ose=Cse.hasOwnProperty,Tse=KP.call(Object);function Nse(e){if(!Ese(e)||bse(e)!=Ase)return!1;var t=Sse(e);if(t===null)return!0;var r=Ose.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&KP.call(r)==Tse}var Ise=Nse;const Pse=Pt(Ise);var kse=vs,jse=xs,Rse="[object Boolean]";function Mse(e){return e===!0||e===!1||jse(e)&&kse(e)==Rse}var Dse=Mse;const Lse=Pt(Dse);function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(this,arguments)}function Bse(e,t){return zse(e)||Use(e,t)||Fse(e,t)||$se()}function $se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fse(e,t){if(e){if(typeof e=="string")return N_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N_(e,t)}}function N_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Use(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function zse(e){if(Array.isArray(e))return e}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){Hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hse(e,t,r){return t=Wse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wse(e){var t=Vse(e,"string");return gf(t)=="symbol"?t:t+""}function Vse(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k_=function(t,r,n,i,s){var o=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-o/2,",").concat(r+s),u+="L ".concat(t+n-o/2-i,",").concat(r+s),u+="L ".concat(t,",").concat(r," Z"),u},Gse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qse=function(t){var r=P_(P_({},Gse),t),n=B.useRef(),i=B.useState(-1),s=Bse(i,2),o=s[0],u=s[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&u(T)}catch{}},[]);var f=r.x,d=r.y,g=r.upperWidth,v=r.lowerWidth,w=r.height,S=r.className,E=r.animationEasing,_=r.animationDuration,A=r.animationBegin,N=r.isUpdateAnimationActive;if(f!==+f||d!==+d||g!==+g||v!==+v||w!==+w||g===0&&v===0||w===0)return null;var C=yt("recharts-trapezoid",S);return N?X.createElement(gs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:w,x:f,y:d},to:{upperWidth:g,lowerWidth:v,height:w,x:f,y:d},duration:_,animationEasing:E,isActive:N},function(T){var I=T.upperWidth,P=T.lowerWidth,k=T.height,R=T.x,F=T.y;return X.createElement(gs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:_,easing:E},X.createElement("path",x0({},ht(r,!0),{className:C,d:k_(R,F,I,P,k),ref:n})))}):X.createElement("g",null,X.createElement("path",x0({},ht(r,!0),{className:C,d:k_(f,d,g,v,w)})))},Kse=["option","shapeType","propTransformer","activeClassName","isActive"];function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function Xse(e,t){if(e==null)return{};var r=Yse(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){Zse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zse(e,t,r){return t=Qse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qse(e){var t=Jse(e,"string");return mf(t)=="symbol"?t:t+""}function Jse(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eae(e,t){return w0(w0({},t),e)}function tae(e,t){return e==="symbols"}function R_(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return X.createElement(kw,r);case"trapezoid":return X.createElement(qse,r);case"sector":return X.createElement(LP,r);case"symbols":if(tae(t))return X.createElement(Zx,r);break;default:return null}}function rae(e){return B.isValidElement(e)?e.props:e}function nae(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?eae:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,u=e.isActive,f=Xse(e,Kse),d;if(B.isValidElement(t))d=B.cloneElement(t,w0(w0({},f),rae(t)));else if(it(t))d=t(f);else if(Pse(t)&&!Lse(t)){var g=i(t,f);d=X.createElement(R_,{shapeType:r,elementProps:g})}else{var v=f;d=X.createElement(R_,{shapeType:r,elementProps:v})}return u?X.createElement(cr,{className:o},d):d}function Gp(e,t){return t!=null&&"trapezoids"in e.props}function qp(e,t){return t!=null&&"sectors"in e.props}function yf(e,t){return t!=null&&"points"in e.props}function iae(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function sae(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function aae(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function oae(e,t){var r;return Gp(e,t)?r=iae:qp(e,t)?r=sae:yf(e,t)&&(r=aae),r}function lae(e,t){var r;return Gp(e,t)?r="trapezoids":qp(e,t)?r="sectors":yf(e,t)&&(r="points"),r}function cae(e,t){if(Gp(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qp(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yf(e,t)?t.payload:{}}function uae(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=lae(r,t),s=cae(r,t),o=n.filter(function(f,d){var g=Hp(s,f),v=r.props[i].filter(function(E){var _=oae(r,t);return _(E,t)}),w=r.props[i].indexOf(v[v.length-1]),S=d===w;return g&&S}),u=n.indexOf(o[o.length-1]);return u}var fae=Math.ceil,dae=Math.max;function hae(e,t,r,n){for(var i=-1,s=dae(fae((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=e,e+=r;return o}var pae=hae,gae=OI,M_=1/0,mae=17976931348623157e292;function yae(e){if(!e)return e===0?e:0;if(e=gae(e),e===M_||e===-M_){var t=e<0?-1:1;return t*mae}return e===e?e:0}var XP=yae,vae=pae,xae=Rp,Ig=XP;function wae(e){return function(t,r,n){return n&&typeof n!="number"&&xae(t,r,n)&&(r=n=void 0),t=Ig(t),r===void 0?(r=t,t=0):r=Ig(r),n=n===void 0?t<r?1:-1:Ig(n),vae(t,r,n,e)}}var bae=wae,Sae=bae,Eae=Sae(),Aae=Eae;const b0=Pt(Aae);function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){YP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YP(e,t,r){return t=_ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=Cae(e,"string");return vf(t)=="symbol"?t:t+""}function Cae(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oae=["Webkit","Moz","O","ms"],Tae=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Oae.reduce(function(s,o){return L_(L_({},s),{},YP({},o+n,r))},{});return i[t]=r,i};function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){Cn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QP(n.key),n)}}function Iae(e,t,r){return t&&$_(e.prototype,t),r&&$_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pae(e,t,r){return t=E0(t),kae(e,ZP()?Reflect.construct(t,r||[],E0(e).constructor):t.apply(e,r))}function kae(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jae(e)}function jae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!e})()}function E0(e){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E0(e)}function Rae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ev(e,t)}function ev(e,t){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ev(e,t)}function Cn(e,t,r){return t=QP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QP(e){var t=Mae(e,"string");return Rl(t)=="symbol"?t:t+""}function Mae(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dae=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var f=r.length,d=uu().domain(b0(0,f)).range([s,s+o-u]),g=d.domain().map(function(v){return d(v)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:g}},F_=function(t){return t.changedTouches&&!!t.changedTouches.length},Ml=function(e){function t(r){var n;return Nae(this,t),n=Pae(this,t,[r]),Cn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Cn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Cn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,u=i.startIndex;o==null||o({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),Cn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cn(n,"handleSlideDragStart",function(i){var s=F_(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Rae(t,e),Iae(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,u=this.props,f=u.gap,d=u.data,g=d.length-1,v=Math.min(i,s),w=Math.max(i,s),S=t.getIndexInRange(o,v),E=t.getIndexInRange(o,w);return{startIndex:S-S%f,endIndex:E===g?g:E-E%f}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,u=i.dataKey,f=Mn(s[n],u,n);return it(o)?o(f,n):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,u=i.endX,f=this.props,d=f.x,g=f.width,v=f.travellerWidth,w=f.startIndex,S=f.endIndex,E=f.onChange,_=n.pageX-s;_>0?_=Math.min(_,d+g-v-u,d+g-v-o):_<0&&(_=Math.max(_,d-o,d-u));var A=this.getIndex({startX:o+_,endX:u+_});(A.startIndex!==w||A.endIndex!==S)&&E&&E(A),this.setState({startX:o+_,endX:u+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=F_(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,f=i.startX,d=this.state[o],g=this.props,v=g.x,w=g.width,S=g.travellerWidth,E=g.onChange,_=g.gap,A=g.data,N={startX:this.state.startX,endX:this.state.endX},C=n.pageX-s;C>0?C=Math.min(C,v+w-S-d):C<0&&(C=Math.max(C,v-d)),N[o]=d+C;var T=this.getIndex(N),I=T.startIndex,P=T.endIndex,k=function(){var F=A.length-1;return o==="startX"&&(u>f?I%_===0:P%_===0)||u<f&&P===F||o==="endX"&&(u>f?P%_===0:I%_===0)||u>f&&P===F};this.setState(Cn(Cn({},o,d+C),"brushMoveStartX",n.pageX),function(){E&&k()&&E(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,u=o.scaleValues,f=o.startX,d=o.endX,g=this.state[i],v=u.indexOf(g);if(v!==-1){var w=v+n;if(!(w===-1||w>=u.length)){var S=u[w];i==="startX"&&S>=d||i==="endX"&&S<=f||this.setState(Cn({},i,S),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,f=n.fill,d=n.stroke;return X.createElement("rect",{stroke:d,fill:f,x:i,y:s,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,f=n.data,d=n.children,g=n.padding,v=B.Children.only(d);return v?X.cloneElement(v,{x:i,y:s,width:o,height:u,margin:g,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,u=this,f=this.props,d=f.y,g=f.travellerWidth,v=f.height,w=f.traveller,S=f.ariaLabel,E=f.data,_=f.startIndex,A=f.endIndex,N=Math.max(n,this.props.x),C=Pg(Pg({},ht(this.props,!1)),{},{x:N,y:d,width:g,height:v}),T=S||"Min value: ".concat((s=E[_])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=E[A])===null||o===void 0?void 0:o.name);return X.createElement(cr,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),u.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(w,C))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,u=s.height,f=s.stroke,d=s.travellerWidth,g=Math.min(n,i)+d,v=Math.max(Math.abs(i-n)-d,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:g,y:o,width:v,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,u=n.height,f=n.travellerWidth,d=n.stroke,g=this.state,v=g.startX,w=g.endX,S=5,E={pointerEvents:"none",fill:d};return X.createElement(cr,{className:"recharts-brush-texts"},X.createElement(Yh,S0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(v,w)-S,y:o+u/2},E),this.getTextOfTick(i)),X.createElement(Yh,S0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(v,w)+f+S,y:o+u/2},E),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,u=n.x,f=n.y,d=n.width,g=n.height,v=n.alwaysShowText,w=this.state,S=w.startX,E=w.endX,_=w.isTextActive,A=w.isSlideMoving,N=w.isTravellerMoving,C=w.isTravellerFocused;if(!i||!i.length||!Ee(u)||!Ee(f)||!Ee(d)||!Ee(g)||d<=0||g<=0)return null;var T=yt("recharts-brush",s),I=X.Children.count(o)===1,P=Tae("userSelect","none");return X.createElement(cr,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(S,E),this.renderTravellerLayer(S,"startX"),this.renderTravellerLayer(E,"endX"),(_||A||N||C||v)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,u=n.height,f=n.stroke,d=Math.floor(s+u/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:i,y:s,width:o,height:u,fill:f,stroke:"none"}),X.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return X.isValidElement(n)?s=X.cloneElement(n,i):it(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,u=n.x,f=n.travellerWidth,d=n.updateId,g=n.startIndex,v=n.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return Pg({prevData:s,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:o},s&&s.length?Dae({data:s,width:o,x:u,travellerWidth:f,startIndex:g,endIndex:v}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([u,u+o-f]);var w=i.scale.domain().map(function(S){return i.scale(S)});return{prevData:s,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:w}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,u=s-1;u-o>1;){var f=Math.floor((o+u)/2);n[f]>i?u=f:o=f}return i>=n[u]?u:o}}])}(B.PureComponent);Cn(Ml,"displayName","Brush");Cn(Ml,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lae=iw;function Bae(e,t){var r;return Lae(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var $ae=Bae,Fae=eI,Uae=ia,zae=$ae,Hae=bn,Wae=Rp;function Vae(e,t,r){var n=Hae(e)?Fae:zae;return r&&Wae(e,t,r)&&(t=void 0),n(e,Uae(t))}var Gae=Vae;const qae=Pt(Gae);var Fi=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},U_=SI;function Kae(e,t,r){t=="__proto__"&&U_?U_(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Xae=Kae,Yae=Xae,Zae=wI,Qae=ia;function Jae(e,t){var r={};return t=Qae(t),Zae(e,function(n,i,s){Yae(r,i,t(n,i,s))}),r}var eoe=Jae;const toe=Pt(eoe);function roe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var noe=roe,ioe=iw;function soe(e,t){var r=!0;return ioe(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var aoe=soe,ooe=noe,loe=aoe,coe=ia,uoe=bn,foe=Rp;function doe(e,t,r){var n=uoe(e)?ooe:loe;return r&&foe(e,t,r)&&(t=void 0),n(e,coe(t))}var hoe=doe;const JP=Pt(hoe);var poe=["x","y"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(this,arguments)}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function goe(e,t,r){return t=moe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function moe(e){var t=yoe(e,"string");return xf(t)=="symbol"?t:t+""}function yoe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function voe(e,t){if(e==null)return{};var r=xoe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function woe(e,t){var r=e.x,n=e.y,i=voe(e,poe),s="".concat(r),o=parseInt(s,10),u="".concat(n),f=parseInt(u,10),d="".concat(t.height||i.height),g=parseInt(d,10),v="".concat(t.width||i.width),w=parseInt(v,10);return Hc(Hc(Hc(Hc(Hc({},t),i),o?{x:o}:{}),f?{y:f}:{}),{},{height:g,width:w,name:t.name,radius:t.radius})}function H_(e){return X.createElement(nae,tv({shapeType:"rectangle",propTransformer:woe,activeClassName:"recharts-active-bar"},e))}var boe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=Ee(n)||jF(n);return s?t(n,i):(s||eo(),r)}},Soe=["value","background"],e4;function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function Eoe(e,t){if(e==null)return{};var r=Aoe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(this,arguments)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){$s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r4(n.key),n)}}function Coe(e,t,r){return t&&V_(e.prototype,t),r&&V_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ooe(e,t,r){return t=_0(t),Toe(e,t4()?Reflect.construct(t,r||[],_0(e).constructor):t.apply(e,r))}function Toe(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Noe(e)}function Noe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!e})()}function _0(e){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_0(e)}function Ioe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rv(e,t)}function rv(e,t){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rv(e,t)}function $s(e,t,r){return t=r4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r4(e){var t=Poe(e,"string");return Dl(t)=="symbol"?t:t+""}function Poe(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wf=function(e){function t(){var r;_oe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Ooe(this,t,[].concat(i)),$s(r,"state",{isAnimationFinished:!1}),$s(r,"id",Lf("recharts-bar-")),$s(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),$s(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Ioe(t,e),Coe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,u=s.dataKey,f=s.activeIndex,d=s.activeBar,g=ht(this.props,!1);return n&&n.map(function(v,w){var S=w===f,E=S?d:o,_=fr(fr(fr({},g),v),{},{isActive:S,option:E,index:w,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return X.createElement(cr,A0({className:"recharts-bar-rectangle"},Dh(i.props,v,w),{key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(w)}),X.createElement(H_,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,g=i.animationEasing,v=i.animationId,w=this.state.prevData;return X.createElement(gs,{begin:f,duration:d,isActive:u,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var E=S.t,_=s.map(function(A,N){var C=w&&w[N];if(C){var T=yi(C.x,A.x),I=yi(C.y,A.y),P=yi(C.width,A.width),k=yi(C.height,A.height);return fr(fr({},A),{},{x:T(E),y:I(E),width:P(E),height:k(E)})}if(o==="horizontal"){var R=yi(0,A.height),F=R(E);return fr(fr({},A),{},{y:A.y+A.height-F,height:F})}var L=yi(0,A.width),K=L(E);return fr(fr({},A),{},{width:K})});return X.createElement(cr,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Hp(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,u=i.activeIndex,f=ht(this.props.background,!1);return s.map(function(d,g){d.value;var v=d.background,w=Eoe(d,Soe);if(!v)return null;var S=fr(fr(fr(fr(fr({},w),{},{fill:"#eee"},v),f),Dh(n.props,d,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:g,className:"recharts-bar-background-rectangle"});return X.createElement(H_,A0({key:"background-bar-".concat(g),option:n.props.background,isActive:g===u},S))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,u=s.xAxis,f=s.yAxis,d=s.layout,g=s.children,v=Qn(g,Hf);if(!v)return null;var w=d==="vertical"?o[0].height/2:o[0].width/2,S=function(A,N){var C=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:C,errorVal:Mn(A,N)}},E={clipPath:n?"url(#clipPath-".concat(i,")"):null};return X.createElement(cr,E,v.map(function(_){return X.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:u,yAxis:f,layout:d,offset:w,dataPointFormatter:S})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,u=n.xAxis,f=n.yAxis,d=n.left,g=n.top,v=n.width,w=n.height,S=n.isAnimationActive,E=n.background,_=n.id;if(i||!s||!s.length)return null;var A=this.state.isAnimationFinished,N=yt("recharts-bar",o),C=u&&u.allowDataOverflow,T=f&&f.allowDataOverflow,I=C||T,P=ot(_)?this.id:_;return X.createElement(cr,{className:N},C||T?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(P)},X.createElement("rect",{x:C?d:d-v/2,y:T?g:g-w/2,width:C?v:v*2,height:T?w:w*2}))):null,X.createElement(cr,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(P,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,P),(!S||A)&&Ys.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(B.PureComponent);e4=Wf;$s(Wf,"displayName","Bar");$s(Wf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!uc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$s(Wf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,u=e.xAxisTicks,f=e.yAxisTicks,d=e.stackedData,g=e.dataStartIndex,v=e.displayedData,w=e.offset,S=nre(n,r);if(!S)return null;var E=t.layout,_=r.type.defaultProps,A=_!==void 0?fr(fr({},_),r.props):r.props,N=A.dataKey,C=A.children,T=A.minPointSize,I=E==="horizontal"?o:s,P=d?I.scale.domain():null,k=fre({numericAxis:I}),R=Qn(C,NI),F=v.map(function(L,K){var V,U,J,Q,H,ee;d?V=ire(d[g+K],P):(V=Mn(L,N),Array.isArray(V)||(V=[k,V]));var Z=boe(T,e4.defaultProps.minPointSize)(V[1],K);if(E==="horizontal"){var Y,ae=[o.scale(V[0]),o.scale(V[1])],ne=ae[0],de=ae[1];U=qA({axis:s,ticks:u,bandSize:i,offset:S.offset,entry:L,index:K}),J=(Y=de??ne)!==null&&Y!==void 0?Y:void 0,Q=S.size;var le=ne-de;if(H=Number.isNaN(le)?0:le,ee={x:U,y:o.y,width:Q,height:o.height},Math.abs(Z)>0&&Math.abs(H)<Math.abs(Z)){var Se=xi(H||Z)*(Math.abs(Z)-Math.abs(H));J-=Se,H+=Se}}else{var Te=[s.scale(V[0]),s.scale(V[1])],qe=Te[0],we=Te[1];if(U=qe,J=qA({axis:o,ticks:f,bandSize:i,offset:S.offset,entry:L,index:K}),Q=we-qe,H=S.size,ee={x:s.x,y:J,width:s.width,height:H},Math.abs(Z)>0&&Math.abs(Q)<Math.abs(Z)){var Ot=xi(Q||Z)*(Math.abs(Z)-Math.abs(Q));Q+=Ot}}return fr(fr(fr({},L),{},{x:U,y:J,width:Q,height:H,value:d?V:V[1],payload:L,background:ee},R&&R[K]&&R[K].props),{},{tooltipPayload:[RP(r,L)],tooltipPosition:{x:U+Q/2,y:J+H/2}})});return fr({data:F,layout:E},w)});function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function koe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n4(n.key),n)}}function joe(e,t,r){return t&&G_(e.prototype,t),r&&G_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){Kp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kp(e,t,r){return t=n4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n4(e){var t=Roe(e,"string");return wf(t)=="symbol"?t:t+""}function Roe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Moe=function(t,r,n,i,s){var o=t.width,u=t.height,f=t.layout,d=t.children,g=Object.keys(r),v={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},w=!!Tn(d,Wf);return g.reduce(function(S,E){var _=r[E],A=_.orientation,N=_.domain,C=_.padding,T=C===void 0?{}:C,I=_.mirror,P=_.reversed,k="".concat(A).concat(I?"Mirror":""),R,F,L,K,V;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var U=N[1]-N[0],J=1/0,Q=_.categoricalDomain.sort(DF);if(Q.forEach(function(Te,qe){qe>0&&(J=Math.min((Te||0)-(Q[qe-1]||0),J))}),Number.isFinite(J)){var H=J/U,ee=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(R=H*ee/2),_.padding==="no-gap"){var Z=Qa(t.barCategoryGap,H*ee),Y=H*ee/2;R=Y-Z-(Y-Z)/ee*Z}}}i==="xAxis"?F=[n.left+(T.left||0)+(R||0),n.left+n.width-(T.right||0)-(R||0)]:i==="yAxis"?F=f==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(R||0),n.top+n.height-(T.bottom||0)-(R||0)]:F=_.range,P&&(F=[F[1],F[0]]);var ae=tre(_,s,w),ne=ae.scale,de=ae.realScaleType;ne.domain(N).range(F),rre(ne);var le=ure(ne,pi(pi({},_),{},{realScaleType:de}));i==="xAxis"?(V=A==="top"&&!I||A==="bottom"&&I,L=n.left,K=v[k]-V*_.height):i==="yAxis"&&(V=A==="left"&&!I||A==="right"&&I,L=v[k]-V*_.width,K=n.top);var Se=pi(pi(pi({},_),le),{},{realScaleType:de,x:L,y:K,scale:ne,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return Se.bandSize=f0(Se,le),!_.hide&&i==="xAxis"?v[k]+=(V?-1:1)*Se.height:_.hide||(v[k]+=(V?-1:1)*Se.width),pi(pi({},S),{},Kp({},E,Se))},{})},i4=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},Doe=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return i4({x:r,y:n},{x:i,y:s})},s4=function(){function e(t){koe(this,e),this.scale=t}return joe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+f}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Kp(s4,"EPS",1e-4);var Rw=function(t){var r=Object.keys(t).reduce(function(n,i){return pi(pi({},n),{},Kp({},i,s4.create(t[i])))},{});return pi(pi({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,u=s.position;return toe(i,function(f,d){return r[d].apply(f,{bandAware:o,position:u})})},isInRange:function(i){return JP(i,function(s,o){return r[o].isInRange(s)})}})};function Loe(e){return(e%180+180)%180}var Boe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Loe(i),o=s*Math.PI/180,u=Math.atan(n/r),f=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(f)},$oe=ia,Foe=Bf,Uoe=kp;function zoe(e){return function(t,r,n){var i=Object(t);if(!Foe(t)){var s=$oe(r);t=Uoe(t),r=function(u){return s(i[u],u,i)}}var o=e(t,r,n);return o>-1?i[s?t[o]:o]:void 0}}var Hoe=zoe,Woe=XP;function Voe(e){var t=Woe(e),r=t%1;return t===t?r?t-r:t:0}var Goe=Voe,qoe=pI,Koe=ia,Xoe=Goe,Yoe=Math.max;function Zoe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Xoe(r);return i<0&&(i=Yoe(n+i,0)),qoe(e,Koe(t),i)}var Qoe=Zoe,Joe=Hoe,ele=Qoe,tle=Joe(ele),rle=tle;const nle=Pt(rle);var ile=$$(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Mw=B.createContext(void 0),Dw=B.createContext(void 0),a4=B.createContext(void 0),o4=B.createContext({}),l4=B.createContext(void 0),c4=B.createContext(0),u4=B.createContext(0),K_=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,u=t.children,f=t.width,d=t.height,g=ile(s);return X.createElement(Mw.Provider,{value:n},X.createElement(Dw.Provider,{value:i},X.createElement(o4.Provider,{value:s},X.createElement(a4.Provider,{value:g},X.createElement(l4.Provider,{value:o},X.createElement(c4.Provider,{value:d},X.createElement(u4.Provider,{value:f},u)))))))},sle=function(){return B.useContext(l4)},f4=function(t){var r=B.useContext(Mw);r==null&&eo();var n=r[t];return n==null&&eo(),n},ale=function(){var t=B.useContext(Mw);return Ms(t)},ole=function(){var t=B.useContext(Dw),r=nle(t,function(n){return JP(n.domain,Number.isFinite)});return r||Ms(t)},d4=function(t){var r=B.useContext(Dw);r==null&&eo();var n=r[t];return n==null&&eo(),n},lle=function(){var t=B.useContext(a4);return t},cle=function(){return B.useContext(o4)},Lw=function(){return B.useContext(u4)},Bw=function(){return B.useContext(c4)};function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function ule(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p4(n.key),n)}}function dle(e,t,r){return t&&fle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hle(e,t,r){return t=C0(t),ple(e,h4()?Reflect.construct(t,r||[],C0(e).constructor):t.apply(e,r))}function ple(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gle(e)}function gle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!e})()}function C0(e){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C0(e)}function mle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nv(e,t)}function nv(e,t){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nv(e,t)}function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){$w(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $w(e,t,r){return t=p4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4(e){var t=yle(e,"string");return Ll(t)=="symbol"?t:t+""}function yle(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vle(e,t){return Sle(e)||ble(e,t)||wle(e,t)||xle()}function xle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wle(e,t){if(e){if(typeof e=="string")return Z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z_(e,t)}}function Z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ble(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function Sle(e){if(Array.isArray(e))return e}function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(this,arguments)}var Ele=function(t,r){var n;return X.isValidElement(t)?n=X.cloneElement(t,r):it(t)?n=t(r):n=X.createElement("line",iv({},r,{className:"recharts-reference-line-line"})),n},Ale=function(t,r,n,i,s,o,u,f,d){var g=s.x,v=s.y,w=s.width,S=s.height;if(n){var E=d.y,_=t.y.apply(E,{position:o});if(Fi(d,"discard")&&!t.y.isInRange(_))return null;var A=[{x:g+w,y:_},{x:g,y:_}];return f==="left"?A.reverse():A}if(r){var N=d.x,C=t.x.apply(N,{position:o});if(Fi(d,"discard")&&!t.x.isInRange(C))return null;var T=[{x:C,y:v+S},{x:C,y:v}];return u==="top"?T.reverse():T}if(i){var I=d.segment,P=I.map(function(k){return t.apply(k,{position:o})});return Fi(d,"discard")&&qae(P,function(k){return!t.isInRange(k)})?null:P}return null};function _le(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,u=e.className,f=e.alwaysShow,d=sle(),g=f4(i),v=d4(s),w=lle();if(!d||!w)return null;ss(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var S=Rw({x:g.scale,y:v.scale}),E=Er(t),_=Er(r),A=n&&n.length===2,N=Ale(S,E,_,A,w,e.position,g.orientation,v.orientation,e);if(!N)return null;var C=vle(N,2),T=C[0],I=T.x,P=T.y,k=C[1],R=k.x,F=k.y,L=Fi(e,"hidden")?"url(#".concat(d,")"):void 0,K=Y_(Y_({clipPath:L},ht(e,!0)),{},{x1:I,y1:P,x2:R,y2:F});return X.createElement(cr,{className:yt("recharts-reference-line",u)},Ele(o,K),Xr.renderCallByParent(e,Doe({x1:I,y1:P,x2:R,y2:F})))}var Fw=function(e){function t(){return ule(this,t),hle(this,t,arguments)}return mle(t,e),dle(t,[{key:"render",value:function(){return X.createElement(_le,this.props)}}])}(X.Component);$w(Fw,"displayName","ReferenceLine");$w(Fw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(this,arguments)}function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){Xp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ole(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m4(n.key),n)}}function Tle(e,t,r){return t&&Ole(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nle(e,t,r){return t=O0(t),Ile(e,g4()?Reflect.construct(t,r||[],O0(e).constructor):t.apply(e,r))}function Ile(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ple(e)}function Ple(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!e})()}function O0(e){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O0(e)}function kle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&av(e,t)}function av(e,t){return av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},av(e,t)}function Xp(e,t,r){return t=m4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m4(e){var t=jle(e,"string");return Bl(t)=="symbol"?t:t+""}function jle(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rle=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=Rw({x:i.scale,y:s.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return Fi(t,"discard")&&!o.isInRange(u)?null:u},Yp=function(e){function t(){return Cle(this,t),Nle(this,t,arguments)}return kle(t,e),Tle(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,u=n.alwaysShow,f=n.clipPathId,d=Er(i),g=Er(s);if(ss(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!g)return null;var v=Rle(this.props);if(!v)return null;var w=v.x,S=v.y,E=this.props,_=E.shape,A=E.className,N=Fi(this.props,"hidden")?"url(#".concat(f,")"):void 0,C=J_(J_({clipPath:N},ht(this.props,!0)),{},{cx:w,cy:S});return X.createElement(cr,{className:yt("recharts-reference-dot",A)},t.renderDot(_,C),Xr.renderCallByParent(this.props,{x:w-o,y:S-o,width:2*o,height:2*o}))}}])}(X.Component);Xp(Yp,"displayName","ReferenceDot");Xp(Yp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Xp(Yp,"renderDot",function(e,t){var r;return X.isValidElement(e)?r=X.cloneElement(e,t):it(e)?r=e(t):r=X.createElement(jw,sv({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){Zp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v4(n.key),n)}}function Lle(e,t,r){return t&&Dle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ble(e,t,r){return t=T0(t),$le(e,y4()?Reflect.construct(t,r||[],T0(e).constructor):t.apply(e,r))}function $le(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(e)}function Fle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!e})()}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(e)}function Ule(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lv(e,t)}function lv(e,t){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lv(e,t)}function Zp(e,t,r){return t=v4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v4(e){var t=zle(e,"string");return $l(t)=="symbol"?t:t+""}function zle(e,t){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hle=function(t,r,n,i,s){var o=s.x1,u=s.x2,f=s.y1,d=s.y2,g=s.xAxis,v=s.yAxis;if(!g||!v)return null;var w=Rw({x:g.scale,y:v.scale}),S={x:t?w.x.apply(o,{position:"start"}):w.x.rangeMin,y:n?w.y.apply(f,{position:"start"}):w.y.rangeMin},E={x:r?w.x.apply(u,{position:"end"}):w.x.rangeMax,y:i?w.y.apply(d,{position:"end"}):w.y.rangeMax};return Fi(s,"discard")&&(!w.isInRange(S)||!w.isInRange(E))?null:i4(S,E)},Qp=function(e){function t(){return Mle(this,t),Ble(this,t,arguments)}return Ule(t,e),Lle(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,u=n.y2,f=n.className,d=n.alwaysShow,g=n.clipPathId;ss(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Er(i),w=Er(s),S=Er(o),E=Er(u),_=this.props.shape;if(!v&&!w&&!S&&!E&&!_)return null;var A=Hle(v,w,S,E,this.props);if(!A&&!_)return null;var N=Fi(this.props,"hidden")?"url(#".concat(g,")"):void 0;return X.createElement(cr,{className:yt("recharts-reference-area",f)},t.renderRect(_,tC(tC({clipPath:N},ht(this.props,!0)),A)),Xr.renderCallByParent(this.props,A))}}])}(X.Component);Zp(Qp,"displayName","ReferenceArea");Zp(Qp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zp(Qp,"renderRect",function(e,t){var r;return X.isValidElement(e)?r=X.cloneElement(e,t):it(e)?r=e(t):r=X.createElement(kw,ov({},t,{className:"recharts-reference-area-rect"})),r});function x4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Wle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Boe(n,r)}function Vle(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,u=e.height;return t===1?{start:n?i:s,end:n?i+o:s+u}:{start:n?i+o:s+u,end:n?i:s}}function N0(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Gle(e,t){return x4(e,t+1)}function qle(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,u=t.end,f=0,d=1,g=o,v=function(){var E=n==null?void 0:n[f];if(E===void 0)return{v:x4(n,d)};var _=f,A,N=function(){return A===void 0&&(A=r(E,_)),A},C=E.coordinate,T=f===0||N0(e,C,N,g,u);T||(f=0,g=o,d+=1),T&&(g=C+e*(N()/2+i),f+=d)},w;d<=s.length;)if(w=v(),w)return w.v;return[]}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){Kle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kle(e,t,r){return t=Xle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xle(e){var t=Yle(e,"string");return bf(t)=="symbol"?t:t+""}function Yle(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zle(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,u=t.start,f=t.end,d=function(w){var S=s[w],E,_=function(){return E===void 0&&(E=r(S,w)),E};if(w===o-1){var A=e*(S.coordinate+e*_()/2-f);s[w]=S=qr(qr({},S),{},{tickCoord:A>0?S.coordinate-A*e:S.coordinate})}else s[w]=S=qr(qr({},S),{},{tickCoord:S.coordinate});var N=N0(e,S.tickCoord,_,u,f);N&&(f=S.tickCoord-e*(_()/2+i),s[w]=qr(qr({},S),{},{isShow:!0}))},g=o-1;g>=0;g--)d(g);return s}function Qle(e,t,r,n,i,s){var o=(n||[]).slice(),u=o.length,f=t.start,d=t.end;if(s){var g=n[u-1],v=r(g,u-1),w=e*(g.coordinate+e*v/2-d);o[u-1]=g=qr(qr({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate});var S=N0(e,g.tickCoord,function(){return v},f,d);S&&(d=g.tickCoord-e*(v/2+i),o[u-1]=qr(qr({},g),{},{isShow:!0}))}for(var E=s?u-1:u,_=function(C){var T=o[C],I,P=function(){return I===void 0&&(I=r(T,C)),I};if(C===0){var k=e*(T.coordinate-e*P()/2-f);o[C]=T=qr(qr({},T),{},{tickCoord:k<0?T.coordinate-k*e:T.coordinate})}else o[C]=T=qr(qr({},T),{},{tickCoord:T.coordinate});var R=N0(e,T.tickCoord,P,f,d);R&&(f=T.tickCoord+e*(P()/2+i),o[C]=qr(qr({},T),{},{isShow:!0}))},A=0;A<E;A++)_(A);return o}function Uw(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,u=e.orientation,f=e.interval,d=e.tickFormatter,g=e.unit,v=e.angle;if(!i||!i.length||!n)return[];if(Ee(f)||uc.isSsr)return Gle(i,typeof f=="number"&&Ee(f)?f:0);var w=[],S=u==="top"||u==="bottom"?"width":"height",E=g&&S==="width"?cu(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=function(T,I){var P=it(d)?d(T.value,I):T.value;return S==="width"?Wle(cu(P,{fontSize:t,letterSpacing:r}),E,v):cu(P,{fontSize:t,letterSpacing:r})[S]},A=i.length>=2?xi(i[1].coordinate-i[0].coordinate):1,N=Vle(s,A,S);return f==="equidistantPreserveStart"?qle(A,N,_,i,o):(f==="preserveStart"||f==="preserveStartEnd"?w=Qle(A,N,_,i,o,f==="preserveStartEnd"):w=Zle(A,N,_,i,o),w.filter(function(C){return C.isShow}))}var Jle=["viewBox"],ece=["viewBox"],tce=["ticks"];function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(this,arguments)}function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(r),!0).forEach(function(n){zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kg(e,t){if(e==null)return{};var r=rce(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b4(n.key),n)}}function ice(e,t,r){return t&&iC(e.prototype,t),r&&iC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sce(e,t,r){return t=I0(t),ace(e,w4()?Reflect.construct(t,r||[],I0(e).constructor):t.apply(e,r))}function ace(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oce(e)}function oce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!e})()}function I0(e){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I0(e)}function lce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cv(e,t)}function cv(e,t){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cv(e,t)}function zw(e,t,r){return t=b4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b4(e){var t=cce(e,"string");return Fl(t)=="symbol"?t:t+""}function cce(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pc=function(e){function t(r){var n;return nce(this,t),n=sce(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return lce(t,e),ice(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=kg(n,Jle),u=this.props,f=u.viewBox,d=kg(u,ece);return!cl(s,f)||!cl(o,d)||!cl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,u=i.width,f=i.height,d=i.orientation,g=i.tickSize,v=i.mirror,w=i.tickMargin,S,E,_,A,N,C,T=v?-1:1,I=n.tickSize||g,P=Ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":S=E=n.coordinate,A=o+ +!v*f,_=A-T*I,C=_-T*w,N=P;break;case"left":_=A=n.coordinate,E=s+ +!v*u,S=E-T*I,N=S-T*w,C=P;break;case"right":_=A=n.coordinate,E=s+ +v*u,S=E+T*I,N=S+T*w,C=P;break;default:S=E=n.coordinate,A=o+ +v*f,_=A+T*I,C=_+T*w,N=P;break}return{line:{x1:S,y1:_,x2:E,y2:A},tick:{x:N,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,f=n.orientation,d=n.mirror,g=n.axisLine,v=yr(yr(yr({},ht(this.props,!1)),ht(g,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var w=+(f==="top"&&!d||f==="bottom"&&d);v=yr(yr({},v),{},{x1:i,y1:s+w*u,x2:i+o,y2:s+w*u})}else{var S=+(f==="left"&&!d||f==="right"&&d);v=yr(yr({},v),{},{x1:i+S*o,y1:s,x2:i+S*o,y2:s+u})}return X.createElement("line",Yo({},v,{className:yt("recharts-cartesian-axis-line",Zn(g,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,u=this.props,f=u.tickLine,d=u.stroke,g=u.tick,v=u.tickFormatter,w=u.unit,S=Uw(yr(yr({},this.props),{},{ticks:n}),i,s),E=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),A=ht(this.props,!1),N=ht(g,!1),C=yr(yr({},A),{},{fill:"none"},ht(f,!1)),T=S.map(function(I,P){var k=o.getTickLineCoord(I),R=k.line,F=k.tick,L=yr(yr(yr(yr({textAnchor:E,verticalAnchor:_},A),{},{stroke:"none",fill:d},N),F),{},{index:P,payload:I,visibleTicksCount:S.length,tickFormatter:v});return X.createElement(cr,Yo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Dh(o.props,I,P)),f&&X.createElement("line",Yo({},C,R,{className:yt("recharts-cartesian-axis-tick-line",Zn(f,"className"))})),g&&t.renderTickItem(g,L,"".concat(it(v)?v(I.value,P):I.value).concat(w||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,u=i.height,f=i.ticksGenerator,d=i.className,g=i.hide;if(g)return null;var v=this.props,w=v.ticks,S=kg(v,tce),E=w;return it(f)&&(E=w&&w.length>0?f(this.props):f(S)),o<=0||u<=0||!E||!E.length?null:X.createElement(cr,{className:yt("recharts-cartesian-axis",d),ref:function(A){n.layerReference=A}},s&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),Xr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,u=yt(i.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?o=X.cloneElement(n,yr(yr({},i),{},{className:u})):it(n)?o=n(yr(yr({},i),{},{className:u})):o=X.createElement(Yh,Yo({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(B.Component);zw(pc,"displayName","CartesianAxis");zw(pc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uce=["x1","y1","x2","y2","key"],fce=["offset"];function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){dce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dce(e,t,r){return t=hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hce(e){var t=pce(e,"string");return to(t)=="symbol"?t:t+""}function pce(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ma.apply(this,arguments)}function aC(e,t){if(e==null)return{};var r=gce(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mce=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,u=t.height,f=t.ry;return X.createElement("rect",{x:i,y:s,ry:f,width:o,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function S4(e,t){var r;if(X.isValidElement(e))r=X.cloneElement(e,t);else if(it(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,u=t.key,f=aC(t,uce),d=ht(f,!1);d.offset;var g=aC(d,fce);r=X.createElement("line",Ma({},g,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:u}))}return r}function yce(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(u,f){var d=Yr(Yr({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(f),index:f});return S4(i,d)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function vce(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(u,f){var d=Yr(Yr({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(f),index:f});return S4(i,d)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function xce(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,u=e.horizontalPoints,f=e.horizontal,d=f===void 0?!0:f;if(!d||!t||!t.length)return null;var g=u.map(function(w){return Math.round(w+i-i)}).sort(function(w,S){return w-S});i!==g[0]&&g.unshift(0);var v=g.map(function(w,S){var E=!g[S+1],_=E?i+o-w:g[S+1]-w;if(_<=0)return null;var A=S%t.length;return X.createElement("rect",{key:"react-".concat(S),y:w,x:n,height:_,width:s,stroke:"none",fill:t[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function wce(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,u=e.width,f=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var g=d.map(function(w){return Math.round(w+s-s)}).sort(function(w,S){return w-S});s!==g[0]&&g.unshift(0);var v=g.map(function(w,S){var E=!g[S+1],_=E?s+u-w:g[S+1]-w;if(_<=0)return null;var A=S%n.length;return X.createElement("rect",{key:"react-".concat(S),x:w,y:o,width:_,height:f,stroke:"none",fill:n[A],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var bce=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return kP(Uw(Yr(Yr(Yr({},pc.defaultProps),n),{},{ticks:ts(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},Sce=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return kP(Uw(Yr(Yr(Yr({},pc.defaultProps),n),{},{ticks:ts(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Po={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function E4(e){var t,r,n,i,s,o,u=Lw(),f=Bw(),d=cle(),g=Yr(Yr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Po.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Po.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Po.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Po.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Po.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Po.verticalFill,x:Ee(e.x)?e.x:d.left,y:Ee(e.y)?e.y:d.top,width:Ee(e.width)?e.width:d.width,height:Ee(e.height)?e.height:d.height}),v=g.x,w=g.y,S=g.width,E=g.height,_=g.syncWithTicks,A=g.horizontalValues,N=g.verticalValues,C=ale(),T=ole();if(!Ee(S)||S<=0||!Ee(E)||E<=0||!Ee(v)||v!==+v||!Ee(w)||w!==+w)return null;var I=g.verticalCoordinatesGenerator||bce,P=g.horizontalCoordinatesGenerator||Sce,k=g.horizontalPoints,R=g.verticalPoints;if((!k||!k.length)&&it(P)){var F=A&&A.length,L=P({yAxis:T?Yr(Yr({},T),{},{ticks:F?A:T.ticks}):void 0,width:u,height:f,offset:d},F?!0:_);ss(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(to(L),"]")),Array.isArray(L)&&(k=L)}if((!R||!R.length)&&it(I)){var K=N&&N.length,V=I({xAxis:C?Yr(Yr({},C),{},{ticks:K?N:C.ticks}):void 0,width:u,height:f,offset:d},K?!0:_);ss(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(to(V),"]")),Array.isArray(V)&&(R=V)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(mce,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),X.createElement(yce,Ma({},g,{offset:d,horizontalPoints:k,xAxis:C,yAxis:T})),X.createElement(vce,Ma({},g,{offset:d,verticalPoints:R,xAxis:C,yAxis:T})),X.createElement(xce,Ma({},g,{horizontalPoints:k})),X.createElement(wce,Ma({},g,{verticalPoints:R})))}E4.displayName="CartesianGrid";var Ece=["type","layout","connectNulls","ref"],Ace=["key"];function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function oC(e,t){if(e==null)return{};var r=_ce(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hu.apply(this,arguments)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){gi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ko(e){return Nce(e)||Tce(e)||Oce(e)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oce(e,t){if(e){if(typeof e=="string")return uv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uv(e,t)}}function Tce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nce(e){if(Array.isArray(e))return uv(e)}function uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ice(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_4(n.key),n)}}function Pce(e,t,r){return t&&cC(e.prototype,t),r&&cC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kce(e,t,r){return t=P0(t),jce(e,A4()?Reflect.construct(t,r||[],P0(e).constructor):t.apply(e,r))}function jce(e,t){if(t&&(Ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rce(e)}function Rce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A4=function(){return!!e})()}function P0(e){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P0(e)}function Mce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fv(e,t)}function fv(e,t){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fv(e,t)}function gi(e,t,r){return t=_4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _4(e){var t=Dce(e,"string");return Ul(t)=="symbol"?t:t+""}function Dce(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zl=function(e){function t(){var r;Ice(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=kce(this,t,[].concat(i)),gi(r,"state",{isAnimationFinished:!0,totalLength:0}),gi(r,"generateSimpleStrokeDasharray",function(o,u){return"".concat(u,"px ").concat(o-u,"px")}),gi(r,"getStrokeDasharray",function(o,u,f){var d=f.reduce(function(N,C){return N+C});if(!d)return r.generateSimpleStrokeDasharray(u,o);for(var g=Math.floor(o/d),v=o%d,w=u-o,S=[],E=0,_=0;E<f.length;_+=f[E],++E)if(_+f[E]>v){S=[].concat(ko(f.slice(0,E)),[v-_]);break}var A=S.length%2===0?[0,w]:[w];return[].concat(ko(t.repeat(f,g)),ko(S),A).map(function(N){return"".concat(N,"px")}).join(", ")}),gi(r,"id",Lf("recharts-line-")),gi(r,"pathRef",function(o){r.mainCurve=o}),gi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),gi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Mce(t,e),Pce(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,u=s.xAxis,f=s.yAxis,d=s.layout,g=s.children,v=Qn(g,Hf);if(!v)return null;var w=function(_,A){return{x:_.x,y:_.y,value:_.value,errorVal:Mn(_.payload,A)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return X.createElement(cr,S,v.map(function(E){return X.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:o,xAxis:u,yAxis:f,layout:d,dataPointFormatter:w})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var u=this.props,f=u.dot,d=u.points,g=u.dataKey,v=ht(this.props,!1),w=ht(f,!0),S=d.map(function(_,A){var N=An(An(An({key:"dot-".concat(A),r:3},v),w),{},{index:A,cx:_.x,cy:_.y,value:_.value,dataKey:g,payload:_.payload,points:d});return t.renderDotItem(f,N)}),E={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return X.createElement(cr,hu({className:"recharts-line-dots",key:"dots"},E),S)}},{key:"renderCurveStatically",value:function(n,i,s,o){var u=this.props,f=u.type,d=u.layout,g=u.connectNulls;u.ref;var v=oC(u,Ece),w=An(An(An({},ht(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:f,layout:d,connectNulls:g});return X.createElement(zy,hu({},w,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,u=o.points,f=o.strokeDasharray,d=o.isAnimationActive,g=o.animationBegin,v=o.animationDuration,w=o.animationEasing,S=o.animationId,E=o.animateNewValues,_=o.width,A=o.height,N=this.state,C=N.prevPoints,T=N.totalLength;return X.createElement(gs,{begin:g,duration:v,isActive:d,easing:w,from:{t:0},to:{t:1},key:"line-".concat(S),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var P=I.t;if(C){var k=C.length/u.length,R=u.map(function(U,J){var Q=Math.floor(J*k);if(C[Q]){var H=C[Q],ee=yi(H.x,U.x),Z=yi(H.y,U.y);return An(An({},U),{},{x:ee(P),y:Z(P)})}if(E){var Y=yi(_*2,U.x),ae=yi(A/2,U.y);return An(An({},U),{},{x:Y(P),y:ae(P)})}return An(An({},U),{},{x:U.x,y:U.y})});return s.renderCurveStatically(R,n,i)}var F=yi(0,T),L=F(P),K;if(f){var V="".concat(f).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});K=s.getStrokeDasharray(L,T,V)}else K=s.generateSimpleStrokeDasharray(T,L);return s.renderCurveStatically(u,n,i,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,u=s.isAnimationActive,f=this.state,d=f.prevPoints,g=f.totalLength;return u&&o&&o.length&&(!d&&g>0||!Hp(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,u=i.points,f=i.className,d=i.xAxis,g=i.yAxis,v=i.top,w=i.left,S=i.width,E=i.height,_=i.isAnimationActive,A=i.id;if(s||!u||!u.length)return null;var N=this.state.isAnimationFinished,C=u.length===1,T=yt("recharts-line",f),I=d&&d.allowDataOverflow,P=g&&g.allowDataOverflow,k=I||P,R=ot(A)?this.id:A,F=(n=ht(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},L=F.r,K=L===void 0?3:L,V=F.strokeWidth,U=V===void 0?2:V,J=VF(o)?o:{},Q=J.clipDot,H=Q===void 0?!0:Q,ee=K*2+U;return X.createElement(cr,{className:T},I||P?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(R)},X.createElement("rect",{x:I?w:w-S/2,y:P?v:v-E/2,width:I?S:S*2,height:P?E:E*2})),!H&&X.createElement("clipPath",{id:"clipPath-dots-".concat(R)},X.createElement("rect",{x:w-ee/2,y:v-ee/2,width:S+ee,height:E+ee}))):null,!C&&this.renderCurve(k,R),this.renderErrorBar(k,R),(C||o)&&this.renderDots(k,H,R),(!_||N)&&Ys.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(ko(n),[0]):n,o=[],u=0;u<i;++u)o=[].concat(ko(o),ko(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(X.isValidElement(n))s=X.cloneElement(n,i);else if(it(n))s=n(i);else{var o=i.key,u=oC(i,Ace),f=yt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=X.createElement(jw,hu({key:o},u,{className:f}))}return s}}])}(B.PureComponent);gi(zl,"displayName","Line");gi(zl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!uc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});gi(zl,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,u=e.bandSize,f=e.displayedData,d=e.offset,g=t.layout,v=f.map(function(w,S){var E=Mn(w,o);return g==="horizontal"?{x:GA({axis:r,ticks:i,bandSize:u,entry:w,index:S}),y:ot(E)?null:n.scale(E),value:E,payload:w}:{x:ot(E)?null:r.scale(E),y:GA({axis:n,ticks:s,bandSize:u,entry:w,index:S}),value:E,payload:w}});return An({points:v,layout:g},d)});function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Lce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T4(n.key),n)}}function $ce(e,t,r){return t&&Bce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fce(e,t,r){return t=k0(t),Uce(e,C4()?Reflect.construct(t,r||[],k0(e).constructor):t.apply(e,r))}function Uce(e,t){if(t&&(Hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zce(e)}function zce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!e})()}function k0(e){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k0(e)}function Hce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dv(e,t)}function O4(e,t,r){return t=T4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T4(e){var t=Wce(e,"string");return Hl(t)=="symbol"?t:t+""}function Wce(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(this,arguments)}function Vce(e){var t=e.xAxisId,r=Lw(),n=Bw(),i=f4(t);return i==null?null:B.createElement(pc,hv({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ts(o,!0)}}))}var Jp=function(e){function t(){return Lce(this,t),Fce(this,t,arguments)}return Hce(t,e),$ce(t,[{key:"render",value:function(){return B.createElement(Vce,this.props)}}])}(B.Component);O4(Jp,"displayName","XAxis");O4(Jp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function Gce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P4(n.key),n)}}function Kce(e,t,r){return t&&qce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xce(e,t,r){return t=j0(t),Yce(e,N4()?Reflect.construct(t,r||[],j0(e).constructor):t.apply(e,r))}function Yce(e,t){if(t&&(Wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zce(e)}function Zce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N4=function(){return!!e})()}function j0(e){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j0(e)}function Qce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pv(e,t)}function pv(e,t){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pv(e,t)}function I4(e,t,r){return t=P4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4(e){var t=Jce(e,"string");return Wl(t)=="symbol"?t:t+""}function Jce(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(this,arguments)}var eue=function(t){var r=t.yAxisId,n=Lw(),i=Bw(),s=d4(r);return s==null?null:B.createElement(pc,gv({},s,{className:yt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return ts(u,!0)}}))},e1=function(e){function t(){return Gce(this,t),Xce(this,t,arguments)}return Qce(t,e),Kce(t,[{key:"render",value:function(){return B.createElement(eue,this.props)}}])}(B.Component);I4(e1,"displayName","YAxis");I4(e1,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uC(e){return iue(e)||nue(e)||rue(e)||tue()}function tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(e,t){if(e){if(typeof e=="string")return mv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mv(e,t)}}function nue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iue(e){if(Array.isArray(e))return mv(e)}function mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yv=function(t,r,n,i,s){var o=Qn(t,Fw),u=Qn(t,Yp),f=[].concat(uC(o),uC(u)),d=Qn(t,Qp),g="".concat(i,"Id"),v=i[0],w=r;if(f.length&&(w=f.reduce(function(_,A){if(A.props[g]===n&&Fi(A.props,"extendDomain")&&Ee(A.props[v])){var N=A.props[v];return[Math.min(_[0],N),Math.max(_[1],N)]}return _},w)),d.length){var S="".concat(v,"1"),E="".concat(v,"2");w=d.reduce(function(_,A){if(A.props[g]===n&&Fi(A.props,"extendDomain")&&Ee(A.props[S])&&Ee(A.props[E])){var N=A.props[S],C=A.props[E];return[Math.min(_[0],N,C),Math.max(_[1],N,C)]}return _},w)}return s&&s.length&&(w=s.reduce(function(_,A){return Ee(A)?[Math.min(_[0],A),Math.max(_[1],A)]:_},w)),w},k4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,d,g){this.fn=f,this.context=d,this.once=g||!1}function s(f,d,g,v,w){if(typeof g!="function")throw new TypeError("The listener must be a function");var S=new i(g,v||f,w),E=r?r+d:d;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],S]:f._events[E].push(S):(f._events[E]=S,f._eventsCount++),f}function o(f,d){--f._eventsCount===0?f._events=new n:delete f._events[d]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],g,v;if(this._eventsCount===0)return d;for(v in g=this._events)t.call(g,v)&&d.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(g)):d},u.prototype.listeners=function(d){var g=r?r+d:d,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var w=0,S=v.length,E=new Array(S);w<S;w++)E[w]=v[w].fn;return E},u.prototype.listenerCount=function(d){var g=r?r+d:d,v=this._events[g];return v?v.fn?1:v.length:0},u.prototype.emit=function(d,g,v,w,S,E){var _=r?r+d:d;if(!this._events[_])return!1;var A=this._events[_],N=arguments.length,C,T;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),N){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,v),!0;case 4:return A.fn.call(A.context,g,v,w),!0;case 5:return A.fn.call(A.context,g,v,w,S),!0;case 6:return A.fn.call(A.context,g,v,w,S,E),!0}for(T=1,C=new Array(N-1);T<N;T++)C[T-1]=arguments[T];A.fn.apply(A.context,C)}else{var I=A.length,P;for(T=0;T<I;T++)switch(A[T].once&&this.removeListener(d,A[T].fn,void 0,!0),N){case 1:A[T].fn.call(A[T].context);break;case 2:A[T].fn.call(A[T].context,g);break;case 3:A[T].fn.call(A[T].context,g,v);break;case 4:A[T].fn.call(A[T].context,g,v,w);break;default:if(!C)for(P=1,C=new Array(N-1);P<N;P++)C[P-1]=arguments[P];A[T].fn.apply(A[T].context,C)}}return!0},u.prototype.on=function(d,g,v){return s(this,d,g,v,!1)},u.prototype.once=function(d,g,v){return s(this,d,g,v,!0)},u.prototype.removeListener=function(d,g,v,w){var S=r?r+d:d;if(!this._events[S])return this;if(!g)return o(this,S),this;var E=this._events[S];if(E.fn)E.fn===g&&(!w||E.once)&&(!v||E.context===v)&&o(this,S);else{for(var _=0,A=[],N=E.length;_<N;_++)(E[_].fn!==g||w&&!E[_].once||v&&E[_].context!==v)&&A.push(E[_]);A.length?this._events[S]=A.length===1?A[0]:A:o(this,S)}return this},u.prototype.removeAllListeners=function(d){var g;return d?(g=r?r+d:d,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(k4);var sue=k4.exports;const aue=Pt(sue);var jg=new aue,Rg="recharts.syncMouseEvents";function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function oue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j4(n.key),n)}}function cue(e,t,r){return t&&lue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mg(e,t,r){return t=j4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j4(e){var t=uue(e,"string");return Sf(t)=="symbol"?t:t+""}function uue(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fue=function(){function e(){oue(this,e),Mg(this,"activeIndex",0),Mg(this,"coordinateList",[]),Mg(this,"layout","horizontal")}return cue(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,u=o===void 0?null:o,f=r.layout,d=f===void 0?null:f,g=r.offset,v=g===void 0?null:g,w=r.mouseHandlerCallback,S=w===void 0?null:w;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=v??this.offset,this.mouseHandlerCallback=S??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,u=i.height,f=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,v=s+f+d,w=o+this.offset.top+u/2+g;this.mouseHandlerCallback({pageX:v,pageY:w})}}}])}();function due(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&Ee(n)&&Ee(i))return!0}return!1}function hue(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function R4(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=$r(t,r,n,i),u=$r(t,r,n,s);return{points:[o,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function pue(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,f=t.cy,d=t.innerRadius,g=t.outerRadius,v=t.angle,w=$r(u,f,d,v),S=$r(u,f,g,v);n=w.x,i=w.y,s=S.x,o=S.y}else return R4(t);return[{x:n,y:i},{x:s,y:o}]}function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){gue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gue(e,t,r){return t=mue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mue(e){var t=yue(e,"string");return Ef(t)=="symbol"?t:t+""}function yue(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vue(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,u=e.activePayload,f=e.offset,d=e.activeTooltipIndex,g=e.tooltipAxisBandSize,v=e.layout,w=e.chartName,S=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!S||!s||!o||w!=="ScatterChart"&&i!=="axis")return null;var E,_=zy;if(w==="ScatterChart")E=o,_=yse;else if(w==="BarChart")E=hue(v,o,f,g),_=kw;else if(v==="radial"){var A=R4(o),N=A.cx,C=A.cy,T=A.radius,I=A.startAngle,P=A.endAngle;E={cx:N,cy:C,startAngle:I,endAngle:P,innerRadius:T,outerRadius:T},_=LP}else E={points:pue(v,o,f)},_=zy;var k=$d($d($d($d({stroke:"#ccc",pointerEvents:"none"},f),E),ht(S,!1)),{},{payload:u,payloadIndex:d,className:yt("recharts-tooltip-cursor",S.className)});return B.isValidElement(S)?B.cloneElement(S,k):B.createElement(_,k)}var xue=["item"],wue=["children","className","width","height","style","compact","title","desc"];function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}function dC(e,t){return Eue(e)||Sue(e,t)||D4(e,t)||bue()}function bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,u=[],f=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(g){d=!0,i=g}finally{try{if(!f&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function Eue(e){if(Array.isArray(e))return e}function hC(e,t){if(e==null)return{};var r=Aue(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L4(n.key),n)}}function Oue(e,t,r){return t&&Cue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tue(e,t,r){return t=R0(t),Nue(e,M4()?Reflect.construct(t,r||[],R0(e).constructor):t.apply(e,r))}function Nue(e,t){if(t&&(Vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iue(e)}function Iue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R0(e)}function Pue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}function vv(e,t){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vv(e,t)}function Gl(e){return Rue(e)||jue(e)||D4(e)||kue()}function kue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D4(e,t){if(e){if(typeof e=="string")return xv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xv(e,t)}}function jue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rue(e){if(Array.isArray(e))return xv(e)}function xv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=L4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4(e){var t=Mue(e,"string");return Vl(t)=="symbol"?t:t+""}function Mue(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Due={xAxis:["bottom","top"],yAxis:["left","right"]},Lue={width:"100%",height:"100%"},B4={x:0,y:0};function Fd(e){return e}var Bue=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$ue=function(t,r,n,i){var s=r.find(function(g){return g&&g.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,u=i.radius;return ce(ce(ce({},i),$r(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var f=s.coordinate,d=i.angle;return ce(ce(ce({},i),$r(i.cx,i.cy,f,d)),{},{angle:d,radius:f})}return B4},t1=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(u,f){var d=f.props.data;return d&&d.length?[].concat(Gl(u),Gl(d)):u},[]);return o.length>0?o:t&&t.length&&Ee(i)&&Ee(s)?t.slice(i,s+1):[]};function $4(e){return e==="number"?[0,"auto"]:void 0}var wv=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,u=t1(r,t);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(f,d){var g,v=(g=d.props.data)!==null&&g!==void 0?g:r;v&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(v=v.slice(t.dataStartIndex,t.dataEndIndex+1));var w;if(o.dataKey&&!o.allowDuplicatedCategory){var S=v===void 0?u:v;w=Rh(S,o.dataKey,i)}else w=v&&v[n]||u[n];return w?[].concat(Gl(f),[RP(d,w)]):f},[])},gC=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=Bue(s,n),u=t.orderedTooltipTicks,f=t.tooltipAxis,d=t.tooltipTicks,g=Xte(o,u,d,f);if(g>=0&&d){var v=d[g]&&d[g].value,w=wv(t,r,g,v),S=$ue(n,u,g,s);return{activeTooltipIndex:g,activeLabel:v,activePayload:w,activeCoordinate:S}}return null},Fue=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,u=r.stackGroups,f=r.dataStartIndex,d=r.dataEndIndex,g=t.layout,v=t.children,w=t.stackOffset,S=PP(g,s);return n.reduce(function(E,_){var A,N=_.type.defaultProps!==void 0?ce(ce({},_.type.defaultProps),_.props):_.props,C=N.type,T=N.dataKey,I=N.allowDataOverflow,P=N.allowDuplicatedCategory,k=N.scale,R=N.ticks,F=N.includeHidden,L=N[o];if(E[L])return E;var K=t1(t.data,{graphicalItems:i.filter(function(le){var Se,Te=o in le.props?le.props[o]:(Se=le.type.defaultProps)===null||Se===void 0?void 0:Se[o];return Te===L}),dataStartIndex:f,dataEndIndex:d}),V=K.length,U,J,Q;due(N.domain,I,C)&&(U=Ly(N.domain,null,I),S&&(C==="number"||k!=="auto")&&(Q=fu(K,T,"category")));var H=$4(C);if(!U||U.length===0){var ee,Z=(ee=N.domain)!==null&&ee!==void 0?ee:H;if(T){if(U=fu(K,T,C),C==="category"&&S){var Y=MF(U);P&&Y?(J=U,U=b0(0,V)):P||(U=YA(Z,U,_).reduce(function(le,Se){return le.indexOf(Se)>=0?le:[].concat(Gl(le),[Se])},[]))}else if(C==="category")P?U=U.filter(function(le){return le!==""&&!ot(le)}):U=YA(Z,U,_).reduce(function(le,Se){return le.indexOf(Se)>=0||Se===""||ot(Se)?le:[].concat(Gl(le),[Se])},[]);else if(C==="number"){var ae=ere(K,i.filter(function(le){var Se,Te,qe=o in le.props?le.props[o]:(Se=le.type.defaultProps)===null||Se===void 0?void 0:Se[o],we="hide"in le.props?le.props.hide:(Te=le.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return qe===L&&(F||!we)}),T,s,g);ae&&(U=ae)}S&&(C==="number"||k!=="auto")&&(Q=fu(K,T,"category"))}else S?U=b0(0,V):u&&u[L]&&u[L].hasStack&&C==="number"?U=w==="expand"?[0,1]:jP(u[L].stackGroups,f,d):U=IP(K,i.filter(function(le){var Se=o in le.props?le.props[o]:le.type.defaultProps[o],Te="hide"in le.props?le.props.hide:le.type.defaultProps.hide;return Se===L&&(F||!Te)}),C,g,!0);if(C==="number")U=yv(v,U,L,s,R),Z&&(U=Ly(Z,U,I));else if(C==="category"&&Z){var ne=Z,de=U.every(function(le){return ne.indexOf(le)>=0});de&&(U=ne)}}return ce(ce({},E),{},He({},L,ce(ce({},N),{},{axisType:s,domain:U,categoricalDomain:Q,duplicateDomain:J,originalDomain:(A=N.domain)!==null&&A!==void 0?A:H,isCategorical:S,layout:g})))},{})},Uue=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,u=r.stackGroups,f=r.dataStartIndex,d=r.dataEndIndex,g=t.layout,v=t.children,w=t1(t.data,{graphicalItems:n,dataStartIndex:f,dataEndIndex:d}),S=w.length,E=PP(g,s),_=-1;return n.reduce(function(A,N){var C=N.type.defaultProps!==void 0?ce(ce({},N.type.defaultProps),N.props):N.props,T=C[o],I=$4("number");if(!A[T]){_++;var P;return E?P=b0(0,S):u&&u[T]&&u[T].hasStack?(P=jP(u[T].stackGroups,f,d),P=yv(v,P,T,s)):(P=Ly(I,IP(w,n.filter(function(k){var R,F,L=o in k.props?k.props[o]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[o],K="hide"in k.props?k.props.hide:(F=k.type.defaultProps)===null||F===void 0?void 0:F.hide;return L===T&&!K}),"number",g),i.defaultProps.allowDataOverflow),P=yv(v,P,T,s)),ce(ce({},A),{},He({},T,ce(ce({axisType:s},i.defaultProps),{},{hide:!0,orientation:Zn(Due,"".concat(s,".").concat(_%2),null),domain:P,originalDomain:I,isCategorical:E,layout:g})))}return A},{})},zue=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,f=r.dataStartIndex,d=r.dataEndIndex,g=t.children,v="".concat(i,"Id"),w=Qn(g,s),S={};return w&&w.length?S=Fue(t,{axes:w,graphicalItems:o,axisType:i,axisIdKey:v,stackGroups:u,dataStartIndex:f,dataEndIndex:d}):o&&o.length&&(S=Uue(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:v,stackGroups:u,dataStartIndex:f,dataEndIndex:d})),S},Hue=function(t){var r=Ms(t),n=ts(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:sw(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:f0(r,n)}},mC=function(t){var r=t.children,n=t.defaultShowTooltip,i=Tn(r,Ml),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Wue=function(t){return!t||!t.length?!1:t.some(function(r){var n=is(r&&r.type);return n&&n.indexOf("Bar")>=0})},yC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vue=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,u=t.yAxisMap,f=u===void 0?{}:u,d=n.width,g=n.height,v=n.children,w=n.margin||{},S=Tn(v,Ml),E=Tn(v,$a),_=Object.keys(f).reduce(function(P,k){var R=f[k],F=R.orientation;return!R.mirror&&!R.hide?ce(ce({},P),{},He({},F,P[F]+R.width)):P},{left:w.left||0,right:w.right||0}),A=Object.keys(o).reduce(function(P,k){var R=o[k],F=R.orientation;return!R.mirror&&!R.hide?ce(ce({},P),{},He({},F,Zn(P,"".concat(F))+R.height)):P},{top:w.top||0,bottom:w.bottom||0}),N=ce(ce({},A),_),C=N.bottom;S&&(N.bottom+=S.props.height||Ml.defaultProps.height),E&&r&&(N=Qte(N,i,n,r));var T=d-N.left-N.right,I=g-N.top-N.bottom;return ce(ce({brushBottom:C},N),{},{width:Math.max(T,0),height:Math.max(I,0)})},Gue=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},que=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,u=o===void 0?["axis"]:o,f=t.axisComponents,d=t.legendContent,g=t.formatAxisMap,v=t.defaultProps,w=function(N,C){var T=C.graphicalItems,I=C.stackGroups,P=C.offset,k=C.updateId,R=C.dataStartIndex,F=C.dataEndIndex,L=N.barSize,K=N.layout,V=N.barGap,U=N.barCategoryGap,J=N.maxBarSize,Q=yC(K),H=Q.numericAxisName,ee=Q.cateAxisName,Z=Wue(T),Y=[];return T.forEach(function(ae,ne){var de=t1(N.data,{graphicalItems:[ae],dataStartIndex:R,dataEndIndex:F}),le=ae.type.defaultProps!==void 0?ce(ce({},ae.type.defaultProps),ae.props):ae.props,Se=le.dataKey,Te=le.maxBarSize,qe=le["".concat(H,"Id")],we=le["".concat(ee,"Id")],Ot={},rt=f.reduce(function(Oe,Pr){var $e=C["".concat(Pr.axisType,"Map")],Me=le["".concat(Pr.axisType,"Id")];$e&&$e[Me]||Pr.axisType==="zAxis"||eo();var fe=$e[Me];return ce(ce({},Oe),{},He(He({},Pr.axisType,fe),"".concat(Pr.axisType,"Ticks"),ts(fe)))},Ot),be=rt[ee],Ce=rt["".concat(ee,"Ticks")],pe=I&&I[qe]&&I[qe].hasStack&&dre(ae,I[qe].stackGroups),ue=is(ae.type).indexOf("Bar")>=0,Ae=f0(be,Ce),Re=[],st=Z&&Yte({barSize:L,stackGroups:I,totalSize:Gue(rt,ee)});if(ue){var ft,Qe,Je=ot(Te)?J:Te,Ke=(ft=(Qe=f0(be,Ce,!0))!==null&&Qe!==void 0?Qe:Je)!==null&&ft!==void 0?ft:0;Re=Zte({barGap:V,barCategoryGap:U,bandSize:Ke!==Ae?Ke:Ae,sizeList:st[we],maxBarSize:Je}),Ke!==Ae&&(Re=Re.map(function(Oe){return ce(ce({},Oe),{},{position:ce(ce({},Oe.position),{},{offset:Oe.position.offset-Ke/2})})}))}var zr=ae&&ae.type&&ae.type.getComposedData;zr&&Y.push({props:ce(ce({},zr(ce(ce({},rt),{},{displayedData:de,props:N,dataKey:Se,item:ae,bandSize:Ae,barPosition:Re,offset:P,stackedData:pe,layout:K,dataStartIndex:R,dataEndIndex:F}))),{},He(He(He({key:ae.key||"item-".concat(ne)},H,rt[H]),ee,rt[ee]),"animationId",k)),childIndex:KF(ae,N.children),item:ae})}),Y},S=function(N,C){var T=N.props,I=N.dataStartIndex,P=N.dataEndIndex,k=N.updateId;if(!HS({props:T}))return null;var R=T.children,F=T.layout,L=T.stackOffset,K=T.data,V=T.reverseStackOrder,U=yC(F),J=U.numericAxisName,Q=U.cateAxisName,H=Qn(R,n),ee=cre(K,H,"".concat(J,"Id"),"".concat(Q,"Id"),L,V),Z=f.reduce(function(le,Se){var Te="".concat(Se.axisType,"Map");return ce(ce({},le),{},He({},Te,zue(T,ce(ce({},Se),{},{graphicalItems:H,stackGroups:Se.axisType===J&&ee,dataStartIndex:I,dataEndIndex:P}))))},{}),Y=Vue(ce(ce({},Z),{},{props:T,graphicalItems:H}),C==null?void 0:C.legendBBox);Object.keys(Z).forEach(function(le){Z[le]=g(T,Z[le],Y,le.replace("Map",""),r)});var ae=Z["".concat(Q,"Map")],ne=Hue(ae),de=w(T,ce(ce({},Z),{},{dataStartIndex:I,dataEndIndex:P,updateId:k,graphicalItems:H,stackGroups:ee,offset:Y}));return ce(ce({formattedGraphicalItems:de,graphicalItems:H,offset:Y,stackGroups:ee},ne),Z)},E=function(A){function N(C){var T,I,P;return _ue(this,N),P=Tue(this,N,[C]),He(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(P,"accessibilityManager",new fue),He(P,"handleLegendBBoxUpdate",function(k){if(k){var R=P.state,F=R.dataStartIndex,L=R.dataEndIndex,K=R.updateId;P.setState(ce({legendBBox:k},S({props:P.props,dataStartIndex:F,dataEndIndex:L,updateId:K},ce(ce({},P.state),{},{legendBBox:k}))))}}),He(P,"handleReceiveSyncEvent",function(k,R,F){if(P.props.syncId===k){if(F===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(R)}}),He(P,"handleBrushChange",function(k){var R=k.startIndex,F=k.endIndex;if(R!==P.state.dataStartIndex||F!==P.state.dataEndIndex){var L=P.state.updateId;P.setState(function(){return ce({dataStartIndex:R,dataEndIndex:F},S({props:P.props,dataStartIndex:R,dataEndIndex:F,updateId:L},P.state))}),P.triggerSyncEvent({dataStartIndex:R,dataEndIndex:F})}}),He(P,"handleMouseEnter",function(k){var R=P.getMouseInfo(k);if(R){var F=ce(ce({},R),{},{isTooltipActive:!0});P.setState(F),P.triggerSyncEvent(F);var L=P.props.onMouseEnter;it(L)&&L(F,k)}}),He(P,"triggeredAfterMouseMove",function(k){var R=P.getMouseInfo(k),F=R?ce(ce({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(F),P.triggerSyncEvent(F);var L=P.props.onMouseMove;it(L)&&L(F,k)}),He(P,"handleItemMouseEnter",function(k){P.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),He(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),He(P,"handleMouseMove",function(k){k.persist(),P.throttleTriggeredAfterMouseMove(k)}),He(P,"handleMouseLeave",function(k){P.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};P.setState(R),P.triggerSyncEvent(R);var F=P.props.onMouseLeave;it(F)&&F(R,k)}),He(P,"handleOuterEvent",function(k){var R=qF(k),F=Zn(P.props,"".concat(R));if(R&&it(F)){var L,K;/.*touch.*/i.test(R)?K=P.getMouseInfo(k.changedTouches[0]):K=P.getMouseInfo(k),F((L=K)!==null&&L!==void 0?L:{},k)}}),He(P,"handleClick",function(k){var R=P.getMouseInfo(k);if(R){var F=ce(ce({},R),{},{isTooltipActive:!0});P.setState(F),P.triggerSyncEvent(F);var L=P.props.onClick;it(L)&&L(F,k)}}),He(P,"handleMouseDown",function(k){var R=P.props.onMouseDown;if(it(R)){var F=P.getMouseInfo(k);R(F,k)}}),He(P,"handleMouseUp",function(k){var R=P.props.onMouseUp;if(it(R)){var F=P.getMouseInfo(k);R(F,k)}}),He(P,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),He(P,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseDown(k.changedTouches[0])}),He(P,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseUp(k.changedTouches[0])}),He(P,"handleDoubleClick",function(k){var R=P.props.onDoubleClick;if(it(R)){var F=P.getMouseInfo(k);R(F,k)}}),He(P,"handleContextMenu",function(k){var R=P.props.onContextMenu;if(it(R)){var F=P.getMouseInfo(k);R(F,k)}}),He(P,"triggerSyncEvent",function(k){P.props.syncId!==void 0&&jg.emit(Rg,P.props.syncId,k,P.eventEmitterSymbol)}),He(P,"applySyncEvent",function(k){var R=P.props,F=R.layout,L=R.syncMethod,K=P.state.updateId,V=k.dataStartIndex,U=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)P.setState(ce({dataStartIndex:V,dataEndIndex:U},S({props:P.props,dataStartIndex:V,dataEndIndex:U,updateId:K},P.state)));else if(k.activeTooltipIndex!==void 0){var J=k.chartX,Q=k.chartY,H=k.activeTooltipIndex,ee=P.state,Z=ee.offset,Y=ee.tooltipTicks;if(!Z)return;if(typeof L=="function")H=L(Y,k);else if(L==="value"){H=-1;for(var ae=0;ae<Y.length;ae++)if(Y[ae].value===k.activeLabel){H=ae;break}}var ne=ce(ce({},Z),{},{x:Z.left,y:Z.top}),de=Math.min(J,ne.x+ne.width),le=Math.min(Q,ne.y+ne.height),Se=Y[H]&&Y[H].value,Te=wv(P.state,P.props.data,H),qe=Y[H]?{x:F==="horizontal"?Y[H].coordinate:de,y:F==="horizontal"?le:Y[H].coordinate}:B4;P.setState(ce(ce({},k),{},{activeLabel:Se,activeCoordinate:qe,activePayload:Te,activeTooltipIndex:H}))}else P.setState(k)}),He(P,"renderCursor",function(k){var R,F=P.state,L=F.isTooltipActive,K=F.activeCoordinate,V=F.activePayload,U=F.offset,J=F.activeTooltipIndex,Q=F.tooltipAxisBandSize,H=P.getTooltipEventType(),ee=(R=k.props.active)!==null&&R!==void 0?R:L,Z=P.props.layout,Y=k.key||"_recharts-cursor";return X.createElement(vue,{key:Y,activeCoordinate:K,activePayload:V,activeTooltipIndex:J,chartName:r,element:k,isActive:ee,layout:Z,offset:U,tooltipAxisBandSize:Q,tooltipEventType:H})}),He(P,"renderPolarAxis",function(k,R,F){var L=Zn(k,"type.axisType"),K=Zn(P.state,"".concat(L,"Map")),V=k.type.defaultProps,U=V!==void 0?ce(ce({},V),k.props):k.props,J=K&&K[U["".concat(L,"Id")]];return B.cloneElement(k,ce(ce({},J),{},{className:yt(L,J.className),key:k.key||"".concat(R,"-").concat(F),ticks:ts(J,!0)}))}),He(P,"renderPolarGrid",function(k){var R=k.props,F=R.radialLines,L=R.polarAngles,K=R.polarRadius,V=P.state,U=V.radiusAxisMap,J=V.angleAxisMap,Q=Ms(U),H=Ms(J),ee=H.cx,Z=H.cy,Y=H.innerRadius,ae=H.outerRadius;return B.cloneElement(k,{polarAngles:Array.isArray(L)?L:ts(H,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(K)?K:ts(Q,!0).map(function(ne){return ne.coordinate}),cx:ee,cy:Z,innerRadius:Y,outerRadius:ae,key:k.key||"polar-grid",radialLines:F})}),He(P,"renderLegend",function(){var k=P.state.formattedGraphicalItems,R=P.props,F=R.children,L=R.width,K=R.height,V=P.props.margin||{},U=L-(V.left||0)-(V.right||0),J=TP({children:F,formattedGraphicalItems:k,legendWidth:U,legendContent:d});if(!J)return null;var Q=J.item,H=hC(J,xue);return B.cloneElement(Q,ce(ce({},H),{},{chartWidth:L,chartHeight:K,margin:V,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),He(P,"renderTooltip",function(){var k,R=P.props,F=R.children,L=R.accessibilityLayer,K=Tn(F,Ri);if(!K)return null;var V=P.state,U=V.isTooltipActive,J=V.activeCoordinate,Q=V.activePayload,H=V.activeLabel,ee=V.offset,Z=(k=K.props.active)!==null&&k!==void 0?k:U;return B.cloneElement(K,{viewBox:ce(ce({},ee),{},{x:ee.left,y:ee.top}),active:Z,label:H,payload:Z?Q:[],coordinate:J,accessibilityLayer:L})}),He(P,"renderBrush",function(k){var R=P.props,F=R.margin,L=R.data,K=P.state,V=K.offset,U=K.dataStartIndex,J=K.dataEndIndex,Q=K.updateId;return B.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Md(P.handleBrushChange,k.props.onChange),data:L,x:Ee(k.props.x)?k.props.x:V.left,y:Ee(k.props.y)?k.props.y:V.top+V.height+V.brushBottom-(F.bottom||0),width:Ee(k.props.width)?k.props.width:V.width,startIndex:U,endIndex:J,updateId:"brush-".concat(Q)})}),He(P,"renderReferenceElement",function(k,R,F){if(!k)return null;var L=P,K=L.clipPathId,V=P.state,U=V.xAxisMap,J=V.yAxisMap,Q=V.offset,H=k.type.defaultProps||{},ee=k.props,Z=ee.xAxisId,Y=Z===void 0?H.xAxisId:Z,ae=ee.yAxisId,ne=ae===void 0?H.yAxisId:ae;return B.cloneElement(k,{key:k.key||"".concat(R,"-").concat(F),xAxis:U[Y],yAxis:J[ne],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:K})}),He(P,"renderActivePoints",function(k){var R=k.item,F=k.activePoint,L=k.basePoint,K=k.childIndex,V=k.isRange,U=[],J=R.props.key,Q=R.item.type.defaultProps!==void 0?ce(ce({},R.item.type.defaultProps),R.item.props):R.item.props,H=Q.activeDot,ee=Q.dataKey,Z=ce(ce({index:K,dataKey:ee,cx:F.x,cy:F.y,r:4,fill:Pw(R.item),strokeWidth:2,stroke:"#fff",payload:F.payload,value:F.value},ht(H,!1)),Mh(H));return U.push(N.renderActiveDot(H,Z,"".concat(J,"-activePoint-").concat(K))),L?U.push(N.renderActiveDot(H,ce(ce({},Z),{},{cx:L.x,cy:L.y}),"".concat(J,"-basePoint-").concat(K))):V&&U.push(null),U}),He(P,"renderGraphicChild",function(k,R,F){var L=P.filterFormatItem(k,R,F);if(!L)return null;var K=P.getTooltipEventType(),V=P.state,U=V.isTooltipActive,J=V.tooltipAxis,Q=V.activeTooltipIndex,H=V.activeLabel,ee=P.props.children,Z=Tn(ee,Ri),Y=L.props,ae=Y.points,ne=Y.isRange,de=Y.baseLine,le=L.item.type.defaultProps!==void 0?ce(ce({},L.item.type.defaultProps),L.item.props):L.item.props,Se=le.activeDot,Te=le.hide,qe=le.activeBar,we=le.activeShape,Ot=!!(!Te&&U&&Z&&(Se||qe||we)),rt={};K!=="axis"&&Z&&Z.props.trigger==="click"?rt={onClick:Md(P.handleItemMouseEnter,k.props.onClick)}:K!=="axis"&&(rt={onMouseLeave:Md(P.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Md(P.handleItemMouseEnter,k.props.onMouseEnter)});var be=B.cloneElement(k,ce(ce({},L.props),rt));function Ce(Pr){return typeof J.dataKey=="function"?J.dataKey(Pr.payload):null}if(Ot)if(Q>=0){var pe,ue;if(J.dataKey&&!J.allowDuplicatedCategory){var Ae=typeof J.dataKey=="function"?Ce:"payload.".concat(J.dataKey.toString());pe=Rh(ae,Ae,H),ue=ne&&de&&Rh(de,Ae,H)}else pe=ae==null?void 0:ae[Q],ue=ne&&de&&de[Q];if(we||qe){var Re=k.props.activeIndex!==void 0?k.props.activeIndex:Q;return[B.cloneElement(k,ce(ce(ce({},L.props),rt),{},{activeIndex:Re})),null,null]}if(!ot(pe))return[be].concat(Gl(P.renderActivePoints({item:L,activePoint:pe,basePoint:ue,childIndex:Q,isRange:ne})))}else{var st,ft=(st=P.getItemByXY(P.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:be},Qe=ft.graphicalItem,Je=Qe.item,Ke=Je===void 0?k:Je,zr=Qe.childIndex,Oe=ce(ce(ce({},L.props),rt),{},{activeIndex:zr});return[B.cloneElement(Ke,Oe),null,null]}return ne?[be,null,null]:[be,null]}),He(P,"renderCustomized",function(k,R,F){return B.cloneElement(k,ce(ce({key:"recharts-customized-".concat(F)},P.props),P.state))}),He(P,"renderMap",{CartesianGrid:{handler:Fd,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Fd},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Fd},YAxis:{handler:Fd},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((T=C.id)!==null&&T!==void 0?T:Lf("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=TI(P.triggeredAfterMouseMove,(I=C.throttleDelay)!==null&&I!==void 0?I:1e3/60),P.state={},P}return Pue(N,A),Oue(N,[{key:"componentDidMount",value:function(){var T,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,I=T.children,P=T.data,k=T.height,R=T.layout,F=Tn(I,Ri);if(F){var L=F.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,V=wv(this.state,P,L,K),U=this.state.tooltipTicks[L].coordinate,J=(this.state.offset.top+k)/2,Q=R==="horizontal",H=Q?{x:U,y:J}:{y:U,x:J},ee=this.state.formattedGraphicalItems.find(function(Y){var ae=Y.item;return ae.type.name==="Scatter"});ee&&(H=ce(ce({},H),ee.props.points[L].tooltipPosition),V=ee.props.points[L].tooltipPayload);var Z={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:K,activePayload:V,activeCoordinate:H};this.setState(Z),this.renderCursor(F),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var P,k;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(T){Qm([Tn(T.children,Ri)],[Tn(this.props.children,Ri)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Tn(this.props.children,Ri);if(T&&typeof T.props.shared=="boolean"){var I=T.props.shared?"axis":"item";return u.indexOf(I)>=0?I:s}return s}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var I=this.container,P=I.getBoundingClientRect(),k=bZ(P),R={chartX:Math.round(T.pageX-k.left),chartY:Math.round(T.pageY-k.top)},F=P.width/I.offsetWidth||1,L=this.inRange(R.chartX,R.chartY,F);if(!L)return null;var K=this.state,V=K.xAxisMap,U=K.yAxisMap,J=this.getTooltipEventType(),Q=gC(this.state,this.props.data,this.props.layout,L);if(J!=="axis"&&V&&U){var H=Ms(V).scale,ee=Ms(U).scale,Z=H&&H.invert?H.invert(R.chartX):null,Y=ee&&ee.invert?ee.invert(R.chartY):null;return ce(ce({},R),{},{xValue:Z,yValue:Y},Q)}return Q?ce(ce({},R),Q):null}},{key:"inRange",value:function(T,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,R=T/P,F=I/P;if(k==="horizontal"||k==="vertical"){var L=this.state.offset,K=R>=L.left&&R<=L.left+L.width&&F>=L.top&&F<=L.top+L.height;return K?{x:R,y:F}:null}var V=this.state,U=V.angleAxisMap,J=V.radiusAxisMap;if(U&&J){var Q=Ms(U);return JA({x:R,y:F},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,I=this.getTooltipEventType(),P=Tn(T,Ri),k={};P&&I==="axis"&&(P.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=Mh(this.props,this.handleOuterEvent);return ce(ce({},R),k)}},{key:"addListener",value:function(){jg.on(Rg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jg.removeListener(Rg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,I,P){for(var k=this.state.formattedGraphicalItems,R=0,F=k.length;R<F;R++){var L=k[R];if(L.item===T||L.props.key===T.key||I===is(L.item.type)&&P===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,I=this.state.offset,P=I.left,k=I.top,R=I.height,F=I.width;return X.createElement("defs",null,X.createElement("clipPath",{id:T},X.createElement("rect",{x:P,y:k,height:R,width:F})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(I,P){var k=dC(P,2),R=k[0],F=k[1];return ce(ce({},I),{},He({},R,F.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(I,P){var k=dC(P,2),R=k[0],F=k[1];return ce(ce({},I),{},He({},R,F.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[T])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(T){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[T])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(T){var I=this.state,P=I.formattedGraphicalItems,k=I.activeItem;if(P&&P.length)for(var R=0,F=P.length;R<F;R++){var L=P[R],K=L.props,V=L.item,U=V.type.defaultProps!==void 0?ce(ce({},V.type.defaultProps),V.props):V.props,J=is(V.type);if(J==="Bar"){var Q=(K.data||[]).find(function(Y){return ose(T,Y)});if(Q)return{graphicalItem:L,payload:Q}}else if(J==="RadialBar"){var H=(K.data||[]).find(function(Y){return JA(T,Y)});if(H)return{graphicalItem:L,payload:H}}else if(Gp(L,k)||qp(L,k)||yf(L,k)){var ee=uae({graphicalItem:L,activeTooltipItem:k,itemData:U.data}),Z=U.activeIndex===void 0?ee:U.activeIndex;return{graphicalItem:ce(ce({},L),{},{childIndex:Z}),payload:yf(L,k)?U.data[ee]:L.props.data[ee]}}}return null}},{key:"render",value:function(){var T=this;if(!HS(this))return null;var I=this.props,P=I.children,k=I.className,R=I.width,F=I.height,L=I.style,K=I.compact,V=I.title,U=I.desc,J=hC(I,wue),Q=ht(J,!1);if(K)return X.createElement(K_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(ey,Zo({},Q,{width:R,height:F,title:V,desc:U}),this.renderClipPath(),VS(P,this.renderMap)));if(this.props.accessibilityLayer){var H,ee;Q.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,Q.role=(ee=this.props.role)!==null&&ee!==void 0?ee:"application",Q.onKeyDown=function(Y){T.accessibilityManager.keyboardEvent(Y)},Q.onFocus=function(){T.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return X.createElement(K_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",Zo({className:yt("recharts-wrapper",k),style:ce({position:"relative",cursor:"default",width:R,height:F},L)},Z,{ref:function(ae){T.container=ae}}),X.createElement(ey,Zo({},Q,{width:R,height:F,title:V,desc:U,style:Lue}),this.renderClipPath(),VS(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);He(E,"displayName",r),He(E,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},v)),He(E,"getDerivedStateFromProps",function(A,N){var C=A.dataKey,T=A.data,I=A.children,P=A.width,k=A.height,R=A.layout,F=A.stackOffset,L=A.margin,K=N.dataStartIndex,V=N.dataEndIndex;if(N.updateId===void 0){var U=mC(A);return ce(ce(ce({},U),{},{updateId:0},S(ce(ce({props:A},U),{},{updateId:0}),N)),{},{prevDataKey:C,prevData:T,prevWidth:P,prevHeight:k,prevLayout:R,prevStackOffset:F,prevMargin:L,prevChildren:I})}if(C!==N.prevDataKey||T!==N.prevData||P!==N.prevWidth||k!==N.prevHeight||R!==N.prevLayout||F!==N.prevStackOffset||!cl(L,N.prevMargin)){var J=mC(A),Q={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},H=ce(ce({},gC(N,T,R)),{},{updateId:N.updateId+1}),ee=ce(ce(ce({},J),Q),H);return ce(ce(ce({},ee),S(ce({props:A},ee),N)),{},{prevDataKey:C,prevData:T,prevWidth:P,prevHeight:k,prevLayout:R,prevStackOffset:F,prevMargin:L,prevChildren:I})}if(!Qm(I,N.prevChildren)){var Z,Y,ae,ne,de=Tn(I,Ml),le=de&&(Z=(Y=de.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&Z!==void 0?Z:K,Se=de&&(ae=(ne=de.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&ae!==void 0?ae:V,Te=le!==K||Se!==V,qe=!ot(T),we=qe&&!Te?N.updateId:N.updateId+1;return ce(ce({updateId:we},S(ce(ce({props:A},N),{},{updateId:we,dataStartIndex:le,dataEndIndex:Se}),N)),{},{prevChildren:I,dataStartIndex:le,dataEndIndex:Se})}return null}),He(E,"renderActiveDot",function(A,N,C){var T;return B.isValidElement(A)?T=B.cloneElement(A,N):it(A)?T=A(N):T=X.createElement(jw,N),X.createElement(cr,{className:"recharts-active-dot",key:C},T)});var _=B.forwardRef(function(N,C){return X.createElement(E,Zo({},N,{ref:C}))});return _.displayName=E.displayName,_},Kue=que({chartName:"LineChart",GraphicalChild:zl,axisComponents:[{axisType:"xAxis",AxisComp:Jp},{axisType:"yAxis",AxisComp:e1}],formatAxisMap:Moe});function Xue(){var g,v,w,S,E,_,A,N;const[e,t]=B.useState(null),[r,n]=B.useState(null),[i,s]=B.useState("30"),[o,u]=B.useState(!0);B.useEffect(()=>{f()},[i]);const f=async()=>{u(!0);try{const[C,T]=await Promise.all([LT.getUserAnalytics({period:i}),bD.getStats()]);t(C.data),n(T.data)}catch(C){console.error("Failed to load analytics:",C)}finally{u(!1)}},d=C=>{if(!C)return"0s";const T=Math.floor(C/60),I=Math.round(C%60);return T>0?`${T}m ${I}s`:`${I}s`};return o?m.jsxs("div",{className:"loading-container",children:[m.jsx("div",{className:"spinner"}),m.jsx("p",{children:"Loading analytics..."})]}):m.jsxs("div",{className:"analytics",children:[m.jsxs("div",{className:"analytics-header",children:[m.jsxs("div",{children:[m.jsx("h1",{children:"Analytics"}),m.jsx("p",{className:"subtitle",children:"Track your interview performance"})]}),m.jsxs("select",{className:"input period-selector",value:i,onChange:C=>s(C.target.value),children:[m.jsx("option",{value:"7",children:"Last 7 days"}),m.jsx("option",{value:"30",children:"Last 30 days"}),m.jsx("option",{value:"90",children:"Last 90 days"})]})]}),m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#dbeafe"},children:m.jsx(Ru,{size:24,color:"#3b82f6"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:((g=e==null?void 0:e.sessionStats)==null?void 0:g.total_sessions)||0}),m.jsx("div",{className:"stat-label",children:"Total Sessions"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#d1fae5"},children:m.jsx(WD,{size:24,color:"#10b981"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:((v=e==null?void 0:e.sessionStats)==null?void 0:v.total_questions)||0}),m.jsx("div",{className:"stat-label",children:"Questions Answered"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#fce7f3"},children:m.jsx(HT,{size:24,color:"#ec4899"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:d((w=e==null?void 0:e.sessionStats)==null?void 0:w.avg_duration)}),m.jsx("div",{className:"stat-label",children:"Avg Session Duration"})]})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",style:{background:"#e0e7ff"},children:m.jsx(ND,{size:24,color:"#6366f1"})}),m.jsxs("div",{className:"stat-content",children:[m.jsx("div",{className:"stat-value",children:((S=r==null?void 0:r.stats)==null?void 0:S.total_hits)||0}),m.jsx("div",{className:"stat-label",children:"Cache Hits"})]})]})]}),(e==null?void 0:e.trends)&&e.trends.length>0&&m.jsxs("div",{className:"card",children:[m.jsx("h2",{className:"card-title",children:"Activity Trend"}),m.jsx(pZ,{width:"100%",height:300,children:m.jsxs(Kue,{data:e.trends,children:[m.jsx(E4,{strokeDasharray:"3 3"}),m.jsx(Jp,{dataKey:"date",tickFormatter:C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),m.jsx(e1,{}),m.jsx(Ri,{labelFormatter:C=>new Date(C).toLocaleDateString()}),m.jsx($a,{}),m.jsx(zl,{type:"monotone",dataKey:"sessions",stroke:"#3b82f6",name:"Sessions"}),m.jsx(zl,{type:"monotone",dataKey:"questions",stroke:"#10b981",name:"Questions"})]})})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{className:"card-title",children:"Cache Performance"}),m.jsxs("div",{className:"cache-stats",children:[m.jsxs("div",{className:"cache-stat",children:[m.jsx("div",{className:"cache-stat-label",children:"Total Entries"}),m.jsx("div",{className:"cache-stat-value",children:((E=r==null?void 0:r.stats)==null?void 0:E.total_entries)||0})]}),m.jsxs("div",{className:"cache-stat",children:[m.jsx("div",{className:"cache-stat-label",children:"Active Entries"}),m.jsx("div",{className:"cache-stat-value",children:((_=r==null?void 0:r.stats)==null?void 0:_.active_entries)||0})]}),m.jsxs("div",{className:"cache-stat",children:[m.jsx("div",{className:"cache-stat-label",children:"Total Hits"}),m.jsx("div",{className:"cache-stat-value",children:((A=r==null?void 0:r.stats)==null?void 0:A.total_hits)||0})]}),m.jsxs("div",{className:"cache-stat",children:[m.jsx("div",{className:"cache-stat-label",children:"Avg Quality"}),m.jsx("div",{className:"cache-stat-value",children:(N=r==null?void 0:r.stats)!=null&&N.avg_quality?Number(r.stats.avg_quality).toFixed(2):"0.00"})]})]}),(r==null?void 0:r.topQuestions)&&r.topQuestions.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"subsection-title",children:"Most Frequent Questions"}),m.jsx("div",{className:"top-questions",children:r.topQuestions.slice(0,5).map((C,T)=>m.jsxs("div",{className:"top-question-item",children:[m.jsx("div",{className:"top-question-text",children:C.question_text}),m.jsxs("div",{className:"top-question-stats",children:[m.jsxs("span",{className:"badge badge-gray",children:[C.hit_count," hits"]}),m.jsx("span",{className:"badge badge-info",children:C.category})]})]},T))})]})]}),(e==null?void 0:e.responseStats)&&m.jsxs("div",{className:"card",children:[m.jsx("h2",{className:"card-title",children:"Response Time Statistics"}),m.jsxs("div",{className:"response-stats",children:[m.jsxs("div",{className:"response-stat",children:[m.jsx("div",{className:"response-stat-label",children:"Average"}),m.jsxs("div",{className:"response-stat-value",children:[Math.round(e.responseStats.avg_response_time||0),"ms"]})]}),m.jsxs("div",{className:"response-stat",children:[m.jsx("div",{className:"response-stat-label",children:"Minimum"}),m.jsxs("div",{className:"response-stat-value",children:[Math.round(e.responseStats.min_response_time||0),"ms"]})]}),m.jsxs("div",{className:"response-stat",children:[m.jsx("div",{className:"response-stat-label",children:"Maximum"}),m.jsxs("div",{className:"response-stat-value",children:[Math.round(e.responseStats.max_response_time||0),"ms"]})]}),m.jsxs("div",{className:"response-stat",children:[m.jsx("div",{className:"response-stat-label",children:"95th Percentile"}),m.jsxs("div",{className:"response-stat-value",children:[Math.round(e.responseStats.p95_response_time||0),"ms"]})]})]})]})]})}function Yue(){const[e,t]=B.useState(null),[r,n]=B.useState([]),[i,s]=B.useState(!0),[o,u]=B.useState(!1),[f,d]=B.useState({}),g=B.useRef(null),v=B.useRef(null);B.useEffect(()=>{w()},[]);const w=async()=>{try{const[A,N]=await Promise.all([xd.getSettings(),xd.getThemes()]);t(A.data.settings),n(N.data.themes)}catch(A){console.error("Failed to load settings:",A)}finally{s(!1)}},S=async()=>{u(!0);try{await xd.updateSettings(e),alert("Settings saved successfully!")}catch(A){console.error("Failed to save settings:",A),alert("Failed to save settings. Please try again.")}finally{u(!1)}},E=async A=>{if(confirm(`Are you sure you want to clear history${A?` older than ${A} days`:""}?`))try{await xd.clearHistory({days:A}),alert("History cleared successfully!")}catch(N){console.error("Failed to clear history:",N),alert("Failed to clear history. Please try again.")}},_=async(A,N)=>{if(!A)return;const C=[".pdf",".doc",".docx"],T="."+A.name.split(".").pop().toLowerCase();if(!C.includes(T)){alert("Invalid file format. Please upload PDF, DOC, or DOCX files only.");return}const I=5*1024*1024;if(A.size>I){alert("File size too large. Maximum size is 5MB.");return}const P=new FormData;P.append("file",A);try{d(K=>({...K,[N]:"uploading"}));const k=localStorage.getItem("auth-storage"),R=k?JSON.parse(k).state.token:"",F=await fetch(`/api/documents/upload/${N}`,{method:"POST",body:P,headers:{Authorization:`Bearer ${R}`}}),L=await F.json();if(!F.ok)throw new Error(L.error||"Upload failed");d(K=>({...K,[N]:"success"})),alert(L.message||`${N==="cv"?"CV":"Job Description"} uploaded successfully!`),setTimeout(()=>{d(K=>({...K,[N]:null}))},3e3)}catch(k){d(R=>({...R,[N]:"error"})),alert(k.message||"Upload failed. Please try again."),console.error("Upload error:",k),setTimeout(()=>{d(R=>({...R,[N]:null}))},3e3)}};return i?m.jsxs("div",{className:"loading-container",children:[m.jsx("div",{className:"spinner"}),m.jsx("p",{children:"Loading settings..."})]}):m.jsxs("div",{className:"settings",children:[m.jsxs("div",{className:"settings-header",children:[m.jsx("h1",{children:"Settings"}),m.jsx("p",{className:"subtitle",children:"Manage your privacy and preferences"})]}),m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"card-header",children:[m.jsx(jx,{size:24}),m.jsx("h2",{children:"Privacy & Security"})]}),m.jsxs("div",{className:"settings-section",children:[m.jsxs("div",{className:"setting-item",children:[m.jsxs("div",{className:"setting-info",children:[m.jsxs("label",{className:"setting-label",children:[e!=null&&e.disguise_mode?m.jsx(jn,{size:20}):m.jsx(Yn,{size:20}),"Disguise Mode"]}),m.jsx("p",{className:"setting-description",children:"Hide interview assistant interface behind a productivity theme"})]}),m.jsxs("label",{className:"toggle",children:[m.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.disguise_mode)||!1,onChange:A=>t({...e,disguise_mode:A.target.checked})}),m.jsx("span",{className:"toggle-slider"})]})]}),(e==null?void 0:e.disguise_mode)&&m.jsxs("div",{className:"setting-item",children:[m.jsxs("div",{className:"setting-info",children:[m.jsx("label",{className:"setting-label",children:"Disguise Theme"}),m.jsx("p",{className:"setting-description",children:"Choose what the app should look like"})]}),m.jsx("select",{className:"input",value:(e==null?void 0:e.disguise_theme)||"productivity",onChange:A=>t({...e,disguise_theme:A.target.value}),children:r.map(A=>m.jsx("option",{value:A.id,children:A.name},A.id))})]}),m.jsxs("div",{className:"setting-item",children:[m.jsxs("div",{className:"setting-info",children:[m.jsx("label",{className:"setting-label",children:"Quick Hide"}),m.jsx("p",{className:"setting-description",children:"Enable quick hide with keyboard shortcut"})]}),m.jsxs("label",{className:"toggle",children:[m.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.quick_hide_enabled)||!1,onChange:A=>t({...e,quick_hide_enabled:A.target.checked})}),m.jsx("span",{className:"toggle-slider"})]})]}),(e==null?void 0:e.quick_hide_enabled)&&m.jsxs("div",{className:"setting-item",children:[m.jsxs("div",{className:"setting-info",children:[m.jsx("label",{className:"setting-label",children:"Quick Hide Key"}),m.jsx("p",{className:"setting-description",children:"Keyboard shortcut to hide the app"})]}),m.jsxs("select",{className:"input",value:(e==null?void 0:e.quick_hide_key)||"Escape",onChange:A=>t({...e,quick_hide_key:A.target.value}),children:[m.jsx("option",{value:"Escape",children:"Escape"}),m.jsx("option",{value:"F1",children:"F1"}),m.jsx("option",{value:"F2",children:"F2"}),m.jsx("option",{value:"Ctrl+H",children:"Ctrl+H"})]})]}),m.jsxs("div",{className:"setting-item",children:[m.jsxs("div",{className:"setting-info",children:[m.jsxs("label",{className:"setting-label",children:[m.jsx(El,{size:20}),"Data Encryption"]}),m.jsx("p",{className:"setting-description",children:"Encrypt sensitive data stored locally"})]}),m.jsxs("label",{className:"toggle",children:[m.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.encryption_enabled)||!1,onChange:A=>t({...e,encryption_enabled:A.target.checked})}),m.jsx("span",{className:"toggle-slider"})]})]})]}),m.jsx("div",{className:"settings-actions",children:m.jsx("button",{className:"btn btn-primary",onClick:S,disabled:o,children:o?"Saving...":"Save Settings"})})]}),m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"card-header",children:[m.jsx(zD,{size:24}),m.jsx("h2",{children:"Data Management"})]}),m.jsxs("div",{className:"settings-section",children:[m.jsxs("div",{className:"setting-item",children:[m.jsxs("div",{className:"setting-info",children:[m.jsxs("label",{className:"setting-label",children:[m.jsx(FT,{size:20}),"Auto-Clear History"]}),m.jsx("p",{className:"setting-description",children:"Automatically delete old session data"})]}),m.jsxs("label",{className:"toggle",children:[m.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.auto_clear_history)||!1,onChange:A=>t({...e,auto_clear_history:A.target.checked})}),m.jsx("span",{className:"toggle-slider"})]})]}),(e==null?void 0:e.auto_clear_history)&&m.jsxs("div",{className:"setting-item",children:[m.jsxs("div",{className:"setting-info",children:[m.jsx("label",{className:"setting-label",children:"Auto-Clear After"}),m.jsx("p",{className:"setting-description",children:"Delete data older than"})]}),m.jsxs("select",{className:"input",value:(e==null?void 0:e.auto_clear_days)||30,onChange:A=>t({...e,auto_clear_days:parseInt(A.target.value)}),children:[m.jsx("option",{value:"7",children:"7 days"}),m.jsx("option",{value:"30",children:"30 days"}),m.jsx("option",{value:"60",children:"60 days"}),m.jsx("option",{value:"90",children:"90 days"})]})]}),m.jsxs("div",{className:"danger-zone",children:[m.jsx("h3",{children:"Danger Zone"}),m.jsx("p",{children:"Permanently delete your data. This action cannot be undone."}),m.jsxs("div",{className:"danger-actions",children:[m.jsx("button",{className:"btn btn-secondary",onClick:()=>E(30),children:"Clear History (30+ days)"}),m.jsx("button",{className:"btn btn-danger",onClick:()=>E(null),children:"Clear All History"})]})]})]})]}),m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"card-header",children:[m.jsx(HD,{size:24}),m.jsx("h2",{children:"Personalization Documents"})]}),m.jsxs("div",{className:"settings-section",children:[m.jsx("p",{className:"section-description",children:"Upload your CV and job description to get personalized interview answers tailored to your background and the specific role."}),m.jsxs("div",{className:"document-upload-box",children:[m.jsx("div",{className:"upload-icon",children:m.jsx(Px,{size:32})}),m.jsxs("div",{className:"upload-content",children:[m.jsx("h3",{children:"Your CV/Resume"}),m.jsx("p",{className:"upload-text",children:"Upload your resume for personalized answer suggestions"}),m.jsxs("p",{className:"upload-format",children:["Accepted formats: ",m.jsx("strong",{children:"PDF, DOC, DOCX"})," (max 5MB)"]}),m.jsx("input",{type:"file",ref:g,onChange:A=>{var N;return _((N=A.target.files)==null?void 0:N[0],"cv")},accept:".pdf,.doc,.docx",style:{display:"none"}}),m.jsxs("button",{className:`btn btn-secondary ${f.cv==="uploading"?"loading":""}`,onClick:()=>{var A;return(A=g.current)==null?void 0:A.click()},disabled:f.cv==="uploading",children:[f.cv==="uploading"&&"Uploading...",f.cv==="success"&&"✓ Uploaded",f.cv==="error"&&"✗ Failed - Try Again",!f.cv&&"Choose File"]})]})]}),m.jsxs("div",{className:"document-upload-box",children:[m.jsx("div",{className:"upload-icon",children:m.jsx(Ix,{size:32})}),m.jsxs("div",{className:"upload-content",children:[m.jsx("h3",{children:"Job Description"}),m.jsx("p",{className:"upload-text",children:"Upload the job posting to tailor answers to the specific requirements"}),m.jsxs("p",{className:"upload-format",children:["Accepted formats: ",m.jsx("strong",{children:"PDF, DOC, DOCX"})," (max 5MB)"]}),m.jsx("input",{type:"file",ref:v,onChange:A=>{var N;return _((N=A.target.files)==null?void 0:N[0],"job_description")},accept:".pdf,.doc,.docx",style:{display:"none"}}),m.jsxs("button",{className:`btn btn-secondary ${f.job_description==="uploading"?"loading":""}`,onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},disabled:f.job_description==="uploading",children:[f.job_description==="uploading"&&"Uploading...",f.job_description==="success"&&"✓ Uploaded",f.job_description==="error"&&"✗ Failed - Try Again",!f.job_description&&"Choose File"]})]})]}),m.jsxs("div",{className:"help-text",children:[m.jsxs("p",{children:["💡 ",m.jsx("strong",{children:"Pro tip:"})," Upload both your CV and job description for the most personalized and relevant interview answers."]}),m.jsxs("p",{children:["📝 ",m.jsx("strong",{children:"Note:"})," Documents are linked to your current session and will be automatically deleted when the session ends to save storage."]})]})]})]})]})}function Zue(){const[e,t]=B.useState(null),[r,n]=B.useState([]),[i,s]=B.useState(!1),{currentSession:o}=ZL();B.useEffect(()=>{u()},[]);const u=async()=>{try{const g=await J1.getSessions();n(g.data.sessions)}catch(g){console.error("Failed to load mobile sessions:",g)}},f=async()=>{s(!0);try{const g=await J1.generateCode({sessionId:o==null?void 0:o.id,deviceType:"mobile"});t(g.data.connectionCode),setTimeout(()=>{t(null)},3e5)}catch(g){console.error("Failed to generate code:",g),alert("Failed to generate connection code. Please try again.")}finally{s(!1)}},d=async g=>{try{await J1.disconnect({sessionId:g}),u(),alert("Mobile device disconnected successfully!")}catch(v){console.error("Failed to disconnect:",v),alert("Failed to disconnect. Please try again.")}};return m.jsxs("div",{className:"mobile-page",children:[m.jsxs("div",{className:"mobile-header",children:[m.jsx("h1",{children:"Mobile Companion"}),m.jsx("p",{className:"subtitle",children:"Control interview assistant from your phone"})]}),m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"card-header",children:[m.jsx(xn,{size:24}),m.jsx("h2",{children:"Connect Mobile Device"})]}),m.jsxs("div",{className:"mobile-content",children:[m.jsxs("div",{className:"mobile-instructions",children:[m.jsx("h3",{children:"How to Connect"}),m.jsxs("ol",{children:[m.jsx("li",{children:"Open the Interview Assistant mobile app on your phone"}),m.jsx("li",{children:'Tap "Connect to Desktop"'}),m.jsx("li",{children:"Enter the 6-digit code shown below"}),m.jsx("li",{children:"Your phone will mirror the desktop interface"})]})]}),m.jsx("div",{className:"connection-section",children:e?m.jsxs("div",{className:"connection-code-display",children:[m.jsx("div",{className:"connection-code",children:e}),m.jsx("p",{className:"code-expiry",children:"Code expires in 5 minutes"}),m.jsxs("button",{className:"btn btn-secondary",onClick:f,children:[m.jsx(Bm,{size:18}),"Generate New Code"]})]}):m.jsxs("button",{className:"btn btn-primary btn-large",onClick:f,disabled:i,children:[m.jsx(kD,{size:20}),i?"Generating...":"Generate Connection Code"]})})]})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{className:"card-title",children:"Active Connections"}),r.length===0?m.jsxs("div",{className:"empty-state",children:[m.jsx(xn,{size:48}),m.jsx("p",{children:"No active mobile connections"})]}):m.jsx("div",{className:"mobile-sessions-list",children:r.map(g=>m.jsxs("div",{className:"mobile-session-item",children:[m.jsxs("div",{className:"mobile-session-info",children:[m.jsx(xn,{size:20}),m.jsxs("div",{children:[m.jsx("div",{className:"mobile-session-device",children:g.device_type||"Mobile Device"}),m.jsxs("div",{className:"mobile-session-time",children:["Connected: ",new Date(g.connected_at).toLocaleString()]})]})]}),m.jsx("button",{className:"btn btn-danger btn-small",onClick:()=>d(g.id),children:"Disconnect"})]},g.id))})]}),m.jsxs("div",{className:"card",children:[m.jsx("h2",{className:"card-title",children:"Mobile Features"}),m.jsxs("div",{className:"features-grid",children:[m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-icon",children:"🎤"}),m.jsx("h3",{children:"Voice Control"}),m.jsx("p",{children:"Ask questions using your phone's microphone"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-icon",children:"👁️"}),m.jsx("h3",{children:"Discrete View"}),m.jsx("p",{children:"View answers on your phone without looking at the screen"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-icon",children:"🔔"}),m.jsx("h3",{children:"Notifications"}),m.jsx("p",{children:"Get instant answer notifications on your phone"})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-icon",children:"🔒"}),m.jsx("h3",{children:"Secure"}),m.jsx("p",{children:"End-to-end encrypted connection"})]})]})]})]})}const Que=[{id:"calculator",name:"Calculator",description:"Looks like a Windows calculator",icon:"Calculator",colors:{background:"#f2f2f2",primary:"#0078d4",text:"#000000",accent:"#e1e1e1"},layout:"calculator",quickHideKey:"Escape"},{id:"notepad",name:"Notepad",description:"Plain text editor appearance",icon:"FileText",colors:{background:"#ffffff",primary:"#000000",text:"#000000",accent:"#cccccc"},layout:"notepad",quickHideKey:"Escape"},{id:"browser",name:"Web Browser",description:"Looks like Chrome/Edge browser",icon:"Globe",colors:{background:"#ffffff",primary:"#1a73e8",text:"#202124",accent:"#f1f3f4"},layout:"browser",quickHideKey:"Escape"},{id:"terminal",name:"Terminal",description:"Command line interface",icon:"Terminal",colors:{background:"#0c0c0c",primary:"#00ff00",text:"#00ff00",accent:"#1a1a1a"},layout:"terminal",quickHideKey:"Escape"},{id:"vscode",name:"Code Editor",description:"VS Code appearance",icon:"Code",colors:{background:"#1e1e1e",primary:"#007acc",text:"#d4d4d4",accent:"#252526"},layout:"ide",quickHideKey:"Escape"},{id:"slack",name:"Slack Clone",description:"Messaging app appearance",icon:"MessageSquare",colors:{background:"#1a1d21",primary:"#1164a3",text:"#d1d2d3",accent:"#350d36"},layout:"chat",quickHideKey:"Escape"},{id:"excel",name:"Spreadsheet",description:"Excel-like interface",icon:"Table",colors:{background:"#ffffff",primary:"#217346",text:"#000000",accent:"#f2f2f2"},layout:"spreadsheet",quickHideKey:"Escape"},{id:"pdf",name:"PDF Reader",description:"PDF viewer appearance",icon:"FileText",colors:{background:"#525659",primary:"#d51007",text:"#ffffff",accent:"#323639"},layout:"pdf",quickHideKey:"Escape"}],vC={panicKeys:[{key:"Escape",modifiers:[],label:"ESC"},{key:"b",modifiers:["Alt"],label:"Alt+B (Boss Key)"},{key:"h",modifiers:["Ctrl","Shift"],label:"Ctrl+Shift+H"},{key:"q",modifiers:["Ctrl","Alt"],label:"Ctrl+Alt+Q"},{key:"F1",modifiers:[],label:"F1"},{key:"Space",modifiers:["Ctrl","Shift"],label:"Ctrl+Shift+Space"}],hideActions:[{id:"minimize",label:"Minimize Window"},{id:"decoy",label:"Show Decoy Screen"},{id:"blank",label:"Blank Screen"},{id:"close",label:"Close App"},{id:"switch-app",label:"Switch to Another App"}]},Dg={sizes:[{id:"mini",width:200,height:100,label:"Mini"},{id:"small",width:300,height:200,label:"Small"},{id:"medium",width:400,height:300,label:"Medium"}],positions:[{id:"top-right",label:"Top Right"},{id:"top-left",label:"Top Left"},{id:"bottom-right",label:"Bottom Right"},{id:"bottom-left",label:"Bottom Left"}],styles:[{id:"sticky-note",label:"Sticky Note",icon:"StickyNote"},{id:"tooltip",label:"Tooltip",icon:"MessageSquare"},{id:"widget",label:"Widget",icon:"Square"},{id:"invisible",label:"Nearly Invisible",icon:"EyeOff"}]},Jue=()=>{const{activeDisguise:e,stealthMode:t,panicKey:r,panicAction:n,decoyScreen:i,floatingWidget:s,detection:o,quickCopy:u,silentMode:f,pipEnabled:d,clipboardHistory:g,setActiveDisguise:v,toggleStealthMode:w,setPanicKey:S,setPanicAction:E,setDecoyScreen:_,updateFloatingWidget:A,toggleFloatingWidget:N,updateDetection:C,updateQuickCopy:T,toggleSilentMode:I,togglePIP:P,clearClipboardHistory:k}=Ya(),[R,F]=B.useState(r.key);return m.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:m.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[m.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[m.jsx(jx,{className:"text-blue-600"}),"Stealth & Disguise Settings"]}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Configure undetectable interview assistance features"})]}),m.jsxs("button",{onClick:w,className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 ${t?"bg-green-500 text-white":"bg-gray-300 text-gray-700"}`,children:[t?m.jsx(Yn,{size:20}):m.jsx(jn,{size:20}),t?"Stealth ON":"Stealth OFF"]})]})}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(ol,{size:20}),"Disguise Themes"]}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Make the app look like a different application to avoid detection"}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Que.map(L=>m.jsxs("button",{onClick:()=>v(L.id),className:`p-4 border-2 rounded-lg text-center transition-all ${e===L.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[m.jsx("div",{className:"text-3xl mb-2",children:L.icon}),m.jsx("div",{className:"font-semibold",children:L.name}),m.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L.description})]},L.id))})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(ID,{size:20}),"Panic Button (Boss Key)"]}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Instantly hide the app when interviewer gets suspicious"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Panic Key"}),m.jsx("select",{value:R,onChange:L=>{F(L.target.value),S(L.target.value,[])},className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:vC.panicKeys.map(L=>m.jsx("option",{value:L.key,children:L.label},L.label))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Panic Action"}),m.jsx("select",{value:n,onChange:L=>E(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:vC.hideActions.map(L=>m.jsx("option",{value:L.id,children:L.label},L.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Decoy Screen"}),m.jsxs("select",{value:i,onChange:L=>_(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[m.jsx("option",{value:"google-search",children:"Google Search"}),m.jsx("option",{value:"stackoverflow",children:"Stack Overflow"}),m.jsx("option",{value:"documentation",children:"Technical Documentation"}),m.jsx("option",{value:"blank",children:"Blank Screen"})]})]}),m.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 flex gap-2",children:[m.jsx(q2,{className:"text-yellow-600 flex-shrink-0",size:20}),m.jsxs("div",{className:"text-sm text-yellow-800",children:[m.jsx("strong",{children:"Quick Escape:"})," Triple-click top-right corner or press your panic key to activate decoy screen"]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(VT,{size:20}),"Floating Answer Widget"]}),m.jsx("button",{onClick:N,className:`px-3 py-1 rounded ${s.enabled?"bg-green-500 text-white":"bg-gray-300 text-gray-700"}`,children:s.enabled?"Enabled":"Disabled"})]}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Show answers in a small floating window (like sticky note)"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Size"}),m.jsx("select",{value:s.size,onChange:L=>A({size:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:Dg.sizes.map(L=>m.jsx("option",{value:L.id,children:L.label},L.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Position"}),m.jsx("select",{value:s.position,onChange:L=>A({position:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:Dg.positions.map(L=>m.jsx("option",{value:L.id,children:L.label},L.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Opacity"}),m.jsx("input",{type:"range",min:"0.3",max:"1.0",step:"0.1",value:s.opacity,onChange:L=>A({opacity:parseFloat(L.target.value)}),className:"w-full"}),m.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[Math.round(s.opacity*100),"%"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Style"}),m.jsx("select",{value:s.style,onChange:L=>A({style:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:Dg.styles.map(L=>m.jsx("option",{value:L.id,children:L.label},L.id))})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(q2,{size:20}),"Detection & Auto-Hide"]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"checkbox",checked:o.screenRecording,onChange:L=>C({screenRecording:L.target.checked}),className:"w-5 h-5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:"Detect Screen Recording"}),m.jsx("div",{className:"text-sm text-gray-600",children:"Alert if screen capture is detected"})]})]}),m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"checkbox",checked:o.screenSharing,onChange:L=>C({screenSharing:L.target.checked}),className:"w-5 h-5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:"Detect Screen Sharing"}),m.jsx("div",{className:"text-sm text-gray-600",children:"Detect if screen is being shared"})]})]}),m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"checkbox",checked:o.autoHide,onChange:L=>C({autoHide:L.target.checked}),className:"w-5 h-5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:"Auto-Hide on Detection"}),m.jsx("div",{className:"text-sm text-gray-600",children:"Automatically hide app if recording detected"})]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(Ka,{size:20}),"Quick Copy Settings"]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"checkbox",checked:u.singleClick,onChange:L=>T({singleClick:L.target.checked}),className:"w-5 h-5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:"Single-Click Copy"}),m.jsx("div",{className:"text-sm text-gray-600",children:"Copy answer with one click instead of selecting text"})]})]}),m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"checkbox",checked:u.autoClipboard,onChange:L=>T({autoClipboard:L.target.checked}),className:"w-5 h-5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:"Auto-Copy to Clipboard"}),m.jsx("div",{className:"text-sm text-gray-600",children:"Automatically copy answers without showing selection"})]})]}),m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"checkbox",checked:!u.showToast,onChange:L=>T({showToast:!L.target.checked}),className:"w-5 h-5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:"Silent Copy (No Toast)"}),m.jsx("div",{className:"text-sm text-gray-600",children:`Don't show "Copied!" notification`})]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(WT,{size:20}),"Additional Stealth Features"]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"checkbox",checked:f,onChange:I,className:"w-5 h-5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:"Silent Mode"}),m.jsx("div",{className:"text-sm text-gray-600",children:"No sounds, notifications, or popups"})]})]}),m.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[m.jsx("input",{type:"checkbox",checked:d,onChange:P,className:"w-5 h-5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-semibold",children:"Picture-in-Picture Mode"}),m.jsx("div",{className:"text-sm text-gray-600",children:"Always-on-top floating window"})]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(Ka,{size:20}),"Clipboard History"]}),m.jsx("button",{onClick:k,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Clear History"})]}),m.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:g.length===0?m.jsx("div",{className:"text-center text-gray-500 py-4",children:"No clipboard history yet"}):g.map((L,K)=>m.jsxs("div",{className:"p-3 bg-gray-50 rounded border border-gray-200",children:[m.jsx("div",{className:"text-sm text-gray-700 line-clamp-2",children:L.text}),m.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(L.timestamp).toLocaleTimeString()})]},K))})]}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[m.jsx("h3",{className:"font-bold text-blue-900 mb-3",children:"💡 Stealth Tips"}),m.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[m.jsx("li",{children:"• Use mobile companion on your phone for even more discretion"}),m.jsx("li",{children:'• Enable floating widget in "nearly invisible" mode (30% opacity)'}),m.jsx("li",{children:"• Set panic key to something natural like ESC or F1"}),m.jsx("li",{children:"• Use disguise themes that match your interview context (terminal for coding interviews)"}),m.jsx("li",{children:"• Practice quick-hide before actual interview"}),m.jsx("li",{children:"• Keep the app in a separate monitor or use picture-in-picture"}),m.jsx("li",{children:"• Use single-click copy and paste quickly to avoid suspicion"})]})]})]})})},xC={"google-search":{title:"interview preparation best practices - Google Search",content:m.jsxs("div",{className:"h-full bg-white",children:[m.jsxs("div",{className:"bg-white border-b px-6 py-3 flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"G"}),m.jsx("div",{className:"text-2xl font-bold text-red-600",children:"o"}),m.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:"o"}),m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"g"}),m.jsx("div",{className:"text-2xl font-bold text-green-600",children:"l"}),m.jsx("div",{className:"text-2xl font-bold text-red-600",children:"e"})]}),m.jsx("input",{type:"text",value:"interview preparation best practices",readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-full"})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"About 847,000,000 results (0.52 seconds)"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-blue-600 text-xl hover:underline cursor-pointer",children:"10 Interview Preparation Tips: How To Prepare for an Interview"}),m.jsx("div",{className:"text-green-700 text-sm",children:"https://www.indeed.com › career-advice › interviewing"}),m.jsx("div",{className:"text-gray-600 text-sm mt-1",children:"Research the company and your interviewers · Practice your answers to common interview questions · Study the job description · Answer questions using..."})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-blue-600 text-xl hover:underline cursor-pointer",children:"How to Prepare for an Interview (With Tips and Examples)"}),m.jsx("div",{className:"text-green-700 text-sm",children:"https://www.thebalancemoney.com › job-interview-preparation"}),m.jsx("div",{className:"text-gray-600 text-sm mt-1",children:"Learn how to prepare for an interview, including researching the company, reviewing common questions, preparing questions to ask, and more."})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-blue-600 text-xl hover:underline cursor-pointer",children:"Interview Preparation: A Complete Guide - LinkedIn"}),m.jsx("div",{className:"text-green-700 text-sm",children:"https://www.linkedin.com › pulse › interview-preparation"}),m.jsx("div",{className:"text-gray-600 text-sm mt-1",children:"Comprehensive guide to interview preparation including behavioral questions, technical assessments, and follow-up strategies."})]})]})]})]})},stackoverflow:{title:"How to implement OAuth2 in React - Stack Overflow",content:m.jsxs("div",{className:"h-full bg-white",children:[m.jsx("div",{className:"bg-gray-50 border-b px-6 py-3 flex items-center justify-between",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"font-bold text-xl",children:["stack",m.jsx("span",{className:"text-orange-600",children:"overflow"})]}),m.jsx("input",{type:"text",placeholder:"Search...",className:"w-96 px-4 py-1.5 border border-gray-300 rounded"})]})}),m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"w-48 bg-gray-50 border-r p-4",children:m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsx("div",{className:"text-gray-700",children:"Home"}),m.jsx("div",{className:"font-bold",children:"Questions"}),m.jsx("div",{className:"text-gray-700",children:"Tags"}),m.jsx("div",{className:"text-gray-700",children:"Users"})]})}),m.jsxs("div",{className:"flex-1 p-6",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"How to implement OAuth2 authentication in React application?"}),m.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Asked 2 hours ago · Modified 1 hour ago · Viewed 127 times"}),m.jsxs("div",{className:"prose max-w-none",children:[m.jsx("p",{className:"text-gray-700",children:"I'm trying to implement OAuth2 authentication in my React application using Express backend. I've set up the authorization flow but having issues with token refresh..."}),m.jsx("pre",{className:"bg-gray-100 p-4 rounded mt-4",children:`const authConfig = {
  clientId: process.env.CLIENT_ID,
  redirectUri: 'http://localhost:3000/callback',
  scope: 'read write'
};`})]}),m.jsxs("div",{className:"mt-6 border-t pt-6",children:[m.jsx("div",{className:"font-bold mb-4",children:"2 Answers"}),m.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-green-600",children:"42"}),m.jsx("div",{className:"text-xs text-gray-600",children:"votes"})]}),m.jsx("div",{className:"flex-1",children:m.jsx("p",{className:"text-gray-700",children:"You should use a library like react-oauth2-hook or implement it manually using..."})})]})})]})]})]})]})},documentation:{title:"React Documentation - Components and Props",content:m.jsxs("div",{className:"h-full bg-gray-50",children:[m.jsxs("div",{className:"bg-gray-900 text-white px-6 py-4 flex items-center justify-between",children:[m.jsx("div",{className:"text-xl font-bold",children:"React Documentation"}),m.jsx("input",{type:"text",placeholder:"Search docs...",className:"px-4 py-1.5 bg-gray-800 border border-gray-700 rounded text-white"})]}),m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"w-64 bg-white border-r p-6 overflow-y-auto h-screen",children:m.jsxs("div",{className:"space-y-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-gray-900 mb-2",children:"Get Started"}),m.jsxs("div",{className:"space-y-1 pl-4",children:[m.jsx("div",{className:"text-gray-600",children:"Installation"}),m.jsx("div",{className:"text-gray-600",children:"Quick Start"})]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-gray-900 mb-2",children:"Learn React"}),m.jsxs("div",{className:"space-y-1 pl-4",children:[m.jsx("div",{className:"text-blue-600",children:"Components"}),m.jsx("div",{className:"text-gray-600",children:"Props"}),m.jsx("div",{className:"text-gray-600",children:"State"}),m.jsx("div",{className:"text-gray-600",children:"Hooks"})]})]})]})}),m.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[m.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Components and Props"}),m.jsxs("div",{className:"prose max-w-none",children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"Components let you split the UI into independent, reusable pieces, and think about each piece in isolation."}),m.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Function Components"}),m.jsx("pre",{className:"bg-gray-800 text-gray-100 p-4 rounded",children:`function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

const element = <Welcome name="Sara" />;`}),m.jsx("p",{className:"text-gray-700 mt-4",children:'This function is a valid React component because it accepts a single "props" object argument with data and returns a React element.'})]})]})]})]})},blank:{title:"",content:m.jsx("div",{className:"h-full bg-white"})}},efe=()=>{const{type:e}=tp(),t=wn(),r=xC[e]||xC.blank,n=()=>{t("/session/active")};return X.useEffect(()=>{const i=s=>{s.key==="Escape"&&n()};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[]),m.jsxs("div",{className:"h-screen w-screen relative",children:[r.content,m.jsx("button",{onClick:n,className:"fixed top-2 right-2 opacity-0 hover:opacity-100 transition-opacity bg-red-500 text-white p-1 rounded",title:"Triple-click top-right corner or press Escape to exit decoy",children:m.jsx(jf,{size:16})})]})};var Ie;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var wC=new Map([[Ie.QR_CODE,"QR_CODE"],[Ie.AZTEC,"AZTEC"],[Ie.CODABAR,"CODABAR"],[Ie.CODE_39,"CODE_39"],[Ie.CODE_93,"CODE_93"],[Ie.CODE_128,"CODE_128"],[Ie.DATA_MATRIX,"DATA_MATRIX"],[Ie.MAXICODE,"MAXICODE"],[Ie.ITF,"ITF"],[Ie.EAN_13,"EAN_13"],[Ie.EAN_8,"EAN_8"],[Ie.PDF_417,"PDF_417"],[Ie.RSS_14,"RSS_14"],[Ie.RSS_EXPANDED,"RSS_EXPANDED"],[Ie.UPC_A,"UPC_A"],[Ie.UPC_E,"UPC_E"],[Ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),bC;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(bC||(bC={}));function tfe(e){return Object.values(Ie).includes(e)}var M0;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(M0||(M0={}));var rfe=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[M0.SCAN_TYPE_CAMERA,M0.SCAN_TYPE_FILE],e}(),F4=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!wC.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,wC.get(t))},e}(),SC=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),bv;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(bv||(bv={}));var nfe=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:bv.UNKWOWN_ERROR}},e}(),ife=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Gi(e){return typeof e>"u"||e===null}var Qo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),U4=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(t),u=0,f=o;u<f.length;u++){var d=f[u];if(s.has(d))return r.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},e}(),Sv={exports:{}};(function(e,t){(function(r,n){n(t)})(Yi,function(r){function n(M){return M==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,a){M.__proto__=a}||function(M,a){for(var l in a)a.hasOwnProperty(l)&&(M[l]=a[l])};function s(M,a){i(M,a);function l(){this.constructor=M}M.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}function o(M,a){var l=Object.setPrototypeOf;l?l(M,a):M.__proto__=a}function u(M,a){a===void 0&&(a=M.constructor);var l=Error.captureStackTrace;l&&l(M,a)}var f=function(M){s(a,M);function a(l){var c=this.constructor,h=M.call(this,l)||this;return Object.defineProperty(h,"name",{value:c.name,enumerable:!1}),o(h,c.prototype),u(h),h}return a}(Error);class d extends f{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}d.kind="Exception";class g extends d{}g.kind="ArgumentException";class v extends d{}v.kind="IllegalArgumentException";class w{constructor(a){if(this.binarizer=a,a===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,l){return this.binarizer.getBlackRow(a,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,l,c,h){const p=this.binarizer.getLuminanceSource().crop(a,l,c,h);return new w(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends d{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class E{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(a,l,c,h,p){for(;p--;)c[h++]=a[l++]}static currentTimeMillis(){return Date.now()}}class A extends d{}A.kind="IndexOutOfBoundsException";class N extends A{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}N.kind="ArrayIndexOutOfBoundsException";class C{static fill(a,l){for(let c=0,h=a.length;c<h;c++)a[c]=l}static fillWithin(a,l,c,h){C.rangeCheck(a.length,l,c);for(let p=l;p<c;p++)a[p]=h}static rangeCheck(a,l,c){if(l>c)throw new v("fromIndex("+l+") > toIndex("+c+")");if(l<0)throw new N(l);if(c>a)throw new N(c)}static asList(...a){return a}static create(a,l,c){return Array.from({length:a}).map(p=>Array.from({length:l}).fill(c))}static createInt32Array(a,l,c){return Array.from({length:a}).map(p=>Int32Array.from({length:l}).fill(c))}static equals(a,l){if(!a||!l||!a.length||!l.length||a.length!==l.length)return!1;for(let c=0,h=a.length;c<h;c++)if(a[c]!==l[c])return!1;return!0}static hashCode(a){if(a===null)return 0;let l=1;for(const c of a)l=31*l+c;return l}static fillUint8Array(a,l){for(let c=0;c!==a.length;c++)a[c]=l}static copyOf(a,l){return a.slice(0,l)}static copyOfUint8Array(a,l){if(a.length<=l){const c=new Uint8Array(l);return c.set(a),c}return a.slice(0,l)}static copyOfRange(a,l,c){const h=c-l,p=new Int32Array(h);return _.arraycopy(a,l,p,0,h),p}static binarySearch(a,l,c){c===void 0&&(c=C.numberComparator);let h=0,p=a.length-1;for(;h<=p;){const y=p+h>>1,x=c(l,a[y]);if(x>0)h=y+1;else if(x<0)p=y-1;else return y}return-h-1}static numberComparator(a,l){return a-l}}class T{static numberOfTrailingZeros(a){let l;if(a===0)return 32;let c=31;return l=a<<16,l!==0&&(c-=16,a=l),l=a<<8,l!==0&&(c-=8,a=l),l=a<<4,l!==0&&(c-=4,a=l),l=a<<2,l!==0&&(c-=2,a=l),c-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let l=1;return a>>>16||(l+=16,a<<=16),a>>>24||(l+=8,a<<=8),a>>>28||(l+=4,a<<=4),a>>>30||(l+=2,a<<=2),l-=a>>>31,l}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,l){return Math.trunc(a/l)}static parseInt(a,l=void 0){return parseInt(a,l)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class I{constructor(a,l){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,l==null?this.bits=I.makeArray(a):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const l=I.makeArray(a);_.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const l=this.size;if(a>=l)return l;const c=this.bits;let h=Math.floor(a/32),p=c[h];p&=~((1<<(a&31))-1);const y=c.length;for(;p===0;){if(++h===y)return l;p=c[h]}const x=h*32+T.numberOfTrailingZeros(p);return x>l?l:x}getNextUnset(a){const l=this.size;if(a>=l)return l;const c=this.bits;let h=Math.floor(a/32),p=~c[h];p&=~((1<<(a&31))-1);const y=c.length;for(;p===0;){if(++h===y)return l;p=~c[h]}const x=h*32+T.numberOfTrailingZeros(p);return x>l?l:x}setBulk(a,l){this.bits[Math.floor(a/32)]=l}setRange(a,l){if(l<a||a<0||l>this.size)throw new v;if(l===a)return;l--;const c=Math.floor(a/32),h=Math.floor(l/32),p=this.bits;for(let y=c;y<=h;y++){const x=y>c?0:a&31,O=(2<<(y<h?31:l&31))-(1<<x);p[y]|=O}}clear(){const a=this.bits.length,l=this.bits;for(let c=0;c<a;c++)l[c]=0}isRange(a,l,c){if(l<a||a<0||l>this.size)throw new v;if(l===a)return!0;l--;const h=Math.floor(a/32),p=Math.floor(l/32),y=this.bits;for(let x=h;x<=p;x++){const b=x>h?0:a&31,j=(2<<(x<p?31:l&31))-(1<<b)&4294967295;if((y[x]&j)!==(c?j:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,l){if(l<0||l>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let c=l;c>0;c--)this.appendBit((a>>c-1&1)===1)}appendBitArray(a){const l=a.size;this.ensureCapacity(this.size+l);for(let c=0;c<l;c++)this.appendBit(a.get(c))}xor(a){if(this.size!==a.size)throw new v("Sizes don't match");const l=this.bits;for(let c=0,h=l.length;c<h;c++)l[c]^=a.bits[c]}toBytes(a,l,c,h){for(let p=0;p<h;p++){let y=0;for(let x=0;x<8;x++)this.get(a)&&(y|=1<<7-x),a++;l[c+p]=y}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),c=l+1,h=this.bits;for(let p=0;p<c;p++){let y=h[p];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,a[l-p]=y}if(this.size!==c*32){const p=c*32-this.size;let y=a[0]>>>p;for(let x=1;x<c;x++){const b=a[x];y|=b<<32-p,a[x-1]=y,y=b>>>p}a[c-1]=y}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof I))return!1;const l=a;return this.size===l.size&&C.equals(this.bits,l.bits)}hashCode(){return 31*this.size+C.hashCode(this.bits)}toString(){let a="";for(let l=0,c=this.size;l<c;l++)l&7||(a+=" "),a+=this.get(l)?"X":".";return a}clone(){return new I(this.size,this.bits.slice())}}var P;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(P||(P={}));var k=P;class R extends d{static getFormatInstance(){return new R}}R.kind="FormatException";var F;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(F||(F={}));class L{constructor(a,l,c,...h){this.valueIdentifier=a,this.name=c,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=h,L.VALUE_IDENTIFIER_TO_ECI.set(a,this),L.NAME_TO_ECI.set(c,this);const p=this.values;for(let y=0,x=p.length;y!==x;y++){const b=p[y];L.VALUES_TO_ECI.set(b,this)}for(const y of h)L.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new R("incorect value");const l=L.VALUES_TO_ECI.get(a);if(l===void 0)throw new R("incorect value");return l}static getCharacterSetECIByName(a){const l=L.NAME_TO_ECI.get(a);if(l===void 0)throw new R("incorect value");return l}equals(a){if(!(a instanceof L))return!1;const l=a;return this.getName()===l.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(F.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(F.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(F.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(F.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(F.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(F.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(F.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(F.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(F.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(F.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(F.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(F.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(F.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(F.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(F.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(F.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(F.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(F.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(F.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(F.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(F.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(F.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(F.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(F.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(F.Big5,28,"Big5"),L.GB18030=new L(F.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(F.EUC_KR,30,"EUC_KR","EUC-KR");class K extends d{}K.kind="UnsupportedOperationException";class V{static decode(a,l){const c=this.encodingName(l);return this.customDecoder?this.customDecoder(a,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(a,c):new TextDecoder(c).decode(a)}static shouldDecodeOnFallback(a){return!V.isBrowser()&&a==="ISO-8859-1"}static encode(a,l){const c=this.encodingName(l);return this.customEncoder?this.customEncoder(a,c):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof L?a:L.getCharacterSetECIByName(a)}static decodeFallback(a,l){const c=this.encodingCharacterSet(l);if(V.isDecodeFallbackSupported(c)){let h="";for(let p=0,y=a.length;p<y;p++){let x=a[p].toString(16);x.length<2&&(x="0"+x),h+="%"+x}return decodeURIComponent(h)}if(c.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new K(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(L.UTF8)||a.equals(L.ISO8859_1)||a.equals(L.ASCII)}static encodeFallback(a){const c=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let p=0;p<c.length;p++)h.push(c[p].charCodeAt(0));return new Uint8Array(h)}}class U{static castAsNonUtf8Char(a,l=null){const c=l?l.getName():this.ISO88591;return V.decode(new Uint8Array([a]),c)}static guessEncoding(a,l){if(l!=null&&l.get(k.CHARACTER_SET)!==void 0)return l.get(k.CHARACTER_SET).toString();const c=a.length;let h=!0,p=!0,y=!0,x=0,b=0,O=0,j=0,D=0,$=0,W=0,G=0,q=0,te=0,oe=0;const ye=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let xe=0;xe<c&&(h||p||y);xe++){const ge=a[xe]&255;y&&(x>0?ge&128?x--:y=!1:ge&128&&(ge&64?(x++,ge&32?(x++,ge&16?(x++,ge&8?y=!1:j++):O++):b++):y=!1)),h&&(ge>127&&ge<160?h=!1:ge>159&&(ge<192||ge===215||ge===247)&&oe++),p&&(D>0?ge<64||ge===127||ge>252?p=!1:D--:ge===128||ge===160||ge>239?p=!1:ge>160&&ge<224?($++,G=0,W++,W>q&&(q=W)):ge>127?(D++,W=0,G++,G>te&&(te=G)):(W=0,G=0))}return y&&x>0&&(y=!1),p&&D>0&&(p=!1),y&&(ye||b+O+j>0)?U.UTF8:p&&(U.ASSUME_SHIFT_JIS||q>=3||te>=3)?U.SHIFT_JIS:h&&p?q===2&&$===2||oe*10>=c?U.SHIFT_JIS:U.ISO88591:h?U.ISO88591:p?U.SHIFT_JIS:y?U.UTF8:U.PLATFORM_DEFAULT_ENCODING}static format(a,...l){let c=-1;function h(y,x,b,O,j,D){if(y==="%%")return"%";if(l[++c]===void 0)return;y=O?parseInt(O.substr(1)):void 0;let $=j?parseInt(j.substr(1)):void 0,W;switch(D){case"s":W=l[c];break;case"c":W=l[c][0];break;case"f":W=parseFloat(l[c]).toFixed(y);break;case"p":W=parseFloat(l[c]).toPrecision(y);break;case"e":W=parseFloat(l[c]).toExponential(y);break;case"x":W=parseInt(l[c]).toString($||16);break;case"d":W=parseFloat(parseInt(l[c],$||10).toPrecision(y)).toFixed(0);break}W=typeof W=="object"?JSON.stringify(W):(+W).toString($);let G=parseInt(b),q=b&&b[0]+""=="0"?"0":" ";for(;W.length<G;)W=x!==void 0?W+q:q+W;return W}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(p,h)}static getBytes(a,l){return V.encode(a,l)}static getCharCode(a,l=0){return a.charCodeAt(l)}static getCharAt(a){return String.fromCharCode(a)}}U.SHIFT_JIS=L.SJIS.getName(),U.GB2312="GB2312",U.ISO88591=L.ISO8859_1.getName(),U.EUC_JP="EUC_JP",U.UTF8=L.UTF8.getName(),U.PLATFORM_DEFAULT_ENCODING=U.UTF8,U.ASSUME_SHIFT_JIS=!1;class J{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=U.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,l,c){for(let h=l;l<l+c;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+1)}substring(a,l){return this.value.substring(a,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+l.length)}}class Q{constructor(a,l,c,h){if(this.width=a,this.height=l,this.rowSize=c,this.bits=h,l==null&&(l=a),this.height=l,a<1||l<1)throw new v("Both dimensions must be greater than 0");c==null&&(c=Math.floor((a+31)/32)),this.rowSize=c,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const l=a.length,c=a[0].length,h=new Q(c,l);for(let p=0;p<l;p++){const y=a[p];for(let x=0;x<c;x++)y[x]&&h.set(x,p)}return h}static parseFromString(a,l,c){if(a===null)throw new v("stringRepresentation cannot be null");const h=new Array(a.length);let p=0,y=0,x=-1,b=0,O=0;for(;O<a.length;)if(a.charAt(O)===`
`||a.charAt(O)==="\r"){if(p>y){if(x===-1)x=p-y;else if(p-y!==x)throw new v("row lengths do not match");y=p,b++}O++}else if(a.substring(O,O+l.length)===l)O+=l.length,h[p]=!0,p++;else if(a.substring(O,O+c.length)===c)O+=c.length,h[p]=!1,p++;else throw new v("illegal character encountered: "+a.substring(O));if(p>y){if(x===-1)x=p-y;else if(p-y!==x)throw new v("row lengths do not match");b++}const j=new Q(x,b);for(let D=0;D<p;D++)h[D]&&j.set(Math.floor(D%x),Math.floor(D/x));return j}get(a,l){const c=l*this.rowSize+Math.floor(a/32);return(this.bits[c]>>>(a&31)&1)!==0}set(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]|=1<<(a&31)&4294967295}unset(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]&=~(1<<(a&31)&4294967295)}flip(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new v("input matrix dimensions do not match");const l=new I(Math.floor(this.width/32)+1),c=this.rowSize,h=this.bits;for(let p=0,y=this.height;p<y;p++){const x=p*c,b=a.getRow(p,l).getBitArray();for(let O=0;O<c;O++)h[x+O]^=b[O]}}clear(){const a=this.bits,l=a.length;for(let c=0;c<l;c++)a[c]=0}setRegion(a,l,c,h){if(l<0||a<0)throw new v("Left and top must be nonnegative");if(h<1||c<1)throw new v("Height and width must be at least 1");const p=a+c,y=l+h;if(y>this.height||p>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,b=this.bits;for(let O=l;O<y;O++){const j=O*x;for(let D=a;D<p;D++)b[j+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(a,l){l==null||l.getSize()<this.width?l=new I(this.width):l.clear();const c=this.rowSize,h=this.bits,p=a*c;for(let y=0;y<c;y++)l.setBulk(y*32,h[p+y]);return l}setRow(a,l){_.arraycopy(l.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),l=this.getHeight();let c=new I(a),h=new I(a);for(let p=0,y=Math.floor((l+1)/2);p<y;p++)c=this.getRow(p,c),h=this.getRow(l-1-p,h),c.reverse(),h.reverse(),this.setRow(p,h),this.setRow(l-1-p,c)}getEnclosingRectangle(){const a=this.width,l=this.height,c=this.rowSize,h=this.bits;let p=a,y=l,x=-1,b=-1;for(let O=0;O<l;O++)for(let j=0;j<c;j++){const D=h[O*c+j];if(D!==0){if(O<y&&(y=O),O>b&&(b=O),j*32<p){let $=0;for(;!(D<<31-$&4294967295);)$++;j*32+$<p&&(p=j*32+$)}if(j*32+31>x){let $=31;for(;!(D>>>$);)$--;j*32+$>x&&(x=j*32+$)}}}return x<p||b<y?null:Int32Array.from([p,y,x-p+1,b-y+1])}getTopLeftOnBit(){const a=this.rowSize,l=this.bits;let c=0;for(;c<l.length&&l[c]===0;)c++;if(c===l.length)return null;const h=c/a;let p=c%a*32;const y=l[c];let x=0;for(;!(y<<31-x&4294967295);)x++;return p+=x,Int32Array.from([p,h])}getBottomRightOnBit(){const a=this.rowSize,l=this.bits;let c=l.length-1;for(;c>=0&&l[c]===0;)c--;if(c<0)return null;const h=Math.floor(c/a);let p=Math.floor(c%a)*32;const y=l[c];let x=31;for(;!(y>>>x);)x--;return p+=x,Int32Array.from([p,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof Q))return!1;const l=a;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&C.equals(this.bits,l.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+C.hashCode(this.bits),a}toString(a="X ",l="  ",c=`
`){return this.buildToString(a,l,c)}buildToString(a,l,c){let h=new J;for(let p=0,y=this.height;p<y;p++){for(let x=0,b=this.width;x<b;x++)h.append(this.get(x,p)?a:l);h.append(c)}return h.toString()}clone(){return new Q(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends d{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class ee extends E{constructor(a){super(a),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(a,l){const c=this.getLuminanceSource(),h=c.getWidth();l==null||l.getSize()<h?l=new I(h):l.clear(),this.initArrays(h);const p=c.getRow(a,this.luminances),y=this.buckets;for(let b=0;b<h;b++)y[(p[b]&255)>>ee.LUMINANCE_SHIFT]++;const x=ee.estimateBlackPoint(y);if(h<3)for(let b=0;b<h;b++)(p[b]&255)<x&&l.set(b);else{let b=p[0]&255,O=p[1]&255;for(let j=1;j<h-1;j++){const D=p[j+1]&255;(O*4-b-D)/2<x&&l.set(j),b=O,O=D}}return l}getBlackMatrix(){const a=this.getLuminanceSource(),l=a.getWidth(),c=a.getHeight(),h=new Q(l,c);this.initArrays(l);const p=this.buckets;for(let b=1;b<5;b++){const O=Math.floor(c*b/5),j=a.getRow(O,this.luminances),D=Math.floor(l*4/5);for(let $=Math.floor(l/5);$<D;$++){const W=j[$]&255;p[W>>ee.LUMINANCE_SHIFT]++}}const y=ee.estimateBlackPoint(p),x=a.getMatrix();for(let b=0;b<c;b++){const O=b*l;for(let j=0;j<l;j++)(x[O+j]&255)<y&&h.set(j,b)}return h}createBinarizer(a){return new ee(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const l=this.buckets;for(let c=0;c<ee.LUMINANCE_BUCKETS;c++)l[c]=0}static estimateBlackPoint(a){const l=a.length;let c=0,h=0,p=0;for(let j=0;j<l;j++)a[j]>p&&(h=j,p=a[j]),a[j]>c&&(c=a[j]);let y=0,x=0;for(let j=0;j<l;j++){const D=j-h,$=a[j]*D*D;$>x&&(y=j,x=$)}if(h>y){const j=h;h=y,y=j}if(y-h<=l/16)throw new H;let b=y-1,O=-1;for(let j=y-1;j>h;j--){const D=j-h,$=D*D*(y-j)*(c-a[j]);$>O&&(b=j,O=$)}return b<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class Z extends ee{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),l=a.getWidth(),c=a.getHeight();if(l>=Z.MINIMUM_DIMENSION&&c>=Z.MINIMUM_DIMENSION){const h=a.getMatrix();let p=l>>Z.BLOCK_SIZE_POWER;l&Z.BLOCK_SIZE_MASK&&p++;let y=c>>Z.BLOCK_SIZE_POWER;c&Z.BLOCK_SIZE_MASK&&y++;const x=Z.calculateBlackPoints(h,p,y,l,c),b=new Q(l,c);Z.calculateThresholdForBlock(h,p,y,l,c,x,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new Z(a)}static calculateThresholdForBlock(a,l,c,h,p,y,x){const b=p-Z.BLOCK_SIZE,O=h-Z.BLOCK_SIZE;for(let j=0;j<c;j++){let D=j<<Z.BLOCK_SIZE_POWER;D>b&&(D=b);const $=Z.cap(j,2,c-3);for(let W=0;W<l;W++){let G=W<<Z.BLOCK_SIZE_POWER;G>O&&(G=O);const q=Z.cap(W,2,l-3);let te=0;for(let ye=-2;ye<=2;ye++){const xe=y[$+ye];te+=xe[q-2]+xe[q-1]+xe[q]+xe[q+1]+xe[q+2]}const oe=te/25;Z.thresholdBlock(a,G,D,oe,h,x)}}}static cap(a,l,c){return a<l?l:a>c?c:a}static thresholdBlock(a,l,c,h,p,y){for(let x=0,b=c*p+l;x<Z.BLOCK_SIZE;x++,b+=p)for(let O=0;O<Z.BLOCK_SIZE;O++)(a[b+O]&255)<=h&&y.set(l+O,c+x)}static calculateBlackPoints(a,l,c,h,p){const y=p-Z.BLOCK_SIZE,x=h-Z.BLOCK_SIZE,b=new Array(c);for(let O=0;O<c;O++){b[O]=new Int32Array(l);let j=O<<Z.BLOCK_SIZE_POWER;j>y&&(j=y);for(let D=0;D<l;D++){let $=D<<Z.BLOCK_SIZE_POWER;$>x&&($=x);let W=0,G=255,q=0;for(let oe=0,ye=j*h+$;oe<Z.BLOCK_SIZE;oe++,ye+=h){for(let xe=0;xe<Z.BLOCK_SIZE;xe++){const ge=a[ye+xe]&255;W+=ge,ge<G&&(G=ge),ge>q&&(q=ge)}if(q-G>Z.MIN_DYNAMIC_RANGE)for(oe++,ye+=h;oe<Z.BLOCK_SIZE;oe++,ye+=h)for(let xe=0;xe<Z.BLOCK_SIZE;xe++)W+=a[ye+xe]&255}let te=W>>Z.BLOCK_SIZE_POWER*2;if(q-G<=Z.MIN_DYNAMIC_RANGE&&(te=G/2,O>0&&D>0)){const oe=(b[O-1][D]+2*b[O][D-1]+b[O-1][D-1])/4;G<oe&&(te=oe)}b[O][D]=te}}return b}}Z.BLOCK_SIZE_POWER=3,Z.BLOCK_SIZE=1<<Z.BLOCK_SIZE_POWER,Z.BLOCK_SIZE_MASK=Z.BLOCK_SIZE-1,Z.MINIMUM_DIMENSION=Z.BLOCK_SIZE*5,Z.MIN_DYNAMIC_RANGE=24;class Y{constructor(a,l){this.width=a,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,l,c,h){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let l=new J;for(let c=0;c<this.height;c++){const h=this.getRow(c,a);for(let p=0;p<this.width;p++){const y=h[p]&255;let x;y<64?x="#":y<128?x="+":y<192?x=".":x=" ",l.append(x)}l.append(`
`)}return l.toString()}}class ae extends Y{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,l){const c=this.delegate.getRow(a,l),h=this.getWidth();for(let p=0;p<h;p++)c[p]=255-(c[p]&255);return c}getMatrix(){const a=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(l);for(let h=0;h<l;h++)c[h]=255-(a[h]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(a,l,c,h){return new ae(this.delegate.crop(a,l,c,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ae(this.delegate.rotateCounterClockwise45())}}class ne extends Y{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=ne.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const l=a.getContext("2d").getImageData(0,0,a.width,a.height);return ne.toGrayscaleBuffer(l.data,a.width,a.height)}static toGrayscaleBuffer(a,l,c){const h=new Uint8ClampedArray(l*c);for(let p=0,y=0,x=a.length;p<x;p+=4,y++){let b;if(a[p+3]===0)b=255;else{const j=a[p],D=a[p+1],$=a[p+2];b=306*j+601*D+117*$+512>>10}h[y]=b}return h}getRow(a,l){if(a<0||a>=this.getHeight())throw new v("Requested row is outside the image: "+a);const c=this.getWidth(),h=a*c;return l===null?l=this.buffer.slice(h,h+c):(l.length<c&&(l=new Uint8ClampedArray(c)),l.set(this.buffer.slice(h,h+c))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,l,c,h){return super.crop(a,l,c,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const l=this.getTempCanvasElement(),c=l.getContext("2d"),h=a*ne.DEGREE_TO_RADIANS,p=this.canvas.width,y=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(h))*p+Math.abs(Math.sin(h))*y),b=Math.ceil(Math.abs(Math.sin(h))*p+Math.abs(Math.cos(h))*y);return l.width=x,l.height=b,c.translate(x/2,b/2),c.rotate(h),c.drawImage(this.canvas,p/-2,y/-2),this.buffer=ne.makeBufferFromCanvasImageData(l),this}invert(){return new ae(this)}}ne.DEGREE_TO_RADIANS=Math.PI/180;class de{constructor(a,l,c){this.deviceId=a,this.label=l,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||Yi||self||window||void 0)&&(globalThis||Yi||self||window||void 0).__awaiter||function(M,a,l,c){function h(p){return p instanceof l?p:new l(function(y){y(p)})}return new(l||(l=Promise))(function(p,y){function x(j){try{O(c.next(j))}catch(D){y(D)}}function b(j){try{O(c.throw(j))}catch(D){y(D)}}function O(j){j.done?p(j.value):h(j.value).then(x,b)}O((c=c.apply(M,a||[])).next())})};class Se{constructor(a,l=500,c){this.reader=a,this.timeBetweenScansMillis=l,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const c of a){const h=c.kind==="video"?"videoinput":c.kind;if(h!=="videoinput")continue;const p=c.deviceId||c.id,y=c.label||`Video device ${l.length+1}`,x=c.groupId,b={deviceId:p,label:y,kind:h,groupId:x};l.push(b)}return l})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new de(l.deviceId,l.label))})}findDeviceById(a){return le(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(c=>c.deviceId===a):null})}decodeFromInputVideoDevice(a,l){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,l)})}decodeOnceFromVideoDevice(a,l){return le(this,void 0,void 0,function*(){this.reset();let c;a?c={deviceId:{exact:a}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeOnceFromConstraints(h,l)})}decodeOnceFromConstraints(a,l){return le(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(c,l)})}decodeOnceFromStream(a,l){return le(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(a,l);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(a,l,c){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,l,c)})}decodeFromVideoDevice(a,l,c){return le(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const p={video:h};return yield this.decodeFromConstraints(p,l,c)})}decodeFromConstraints(a,l,c){return le(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,l,c)})}decodeFromStream(a,l,c){return le(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,l);return yield this.decodeContinuously(h,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,l){return le(this,void 0,void 0,function*(){const c=this.prepareVideoElement(l);return this.addVideoSource(c,a),this.videoElement=c,this.stream=a,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(a){return new Promise((l,c)=>this.playVideoOnLoad(a,()=>l()))}playVideoOnLoad(a,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",l),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,l){const c=document.getElementById(a);if(!c)throw new g(`element with id '${a}' not found`);if(c.nodeName.toLowerCase()!==l.toLowerCase())throw new g(`element with id '${a}' must be an ${l} element`);return c}decodeFromImage(a,l){if(!a&&!l)throw new g("either imageElement with a src set or an url must be provided");return l&&!a?this.decodeFromImageUrl(l):this.decodeFromImageElement(a)}decodeFromVideo(a,l){if(!a&&!l)throw new g("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,l,c){if(a===void 0&&l===void 0)throw new g("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrlContinuously(l,c):this.decodeFromVideoElementContinuously(a,c)}decodeFromImageElement(a){if(!a)throw new g("An image element must be provided.");this.reset();const l=this.prepareImageElement(a);this.imageElement=l;let c;return this.isImageLoaded(l)?c=this.decodeOnce(l,!1,!0):c=this._decodeOnLoadImage(l),c}decodeFromVideoElement(a){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(a,l){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(c,l)}_decodeFromVideoElementSetup(a){if(!a)throw new g("A video element must be provided.");this.reset();const l=this.prepareVideoElement(a);return this.videoElement=l,l}decodeFromImageUrl(a){if(!a)throw new g("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const c=this._decodeOnLoadImage(l);return l.src=a,c}decodeFromVideoUrl(a){if(!a)throw new g("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElement(l);return l.src=a,c}decodeFromVideoUrlContinuously(a,l){if(!a)throw new g("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(c,l);return c.src=a,h}_decodeOnLoadImage(a){return new Promise((l,c)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(l,c),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,l){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,l)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let l;return typeof a>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(l=a),l}prepareVideoElement(a){let l;return!a&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(l=a),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(a,l=!0,c=!0){this._stopAsyncDecode=!1;const h=(p,y)=>{if(this._stopAsyncDecode){y(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(a);p(x)}catch(x){const b=l&&x instanceof H,j=(x instanceof S||x instanceof R)&&c;if(b||j)return setTimeout(h,this._timeBetweenDecodingAttempts,p,y);y(x)}};return new Promise((p,y)=>h(p,y))}decodeContinuously(a,l){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);l(h,null),setTimeout(c,this.timeBetweenScansMillis)}catch(h){l(null,h);const p=h instanceof S||h instanceof R,y=h instanceof H;(p||y)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(a){const l=this.createBinaryBitmap(a);return this.decodeBitmap(l)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,l,c){l||(l={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(a,l,c=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const l=this.getCaptureCanvas(a),c=new ne(l),h=new Z(c);return new w(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const l=this.createCaptureCanvas(a);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let c,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(c=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(c=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),l.style.width=c+"px",l.style.height=h+"px",l.width=c,l.height=h,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,l){try{a.srcObject=l}catch{a.src=URL.createObjectURL(l)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Te{constructor(a,l,c=l==null?0:8*l.length,h,p,y=_.currentTimeMillis()){this.text=a,this.rawBytes=l,this.numBits=c,this.resultPoints=h,this.format=p,this.timestamp=y,this.text=a,this.rawBytes=l,c==null?this.numBits=l==null?0:8*l.length:this.numBits=c,this.resultPoints=h,this.format=p,this.resultMetadata=null,y==null?this.timestamp=_.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,l)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const l=this.resultPoints;if(l===null)this.resultPoints=a;else if(a!==null&&a.length>0){const c=new Array(l.length+a.length);_.arraycopy(l,0,c,0,l.length),_.arraycopy(a,0,c,l.length,a.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var we=qe,Ot;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ot||(Ot={}));var rt=Ot;class be{constructor(a,l,c,h,p=-1,y=-1){this.rawBytes=a,this.text=l,this.byteSegments=c,this.ecLevel=h,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=y,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ce{exp(a){return this.expTable[a]}log(a){if(a===0)throw new v;return this.logTable[a]}static addOrSubtract(a,l){return a^l}}class pe{constructor(a,l){if(l.length===0)throw new v;this.field=a;const c=l.length;if(c>1&&l[0]===0){let h=1;for(;h<c&&l[h]===0;)h++;h===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-h),_.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const l=this.coefficients;let c;if(a===1){c=0;for(let y=0,x=l.length;y!==x;y++){const b=l[y];c=Ce.addOrSubtract(c,b)}return c}c=l[0];const h=l.length,p=this.field;for(let y=1;y<h;y++)c=Ce.addOrSubtract(p.multiply(a,c),l[y]);return c}addOrSubtract(a){if(!this.field.equals(a.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,c=a.coefficients;if(l.length>c.length){const y=l;l=c,c=y}let h=new Int32Array(c.length);const p=c.length-l.length;_.arraycopy(c,0,h,0,p);for(let y=p;y<c.length;y++)h[y]=Ce.addOrSubtract(l[y-p],c[y]);return new pe(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const l=this.coefficients,c=l.length,h=a.coefficients,p=h.length,y=new Int32Array(c+p-1),x=this.field;for(let b=0;b<c;b++){const O=l[b];for(let j=0;j<p;j++)y[b+j]=Ce.addOrSubtract(y[b+j],x.multiply(O,h[j]))}return new pe(x,y)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const l=this.coefficients.length,c=this.field,h=new Int32Array(l),p=this.coefficients;for(let y=0;y<l;y++)h[y]=c.multiply(p[y],a);return new pe(c,h)}multiplyByMonomial(a,l){if(a<0)throw new v;if(l===0)return this.field.getZero();const c=this.coefficients,h=c.length,p=new Int32Array(h+a),y=this.field;for(let x=0;x<h;x++)p[x]=y.multiply(c[x],l);return new pe(y,p)}divide(a){if(!this.field.equals(a.field))throw new v("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new v("Divide by 0");const l=this.field;let c=l.getZero(),h=this;const p=a.getCoefficient(a.getDegree()),y=l.inverse(p);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const x=h.getDegree()-a.getDegree(),b=l.multiply(h.getCoefficient(h.getDegree()),y),O=a.multiplyByMonomial(x,b),j=l.buildMonomial(x,b);c=c.addOrSubtract(j),h=h.addOrSubtract(O)}return[c,h]}toString(){let a="";for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);if(c!==0){if(c<0?(a+=" - ",c=-c):a.length>0&&(a+=" + "),l===0||c!==1){const h=this.field.log(c);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}l!==0&&(l===1?a+="x":(a+="x^",a+=l))}}return a}}class ue extends d{}ue.kind="ArithmeticException";class Ae extends Ce{constructor(a,l,c){super(),this.primitive=a,this.size=l,this.generatorBase=c;const h=new Int32Array(l);let p=1;for(let x=0;x<l;x++)h[x]=p,p*=2,p>=l&&(p^=a,p&=l-1);this.expTable=h;const y=new Int32Array(l);for(let x=0;x<l-1;x++)y[h[x]]=x;this.logTable=y,this.zero=new pe(this,Int32Array.from([0])),this.one=new pe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new v;if(l===0)return this.zero;const c=new Int32Array(a+1);return c[0]=l,new pe(this,c)}inverse(a){if(a===0)throw new ue;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}Ae.AZTEC_DATA_12=new Ae(4201,4096,1),Ae.AZTEC_DATA_10=new Ae(1033,1024,1),Ae.AZTEC_DATA_6=new Ae(67,64,1),Ae.AZTEC_PARAM=new Ae(19,16,1),Ae.QR_CODE_FIELD_256=new Ae(285,256,0),Ae.DATA_MATRIX_FIELD_256=new Ae(301,256,1),Ae.AZTEC_DATA_8=Ae.DATA_MATRIX_FIELD_256,Ae.MAXICODE_FIELD_64=Ae.AZTEC_DATA_6;class Re extends d{}Re.kind="ReedSolomonException";class st extends d{}st.kind="IllegalStateException";class ft{constructor(a){this.field=a}decode(a,l){const c=this.field,h=new pe(c,a),p=new Int32Array(l);let y=!0;for(let W=0;W<l;W++){const G=h.evaluateAt(c.exp(W+c.getGeneratorBase()));p[p.length-1-W]=G,G!==0&&(y=!1)}if(y)return;const x=new pe(c,p),b=this.runEuclideanAlgorithm(c.buildMonomial(l,1),x,l),O=b[0],j=b[1],D=this.findErrorLocations(O),$=this.findErrorMagnitudes(j,D);for(let W=0;W<D.length;W++){const G=a.length-1-c.log(D[W]);if(G<0)throw new Re("Bad error location");a[G]=Ae.addOrSubtract(a[G],$[W])}}runEuclideanAlgorithm(a,l,c){if(a.getDegree()<l.getDegree()){const W=a;a=l,l=W}const h=this.field;let p=a,y=l,x=h.getZero(),b=h.getOne();for(;y.getDegree()>=(c/2|0);){let W=p,G=x;if(p=y,x=b,p.isZero())throw new Re("r_{i-1} was zero");y=W;let q=h.getZero();const te=p.getCoefficient(p.getDegree()),oe=h.inverse(te);for(;y.getDegree()>=p.getDegree()&&!y.isZero();){const ye=y.getDegree()-p.getDegree(),xe=h.multiply(y.getCoefficient(y.getDegree()),oe);q=q.addOrSubtract(h.buildMonomial(ye,xe)),y=y.addOrSubtract(p.multiplyByMonomial(ye,xe))}if(b=q.multiply(x).addOrSubtract(G),y.getDegree()>=p.getDegree())throw new st("Division algorithm failed to reduce polynomial?")}const O=b.getCoefficient(0);if(O===0)throw new Re("sigmaTilde(0) was zero");const j=h.inverse(O),D=b.multiplyScalar(j),$=y.multiplyScalar(j);return[D,$]}findErrorLocations(a){const l=a.getDegree();if(l===1)return Int32Array.from([a.getCoefficient(1)]);const c=new Int32Array(l);let h=0;const p=this.field;for(let y=1;y<p.getSize()&&h<l;y++)a.evaluateAt(y)===0&&(c[h]=p.inverse(y),h++);if(h!==l)throw new Re("Error locator degree does not match number of roots");return c}findErrorMagnitudes(a,l){const c=l.length,h=new Int32Array(c),p=this.field;for(let y=0;y<c;y++){const x=p.inverse(l[y]);let b=1;for(let O=0;O<c;O++)if(y!==O){const j=p.multiply(l[O],x),D=j&1?j&-2:j|1;b=p.multiply(b,D)}h[y]=p.multiply(a.evaluateAt(x),p.inverse(b)),p.getGeneratorBase()!==0&&(h[y]=p.multiply(h[y],x))}return h}}var Qe;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(Qe||(Qe={}));class Je{decode(a){this.ddata=a;let l=a.getBits(),c=this.extractBits(l),h=this.correctBits(c),p=Je.convertBoolArrayToByteArray(h),y=Je.getEncodedData(h),x=new be(p,y,null,null);return x.setNumBits(h.length),x}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,c=Qe.UPPER,h=Qe.UPPER,p="",y=0;for(;y<l;)if(h===Qe.BINARY){if(l-y<5)break;let x=Je.readCode(a,y,5);if(y+=5,x===0){if(l-y<11)break;x=Je.readCode(a,y,11)+31,y+=11}for(let b=0;b<x;b++){if(l-y<8){y=l;break}const O=Je.readCode(a,y,8);p+=U.castAsNonUtf8Char(O),y+=8}h=c}else{let x=h===Qe.DIGIT?4:5;if(l-y<x)break;let b=Je.readCode(a,y,x);y+=x;let O=Je.getCharacter(h,b);O.startsWith("CTRL_")?(c=h,h=Je.getTable(O.charAt(5)),O.charAt(6)==="L"&&(c=h)):(p+=O,h=c)}return p}static getTable(a){switch(a){case"L":return Qe.LOWER;case"P":return Qe.PUNCT;case"M":return Qe.MIXED;case"D":return Qe.DIGIT;case"B":return Qe.BINARY;case"U":default:return Qe.UPPER}}static getCharacter(a,l){switch(a){case Qe.UPPER:return Je.UPPER_TABLE[l];case Qe.LOWER:return Je.LOWER_TABLE[l];case Qe.MIXED:return Je.MIXED_TABLE[l];case Qe.PUNCT:return Je.PUNCT_TABLE[l];case Qe.DIGIT:return Je.DIGIT_TABLE[l];default:throw new st("Bad table")}}correctBits(a){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=Ae.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=Ae.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=Ae.AZTEC_DATA_10):(c=12,l=Ae.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),p=a.length/c;if(p<h)throw new R;let y=a.length%c,x=new Int32Array(p);for(let $=0;$<p;$++,y+=c)x[$]=Je.readCode(a,y,c);try{new ft(l).decode(x,p-h)}catch($){throw new R($)}let b=(1<<c)-1,O=0;for(let $=0;$<h;$++){let W=x[$];if(W===0||W===b)throw new R;(W===1||W===b-1)&&O++}let j=new Array(h*c-O),D=0;for(let $=0;$<h;$++){let W=x[$];if(W===1||W===b-1)j.fill(W>1,D,D+c-1),D+=c-1;else for(let G=c-1;G>=0;--G)j[D++]=(W&1<<G)!==0}return j}extractBits(a){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),h=(l?11:14)+c*4,p=new Int32Array(h),y=new Array(this.totalBitsInLayer(c,l));if(l)for(let x=0;x<p.length;x++)p[x]=x;else{let x=h+1+2*T.truncDivision(T.truncDivision(h,2)-1,15),b=h/2,O=T.truncDivision(x,2);for(let j=0;j<b;j++){let D=j+T.truncDivision(j,15);p[b-j-1]=O-D-1,p[b+j]=O+D+1}}for(let x=0,b=0;x<c;x++){let O=(c-x)*4+(l?9:12),j=x*2,D=h-1-j;for(let $=0;$<O;$++){let W=$*2;for(let G=0;G<2;G++)y[b+W+G]=a.get(p[j+G],p[j+$]),y[b+2*O+W+G]=a.get(p[j+$],p[D-G]),y[b+4*O+W+G]=a.get(p[D-G],p[D-$]),y[b+6*O+W+G]=a.get(p[D-$],p[j+G])}b+=O*8}return y}static readCode(a,l,c){let h=0;for(let p=l;p<l+c;p++)h<<=1,a[p]&&(h|=1);return h}static readByte(a,l){let c=a.length-l;return c>=8?Je.readCode(a,l,8):Je.readCode(a,l,c)<<8-c}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let c=0;c<l.length;c++)l[c]=Je.readByte(a,8*c);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}Je.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Je.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Je.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Je.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Je.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ke{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,l,c,h){const p=a-c,y=l-h;return Math.sqrt(p*p+y*y)}static sum(a){let l=0;for(let c=0,h=a.length;c!==h;c++){const p=a[c];l+=p}return l}}class zr{static floatToIntBits(a){return a}}zr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(a,l){this.x=a,this.y=l}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof Oe){const l=a;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*zr.floatToIntBits(this.x)+zr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const l=this.distance(a[0],a[1]),c=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let p,y,x;if(c>=l&&c>=h?(y=a[0],p=a[1],x=a[2]):h>=c&&h>=l?(y=a[1],p=a[0],x=a[2]):(y=a[2],p=a[0],x=a[1]),this.crossProductZ(p,y,x)<0){const b=p;p=x,x=b}a[0]=p,a[1]=y,a[2]=x}static distance(a,l){return Ke.distance(a.x,a.y,l.x,l.y)}static crossProductZ(a,l,c){const h=l.x,p=l.y;return(c.x-h)*(a.y-p)-(c.y-p)*(a.x-h)}}class Pr{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class $e extends Pr{constructor(a,l,c,h,p){super(a,l),this.compact=c,this.nbDatablocks=h,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Me{constructor(a,l,c,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),l==null&&(l=Me.INIT_SIZE),c==null&&(c=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const p=l/2|0;if(this.leftInit=c-p,this.rightInit=c+p,this.upInit=h-p,this.downInit=h+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let a=this.leftInit,l=this.rightInit,c=this.upInit,h=this.downInit,p=!1,y=!0,x=!1,b=!1,O=!1,j=!1,D=!1;const $=this.width,W=this.height;for(;y;){y=!1;let G=!0;for(;(G||!b)&&l<$;)G=this.containsBlackPoint(c,h,l,!1),G?(l++,y=!0,b=!0):b||l++;if(l>=$){p=!0;break}let q=!0;for(;(q||!O)&&h<W;)q=this.containsBlackPoint(a,l,h,!0),q?(h++,y=!0,O=!0):O||h++;if(h>=W){p=!0;break}let te=!0;for(;(te||!j)&&a>=0;)te=this.containsBlackPoint(c,h,a,!1),te?(a--,y=!0,j=!0):j||a--;if(a<0){p=!0;break}let oe=!0;for(;(oe||!D)&&c>=0;)oe=this.containsBlackPoint(a,l,c,!0),oe?(c--,y=!0,D=!0):D||c--;if(c<0){p=!0;break}y&&(x=!0)}if(!p&&x){const G=l-a;let q=null;for(let xe=1;q===null&&xe<G;xe++)q=this.getBlackPointOnSegment(a,h-xe,a+xe,h);if(q==null)throw new H;let te=null;for(let xe=1;te===null&&xe<G;xe++)te=this.getBlackPointOnSegment(a,c+xe,a+xe,c);if(te==null)throw new H;let oe=null;for(let xe=1;oe===null&&xe<G;xe++)oe=this.getBlackPointOnSegment(l,c+xe,l-xe,c);if(oe==null)throw new H;let ye=null;for(let xe=1;ye===null&&xe<G;xe++)ye=this.getBlackPointOnSegment(l,h-xe,l-xe,h);if(ye==null)throw new H;return this.centerEdges(ye,q,oe,te)}else throw new H}getBlackPointOnSegment(a,l,c,h){const p=Ke.round(Ke.distance(a,l,c,h)),y=(c-a)/p,x=(h-l)/p,b=this.image;for(let O=0;O<p;O++){const j=Ke.round(a+O*y),D=Ke.round(l+O*x);if(b.get(j,D))return new Oe(j,D)}return null}centerEdges(a,l,c,h){const p=a.getX(),y=a.getY(),x=l.getX(),b=l.getY(),O=c.getX(),j=c.getY(),D=h.getX(),$=h.getY(),W=Me.CORR;return p<this.width/2?[new Oe(D-W,$+W),new Oe(x+W,b+W),new Oe(O-W,j-W),new Oe(p+W,y-W)]:[new Oe(D+W,$+W),new Oe(x+W,b-W),new Oe(O-W,j+W),new Oe(p-W,y-W)]}containsBlackPoint(a,l,c,h){const p=this.image;if(h){for(let y=a;y<=l;y++)if(p.get(y,c))return!0}else for(let y=a;y<=l;y++)if(p.get(c,y))return!0;return!1}}Me.INIT_SIZE=10,Me.CORR=1;class fe{static checkAndNudgePoints(a,l){const c=a.getWidth(),h=a.getHeight();let p=!0;for(let y=0;y<l.length&&p;y+=2){const x=Math.floor(l[y]),b=Math.floor(l[y+1]);if(x<-1||x>c||b<-1||b>h)throw new H;p=!1,x===-1?(l[y]=0,p=!0):x===c&&(l[y]=c-1,p=!0),b===-1?(l[y+1]=0,p=!0):b===h&&(l[y+1]=h-1,p=!0)}p=!0;for(let y=l.length-2;y>=0&&p;y-=2){const x=Math.floor(l[y]),b=Math.floor(l[y+1]);if(x<-1||x>c||b<-1||b>h)throw new H;p=!1,x===-1?(l[y]=0,p=!0):x===c&&(l[y]=c-1,p=!0),b===-1?(l[y+1]=0,p=!0):b===h&&(l[y+1]=h-1,p=!0)}}}class De{constructor(a,l,c,h,p,y,x,b,O){this.a11=a,this.a21=l,this.a31=c,this.a12=h,this.a22=p,this.a32=y,this.a13=x,this.a23=b,this.a33=O}static quadrilateralToQuadrilateral(a,l,c,h,p,y,x,b,O,j,D,$,W,G,q,te){const oe=De.quadrilateralToSquare(a,l,c,h,p,y,x,b);return De.squareToQuadrilateral(O,j,D,$,W,G,q,te).times(oe)}transformPoints(a){const l=a.length,c=this.a11,h=this.a12,p=this.a13,y=this.a21,x=this.a22,b=this.a23,O=this.a31,j=this.a32,D=this.a33;for(let $=0;$<l;$+=2){const W=a[$],G=a[$+1],q=p*W+b*G+D;a[$]=(c*W+y*G+O)/q,a[$+1]=(h*W+x*G+j)/q}}transformPointsWithValues(a,l){const c=this.a11,h=this.a12,p=this.a13,y=this.a21,x=this.a22,b=this.a23,O=this.a31,j=this.a32,D=this.a33,$=a.length;for(let W=0;W<$;W++){const G=a[W],q=l[W],te=p*G+b*q+D;a[W]=(c*G+y*q+O)/te,l[W]=(h*G+x*q+j)/te}}static squareToQuadrilateral(a,l,c,h,p,y,x,b){const O=a-c+p-x,j=l-h+y-b;if(O===0&&j===0)return new De(c-a,p-c,a,h-l,y-h,l,0,0,1);{const D=c-p,$=x-p,W=h-y,G=b-y,q=D*G-$*W,te=(O*G-$*j)/q,oe=(D*j-O*W)/q;return new De(c-a+te*c,x-a+oe*x,a,h-l+te*h,b-l+oe*b,l,te,oe,1)}}static quadrilateralToSquare(a,l,c,h,p,y,x,b){return De.squareToQuadrilateral(a,l,c,h,p,y,x,b).buildAdjoint()}buildAdjoint(){return new De(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new De(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class Xe extends fe{sampleGrid(a,l,c,h,p,y,x,b,O,j,D,$,W,G,q,te,oe,ye,xe){const ge=De.quadrilateralToQuadrilateral(h,p,y,x,b,O,j,D,$,W,G,q,te,oe,ye,xe);return this.sampleGridWithTransform(a,l,c,ge)}sampleGridWithTransform(a,l,c,h){if(l<=0||c<=0)throw new H;const p=new Q(l,c),y=new Float32Array(2*l);for(let x=0;x<c;x++){const b=y.length,O=x+.5;for(let j=0;j<b;j+=2)y[j]=j/2+.5,y[j+1]=O;h.transformPoints(y),fe.checkAndNudgePoints(a,y);try{for(let j=0;j<b;j+=2)a.get(Math.floor(y[j]),Math.floor(y[j+1]))&&p.set(j/2,x)}catch{throw new H}}return p}}class _e{static setGridSampler(a){_e.gridSampler=a}static getInstance(){return _e.gridSampler}}_e.gridSampler=new Xe;class Be{constructor(a,l){this.x=a,this.y=l}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let l=this.getMatrixCenter(),c=this.getBullsEyeCorners(l);if(a){let y=c[0];c[0]=c[2],c[2]=y}this.extractParameters(c);let h=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),p=this.getMatrixCornerPoints(c);return new $e(h,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new H;let l=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(a[0],a[1],l),this.sampleLine(a[1],a[2],l),this.sampleLine(a[2],a[3],l),this.sampleLine(a[3],a[0],l)]);this.shift=this.getRotation(c,l);let h=0;for(let y=0;y<4;y++){let x=c[(this.shift+y)%4];this.compact?(h<<=7,h+=x>>1&127):(h<<=10,h+=(x>>2&992)+(x>>1&31))}let p=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(a,l){let c=0;a.forEach((h,p,y)=>{let x=(h>>l-2<<1)+(h&1);c=(c<<3)+x}),c=((c&1)<<11)+(c>>1);for(let h=0;h<4;h++)if(T.bitCount(c^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new H}getCorrectedParameterData(a,l){let c,h;l?(c=7,h=2):(c=10,h=4);let p=c-h,y=new Int32Array(c);for(let b=c-1;b>=0;--b)y[b]=a&15,a>>=4;try{new ft(Ae.AZTEC_PARAM).decode(y,p)}catch{throw new H}let x=0;for(let b=0;b<h;b++)x=(x<<4)+y[b];return x}getBullsEyeCorners(a){let l=a,c=a,h=a,p=a,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(l,y,1,-1),$=this.getFirstDifferent(c,y,1,1),W=this.getFirstDifferent(h,y,-1,1),G=this.getFirstDifferent(p,y,-1,-1);if(this.nbCenterLayers>2){let q=this.distancePoint(G,D)*this.nbCenterLayers/(this.distancePoint(p,l)*(this.nbCenterLayers+2));if(q<.75||q>1.25||!this.isWhiteOrBlackRectangle(D,$,W,G))break}l=D,c=$,h=W,p=G,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let x=new Oe(l.getX()+.5,l.getY()-.5),b=new Oe(c.getX()+.5,c.getY()+.5),O=new Oe(h.getX()-.5,h.getY()+.5),j=new Oe(p.getX()-.5,p.getY()-.5);return this.expandSquare([x,b,O,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,l,c,h;try{let x=new Me(this.image).detect();a=x[0],l=x[1],c=x[2],h=x[3]}catch{let b=this.image.getWidth()/2,O=this.image.getHeight()/2;a=this.getFirstDifferent(new Be(b+7,O-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Be(b+7,O+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Be(b-7,O+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Be(b-7,O-7),!1,-1,-1).toResultPoint()}let p=Ke.round((a.getX()+h.getX()+l.getX()+c.getX())/4),y=Ke.round((a.getY()+h.getY()+l.getY()+c.getY())/4);try{let x=new Me(this.image,15,p,y).detect();a=x[0],l=x[1],c=x[2],h=x[3]}catch{a=this.getFirstDifferent(new Be(p+7,y-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Be(p+7,y+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Be(p-7,y+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Be(p-7,y-7),!1,-1,-1).toResultPoint()}return p=Ke.round((a.getX()+h.getX()+l.getX()+c.getX())/4),y=Ke.round((a.getY()+h.getY()+l.getY()+c.getY())/4),new Be(p,y)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,l,c,h,p){let y=_e.getInstance(),x=this.getDimension(),b=x/2-this.nbCenterLayers,O=x/2+this.nbCenterLayers;return y.sampleGrid(a,x,x,b,b,O,b,O,O,b,O,l.getX(),l.getY(),c.getX(),c.getY(),h.getX(),h.getY(),p.getX(),p.getY())}sampleLine(a,l,c){let h=0,p=this.distanceResultPoint(a,l),y=p/c,x=a.getX(),b=a.getY(),O=y*(l.getX()-a.getX())/p,j=y*(l.getY()-a.getY())/p;for(let D=0;D<c;D++)this.image.get(Ke.round(x+D*O),Ke.round(b+D*j))&&(h|=1<<c-D-1);return h}isWhiteOrBlackRectangle(a,l,c,h){let p=3;a=new Be(a.getX()-p,a.getY()+p),l=new Be(l.getX()-p,l.getY()-p),c=new Be(c.getX()+p,c.getY()-p),h=new Be(h.getX()+p,h.getY()+p);let y=this.getColor(h,a);if(y===0)return!1;let x=this.getColor(a,l);return x!==y||(x=this.getColor(l,c),x!==y)?!1:(x=this.getColor(c,h),x===y)}getColor(a,l){let c=this.distancePoint(a,l),h=(l.getX()-a.getX())/c,p=(l.getY()-a.getY())/c,y=0,x=a.getX(),b=a.getY(),O=this.image.get(a.getX(),a.getY()),j=Math.ceil(c);for(let $=0;$<j;$++)x+=h,b+=p,this.image.get(Ke.round(x),Ke.round(b))!==O&&y++;let D=y/c;return D>.1&&D<.9?0:D<=.1===O?1:-1}getFirstDifferent(a,l,c,h){let p=a.getX()+c,y=a.getY()+h;for(;this.isValid(p,y)&&this.image.get(p,y)===l;)p+=c,y+=h;for(p-=c,y-=h;this.isValid(p,y)&&this.image.get(p,y)===l;)p+=c;for(p-=c;this.isValid(p,y)&&this.image.get(p,y)===l;)y+=h;return y-=h,new Be(p,y)}expandSquare(a,l,c){let h=c/(2*l),p=a[0].getX()-a[2].getX(),y=a[0].getY()-a[2].getY(),x=(a[0].getX()+a[2].getX())/2,b=(a[0].getY()+a[2].getY())/2,O=new Oe(x+h*p,b+h*y),j=new Oe(x-h*p,b-h*y);p=a[1].getX()-a[3].getX(),y=a[1].getY()-a[3].getY(),x=(a[1].getX()+a[3].getX())/2,b=(a[1].getY()+a[3].getY())/2;let D=new Oe(x+h*p,b+h*y),$=new Oe(x-h*p,b-h*y);return[O,D,j,$]}isValid(a,l){return a>=0&&a<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(a){let l=Ke.round(a.getX()),c=Ke.round(a.getY());return this.isValid(l,c)}distancePoint(a,l){return Ke.distance(a.getX(),a.getY(),l.getX(),l.getY())}distanceResultPoint(a,l){return Ke.distance(a.getX(),a.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class at{decode(a,l=null){let c=null,h=new Mt(a.getBlackMatrix()),p=null,y=null;try{let j=h.detectMirror(!1);p=j.getPoints(),this.reportFoundResultPoints(l,p),y=new Je().decode(j)}catch(j){c=j}if(y==null)try{let j=h.detectMirror(!0);p=j.getPoints(),this.reportFoundResultPoints(l,p),y=new Je().decode(j)}catch(j){throw c??j}let x=new Te(y.getText(),y.getRawBytes(),y.getNumBits(),p,we.AZTEC,_.currentTimeMillis()),b=y.getByteSegments();b!=null&&x.putMetadata(rt.BYTE_SEGMENTS,b);let O=y.getECLevel();return O!=null&&x.putMetadata(rt.ERROR_CORRECTION_LEVEL,O),x}reportFoundResultPoints(a,l){if(a!=null){let c=a.get(k.NEED_RESULT_POINT_CALLBACK);c!=null&&l.forEach((h,p,y)=>{c.foundPossibleResultPoint(h)})}}reset(){}}class wt extends Se{constructor(a=500){super(new at,a)}}class et{decode(a,l){try{return this.doDecode(a,l)}catch{if(l&&l.get(k.TRY_HARDER)===!0&&a.isRotateSupported()){const p=a.rotateCounterClockwise(),y=this.doDecode(p,l),x=y.getResultMetadata();let b=270;x!==null&&x.get(rt.ORIENTATION)===!0&&(b=b+x.get(rt.ORIENTATION)%360),y.putMetadata(rt.ORIENTATION,b);const O=y.getResultPoints();if(O!==null){const j=p.getHeight();for(let D=0;D<O.length;D++)O[D]=new Oe(j-O[D].getY()-1,O[D].getX())}return y}else throw new H}}reset(){}doDecode(a,l){const c=a.getWidth(),h=a.getHeight();let p=new I(c);const y=l&&l.get(k.TRY_HARDER)===!0,x=Math.max(1,h>>(y?8:5));let b;y?b=h:b=15;const O=Math.trunc(h/2);for(let j=0;j<b;j++){const D=Math.trunc((j+1)/2),$=(j&1)===0,W=O+x*($?D:-D);if(W<0||W>=h)break;try{p=a.getBlackRow(W,p)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(p.reverse(),l&&l.get(k.NEED_RESULT_POINT_CALLBACK)===!0)){const q=new Map;l.forEach((te,oe)=>q.set(oe,te)),q.delete(k.NEED_RESULT_POINT_CALLBACK),l=q}try{const q=this.decodeRow(W,p,l);if(G===1){q.putMetadata(rt.ORIENTATION,180);const te=q.getResultPoints();te!==null&&(te[0]=new Oe(c-te[0].getX()-1,te[0].getY()),te[1]=new Oe(c-te[1].getX()-1,te[1].getY()))}return q}catch{}}}throw new H}static recordPattern(a,l,c){const h=c.length;for(let O=0;O<h;O++)c[O]=0;const p=a.getSize();if(l>=p)throw new H;let y=!a.get(l),x=0,b=l;for(;b<p;){if(a.get(b)!==y)c[x]++;else{if(++x===h)break;c[x]=1,y=!y}b++}if(!(x===h||x===h-1&&b===p))throw new H}static recordPatternInReverse(a,l,c){let h=c.length,p=a.get(l);for(;l>0&&h>=0;)a.get(--l)!==p&&(h--,p=!p);if(h>=0)throw new H;et.recordPattern(a,l+1,c)}static patternMatchVariance(a,l,c){const h=a.length;let p=0,y=0;for(let O=0;O<h;O++)p+=a[O],y+=l[O];if(p<y)return Number.POSITIVE_INFINITY;const x=p/y;c*=x;let b=0;for(let O=0;O<h;O++){const j=a[O],D=l[O]*x,$=j>D?j-D:D-j;if($>c)return Number.POSITIVE_INFINITY;b+=$}return b/p}}class ve extends et{static findStartPattern(a){const l=a.getSize(),c=a.getNextSet(0);let h=0,p=Int32Array.from([0,0,0,0,0,0]),y=c,x=!1;const b=6;for(let O=c;O<l;O++)if(a.get(O)!==x)p[h]++;else{if(h===b-1){let j=ve.MAX_AVG_VARIANCE,D=-1;for(let $=ve.CODE_START_A;$<=ve.CODE_START_C;$++){const W=et.patternMatchVariance(p,ve.CODE_PATTERNS[$],ve.MAX_INDIVIDUAL_VARIANCE);W<j&&(j=W,D=$)}if(D>=0&&a.isRange(Math.max(0,y-(O-y)/2),y,!1))return Int32Array.from([y,O,D]);y+=p[0]+p[1],p=p.slice(2,p.length-1),p[h-1]=0,p[h]=0,h--}else h++;p[h]=1,x=!x}throw new H}static decodeCode(a,l,c){et.recordPattern(a,c,l);let h=ve.MAX_AVG_VARIANCE,p=-1;for(let y=0;y<ve.CODE_PATTERNS.length;y++){const x=ve.CODE_PATTERNS[y],b=this.patternMatchVariance(l,x,ve.MAX_INDIVIDUAL_VARIANCE);b<h&&(h=b,p=y)}if(p>=0)return p;throw new H}decodeRow(a,l,c){const h=c&&c.get(k.ASSUME_GS1)===!0,p=ve.findStartPattern(l),y=p[2];let x=0;const b=new Uint8Array(20);b[x++]=y;let O;switch(y){case ve.CODE_START_A:O=ve.CODE_CODE_A;break;case ve.CODE_START_B:O=ve.CODE_CODE_B;break;case ve.CODE_START_C:O=ve.CODE_CODE_C;break;default:throw new R}let j=!1,D=!1,$="",W=p[0],G=p[1];const q=Int32Array.from([0,0,0,0,0,0]);let te=0,oe=0,ye=y,xe=0,ge=!0,ct=!1,Ye=!1;for(;!j;){const xo=D;switch(D=!1,te=oe,oe=ve.decodeCode(l,q,G),b[x++]=oe,oe!==ve.CODE_STOP&&(ge=!0),oe!==ve.CODE_STOP&&(xe++,ye+=xe*oe),W=G,G+=q.reduce((yk,vk)=>yk+vk,0),oe){case ve.CODE_START_A:case ve.CODE_START_B:case ve.CODE_START_C:throw new R}switch(O){case ve.CODE_CODE_A:if(oe<64)Ye===ct?$+=String.fromCharCode(32+oe):$+=String.fromCharCode(32+oe+128),Ye=!1;else if(oe<96)Ye===ct?$+=String.fromCharCode(oe-64):$+=String.fromCharCode(oe+64),Ye=!1;else switch(oe!==ve.CODE_STOP&&(ge=!1),oe){case ve.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case ve.CODE_FNC_2:case ve.CODE_FNC_3:break;case ve.CODE_FNC_4_A:!ct&&Ye?(ct=!0,Ye=!1):ct&&Ye?(ct=!1,Ye=!1):Ye=!0;break;case ve.CODE_SHIFT:D=!0,O=ve.CODE_CODE_B;break;case ve.CODE_CODE_B:O=ve.CODE_CODE_B;break;case ve.CODE_CODE_C:O=ve.CODE_CODE_C;break;case ve.CODE_STOP:j=!0;break}break;case ve.CODE_CODE_B:if(oe<96)Ye===ct?$+=String.fromCharCode(32+oe):$+=String.fromCharCode(32+oe+128),Ye=!1;else switch(oe!==ve.CODE_STOP&&(ge=!1),oe){case ve.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case ve.CODE_FNC_2:case ve.CODE_FNC_3:break;case ve.CODE_FNC_4_B:!ct&&Ye?(ct=!0,Ye=!1):ct&&Ye?(ct=!1,Ye=!1):Ye=!0;break;case ve.CODE_SHIFT:D=!0,O=ve.CODE_CODE_A;break;case ve.CODE_CODE_A:O=ve.CODE_CODE_A;break;case ve.CODE_CODE_C:O=ve.CODE_CODE_C;break;case ve.CODE_STOP:j=!0;break}break;case ve.CODE_CODE_C:if(oe<100)oe<10&&($+="0"),$+=oe;else switch(oe!==ve.CODE_STOP&&(ge=!1),oe){case ve.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case ve.CODE_CODE_A:O=ve.CODE_CODE_A;break;case ve.CODE_CODE_B:O=ve.CODE_CODE_B;break;case ve.CODE_STOP:j=!0;break}break}xo&&(O=O===ve.CODE_CODE_A?ve.CODE_CODE_B:ve.CODE_CODE_A)}const cn=G-W;if(G=l.getNextUnset(G),!l.isRange(G,Math.min(l.getSize(),G+(G-W)/2),!1))throw new H;if(ye-=xe*te,ye%103!==te)throw new S;const ai=$.length;if(ai===0)throw new H;ai>0&&ge&&(O===ve.CODE_CODE_C?$=$.substring(0,ai-2):$=$.substring(0,ai-1));const un=(p[1]+p[0])/2,jt=W+cn/2,Rr=b.length,Sn=new Uint8Array(Rr);for(let xo=0;xo<Rr;xo++)Sn[xo]=b[xo];const vo=[new Oe(un,a),new Oe(jt,a)];return new Te($,Sn,0,vo,we.CODE_128,new Date().getTime())}}ve.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ve.MAX_AVG_VARIANCE=.25,ve.MAX_INDIVIDUAL_VARIANCE=.7,ve.CODE_SHIFT=98,ve.CODE_CODE_C=99,ve.CODE_CODE_B=100,ve.CODE_CODE_A=101,ve.CODE_FNC_1=102,ve.CODE_FNC_2=97,ve.CODE_FNC_3=96,ve.CODE_FNC_4_A=101,ve.CODE_FNC_4_B=100,ve.CODE_START_A=103,ve.CODE_START_B=104,ve.CODE_START_C=105,ve.CODE_STOP=106;class pt extends et{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,c){let h=this.counters;h.fill(0),this.decodeRowResult="";let p=pt.findAsteriskPattern(l,h),y=l.getNextSet(p[1]),x=l.getSize(),b,O;do{pt.recordPattern(l,y,h);let q=pt.toNarrowWidePattern(h);if(q<0)throw new H;b=pt.patternToChar(q),this.decodeRowResult+=b,O=y;for(let te of h)y+=te;y=l.getNextSet(y)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let q of h)j+=q;let D=y-O-j;if(y!==x&&D*2<j)throw new H;if(this.usingCheckDigit){let q=this.decodeRowResult.length-1,te=0;for(let oe=0;oe<q;oe++)te+=pt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(oe));if(this.decodeRowResult.charAt(q)!==pt.ALPHABET_STRING.charAt(te%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,q)}if(this.decodeRowResult.length===0)throw new H;let $;this.extendedMode?$=pt.decodeExtended(this.decodeRowResult):$=this.decodeRowResult;let W=(p[1]+p[0])/2,G=O+j/2;return new Te($,null,0,[new Oe(W,a),new Oe(G,a)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(a,l){let c=a.getSize(),h=a.getNextSet(0),p=0,y=h,x=!1,b=l.length;for(let O=h;O<c;O++)if(a.get(O)!==x)l[p]++;else{if(p===b-1){if(this.toNarrowWidePattern(l)===pt.ASTERISK_ENCODING&&a.isRange(Math.max(0,y-Math.floor((O-y)/2)),y,!1))return[y,O];y+=l[0]+l[1],l.copyWithin(0,2,2+p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,x=!x}throw new H}static toNarrowWidePattern(a){let l=a.length,c=0,h;do{let p=2147483647;for(let b of a)b<p&&b>c&&(p=b);c=p,h=0;let y=0,x=0;for(let b=0;b<l;b++){let O=a[b];O>c&&(x|=1<<l-1-b,h++,y+=O)}if(h===3){for(let b=0;b<l&&h>0;b++){let O=a[b];if(O>c&&(h--,O*2>=y))return-1}return x}}while(h>3);return-1}static patternToChar(a){for(let l=0;l<pt.CHARACTER_ENCODINGS.length;l++)if(pt.CHARACTER_ENCODINGS[l]===a)return pt.ALPHABET_STRING.charAt(l);if(a===pt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(a){let l=a.length,c="";for(let h=0;h<l;h++){let p=a.charAt(h);if(p==="+"||p==="$"||p==="%"||p==="/"){let y=a.charAt(h+1),x="\0";switch(p){case"+":if(y>="A"&&y<="Z")x=String.fromCharCode(y.charCodeAt(0)+32);else throw new R;break;case"$":if(y>="A"&&y<="Z")x=String.fromCharCode(y.charCodeAt(0)-64);else throw new R;break;case"%":if(y>="A"&&y<="E")x=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")x=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")x=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")x=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")x="\0";else if(y==="V")x="@";else if(y==="W")x="`";else if(y==="X"||y==="Y"||y==="Z")x="";else throw new R;break;case"/":if(y>="A"&&y<="O")x=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")x=":";else throw new R;break}c+=x,h++}else c+=p}return c}}pt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",pt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],pt.ASTERISK_ENCODING=148;class vt extends et{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,l,c){let h=this.decodeStart(l),p=this.decodeEnd(l),y=new J;vt.decodeMiddle(l,h[1],p[0],y);let x=y.toString(),b=null;c!=null&&(b=c.get(k.ALLOWED_LENGTHS)),b==null&&(b=vt.DEFAULT_ALLOWED_LENGTHS);let O=x.length,j=!1,D=0;for(let G of b){if(O===G){j=!0;break}G>D&&(D=G)}if(!j&&O>D&&(j=!0),!j)throw new R;const $=[new Oe(h[1],a),new Oe(p[0],a)];return new Te(x,null,0,$,we.ITF,new Date().getTime())}static decodeMiddle(a,l,c,h){let p=new Int32Array(10),y=new Int32Array(5),x=new Int32Array(5);for(p.fill(0),y.fill(0),x.fill(0);l<c;){et.recordPattern(a,l,p);for(let O=0;O<5;O++){let j=2*O;y[O]=p[j],x[O]=p[j+1]}let b=vt.decodeDigit(y);h.append(b.toString()),b=this.decodeDigit(x),h.append(b.toString()),p.forEach(function(O){l+=O})}}decodeStart(a){let l=vt.skipWhiteSpace(a),c=vt.findGuardPattern(a,l,vt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(a,c[0]),c}validateQuietZone(a,l){let c=this.narrowLineWidth*10;c=c<l?c:l;for(let h=l-1;c>0&&h>=0&&!a.get(h);h--)c--;if(c!==0)throw new H}static skipWhiteSpace(a){const l=a.getSize(),c=a.getNextSet(0);if(c===l)throw new H;return c}decodeEnd(a){a.reverse();try{let l=vt.skipWhiteSpace(a),c;try{c=vt.findGuardPattern(a,l,vt.END_PATTERN_REVERSED[0])}catch(p){p instanceof H&&(c=vt.findGuardPattern(a,l,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,c[0]);let h=c[0];return c[0]=a.getSize()-c[1],c[1]=a.getSize()-h,c}finally{a.reverse()}}static findGuardPattern(a,l,c){let h=c.length,p=new Int32Array(h),y=a.getSize(),x=!1,b=0,O=l;p.fill(0);for(let j=l;j<y;j++)if(a.get(j)!==x)p[b]++;else{if(b===h-1){if(et.patternMatchVariance(p,c,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[O,j];O+=p[0]+p[1],_.arraycopy(p,2,p,0,b-1),p[b-1]=0,p[b]=0,b--}else b++;p[b]=1,x=!x}throw new H}static decodeDigit(a){let l=vt.MAX_AVG_VARIANCE,c=-1,h=vt.PATTERNS.length;for(let p=0;p<h;p++){let y=vt.PATTERNS[p],x=et.patternMatchVariance(a,y,vt.MAX_INDIVIDUAL_VARIANCE);x<l?(l=x,c=p):x===l&&(c=-1)}if(c>=0)return c%10;throw new H}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Tt extends et{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let l=!1,c,h=0,p=Int32Array.from([0,0,0]);for(;!l;){p=Int32Array.from([0,0,0]),c=Tt.findGuardPattern(a,h,!1,this.START_END_PATTERN,p);let y=c[0];h=c[1];let x=y-(h-y);x>=0&&(l=a.isRange(x,y,!1))}return c}static checkChecksum(a){return Tt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let c=parseInt(a.charAt(l-1),10);return Tt.getStandardUPCEANChecksum(a.substring(0,l-1))===c}static getStandardUPCEANChecksum(a){let l=a.length,c=0;for(let h=l-1;h>=0;h-=2){let p=a.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new R;c+=p}c*=3;for(let h=l-2;h>=0;h-=2){let p=a.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new R;c+=p}return(1e3-c)%10}static decodeEnd(a,l){return Tt.findGuardPattern(a,l,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,l,c,h){return this.findGuardPattern(a,l,c,h,new Int32Array(h.length))}static findGuardPattern(a,l,c,h,p){let y=a.getSize();l=c?a.getNextUnset(l):a.getNextSet(l);let x=0,b=l,O=h.length,j=c;for(let D=l;D<y;D++)if(a.get(D)!==j)p[x]++;else{if(x===O-1){if(et.patternMatchVariance(p,h,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return Int32Array.from([b,D]);b+=p[0]+p[1];let $=p.slice(2,p.length-1);for(let W=0;W<x-1;W++)p[W]=$[W];p[x-1]=0,p[x]=0,x--}else x++;p[x]=1,j=!j}throw new H}static decodeDigit(a,l,c,h){this.recordPattern(a,c,l);let p=this.MAX_AVG_VARIANCE,y=-1,x=h.length;for(let b=0;b<x;b++){let O=h[b],j=et.patternMatchVariance(l,O,Tt.MAX_INDIVIDUAL_VARIANCE);j<p&&(p=j,y=b)}if(y>=0)return y;throw new H}}Tt.MAX_AVG_VARIANCE=.48,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.START_END_PATTERN=Int32Array.from([1,1,1]),Tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class gc{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,c){let h=this.decodeRowStringBuffer,p=this.decodeMiddle(l,c,h),y=h.toString(),x=gc.parseExtensionString(y),b=[new Oe((c[0]+c[1])/2,a),new Oe(p,a)],O=new Te(y,null,0,b,we.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&O.putAllMetadata(x),O}decodeMiddle(a,l,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),y=l[1],x=0;for(let O=0;O<5&&y<p;O++){let j=Tt.decodeDigit(a,h,y,Tt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+j%10);for(let D of h)y+=D;j>=10&&(x|=1<<4-O),O!==4&&(y=a.getNextSet(y),y=a.getNextUnset(y))}if(c.length!==5)throw new H;let b=this.determineCheckDigit(x);if(gc.extensionChecksum(c.toString())!==b)throw new H;return y}static extensionChecksum(a){let l=a.length,c=0;for(let h=l-2;h>=0;h-=2)c+=a.charAt(h).charCodeAt(0)-48;c*=3;for(let h=l-1;h>=0;h-=2)c+=a.charAt(h).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(a){for(let l=0;l<10;l++)if(a===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new H}static parseExtensionString(a){if(a.length!==5)return null;let l=gc.parseExtension5String(a);return l==null?null:new Map([[rt.SUGGESTED_PRICE,l]])}static parseExtension5String(a){let l;switch(a.charAt(0)){case"0":l="£";break;case"5":l="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let c=parseInt(a.substring(1)),h=(c/100).toString(),p=c%100,y=p<10?"0"+p:p.toString();return l+h+"."+y}}class r1{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,c){let h=this.decodeRowStringBuffer,p=this.decodeMiddle(l,c,h),y=h.toString(),x=r1.parseExtensionString(y),b=[new Oe((c[0]+c[1])/2,a),new Oe(p,a)],O=new Te(y,null,0,b,we.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&O.putAllMetadata(x),O}decodeMiddle(a,l,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),y=l[1],x=0;for(let b=0;b<2&&y<p;b++){let O=Tt.decodeDigit(a,h,y,Tt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let j of h)y+=j;O>=10&&(x|=1<<1-b),b!==1&&(y=a.getNextSet(y),y=a.getNextUnset(y))}if(c.length!==2)throw new H;if(parseInt(c.toString())%4!==x)throw new H;return y}static parseExtensionString(a){return a.length!==2?null:new Map([[rt.ISSUE_NUMBER,parseInt(a)]])}}class Ww{static decodeRow(a,l,c){let h=Tt.findGuardPattern(l,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new gc().decodeRow(a,l,h)}catch{return new r1().decodeRow(a,l,h)}}}Ww.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class bt extends Tt{constructor(){super(),this.decodeRowStringBuffer="",bt.L_AND_G_PATTERNS=bt.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let l=bt.L_PATTERNS[a-10],c=new Int32Array(l.length);for(let h=0;h<l.length;h++)c[h]=l[l.length-h-1];bt.L_AND_G_PATTERNS[a]=c}}decodeRow(a,l,c){let h=bt.findStartGuardPattern(l),p=c==null?null:c.get(k.NEED_RESULT_POINT_CALLBACK);if(p!=null){const ge=new Oe((h[0]+h[1])/2,a);p.foundPossibleResultPoint(ge)}let y=this.decodeMiddle(l,h,this.decodeRowStringBuffer),x=y.rowOffset,b=y.resultString;if(p!=null){const ge=new Oe(x,a);p.foundPossibleResultPoint(ge)}let O=this.decodeEnd(l,x);if(p!=null){const ge=new Oe((O[0]+O[1])/2,a);p.foundPossibleResultPoint(ge)}let j=O[1],D=j+(j-O[0]);if(D>=l.getSize()||!l.isRange(j,D,!1))throw new H;let $=b.toString();if($.length<8)throw new R;if(!bt.checkChecksum($))throw new S;let W=(h[1]+h[0])/2,G=(O[1]+O[0])/2,q=this.getBarcodeFormat(),te=[new Oe(W,a),new Oe(G,a)],oe=new Te($,null,0,te,q,new Date().getTime()),ye=0;try{let ge=Ww.decodeRow(a,l,O[1]);oe.putMetadata(rt.UPC_EAN_EXTENSION,ge.getText()),oe.putAllMetadata(ge.getResultMetadata()),oe.addResultPoints(ge.getResultPoints()),ye=ge.getText().length}catch{}let xe=c==null?null:c.get(k.ALLOWED_EAN_EXTENSIONS);if(xe!=null){let ge=!1;for(let ct in xe)if(ye.toString()===ct){ge=!0;break}if(!ge)throw new H}return oe}decodeEnd(a,l){return bt.findGuardPattern(a,l,!1,bt.START_END_PATTERN,new Int32Array(bt.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return bt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let c=parseInt(a.charAt(l-1),10);return bt.getStandardUPCEANChecksum(a.substring(0,l-1))===c}static getStandardUPCEANChecksum(a){let l=a.length,c=0;for(let h=l-1;h>=0;h-=2){let p=a.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new R;c+=p}c*=3;for(let h=l-2;h>=0;h-=2){let p=a.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new R;c+=p}return(1e3-c)%10}}class la extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),y=l[1],x=0;for(let O=0;O<6&&y<p;O++){let j=bt.decodeDigit(a,h,y,bt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+j%10);for(let D of h)y+=D;j>=10&&(x|=1<<5-O)}c=la.determineFirstDigit(c,x),y=bt.findGuardPattern(a,y,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<6&&y<p;O++){let j=bt.decodeDigit(a,h,y,bt.L_PATTERNS);c+=String.fromCharCode(48+j);for(let D of h)y+=D}return{rowOffset:y,resultString:c}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(a,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return a=String.fromCharCode(48+c)+a,a;throw new H}}la.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Vw extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,c){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),y=l[1];for(let b=0;b<4&&y<p;b++){let O=bt.decodeDigit(a,h,y,bt.L_PATTERNS);c+=String.fromCharCode(48+O);for(let j of h)y+=j}y=bt.findGuardPattern(a,y,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&y<p;b++){let O=bt.decodeDigit(a,h,y,bt.L_PATTERNS);c+=String.fromCharCode(48+O);for(let j of h)y+=j}return{rowOffset:y,resultString:c}}getBarcodeFormat(){return we.EAN_8}}class Gw extends bt{constructor(){super(...arguments),this.ean13Reader=new la}getBarcodeFormat(){return we.UPC_A}decode(a,l){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,l,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,l,c))}decodeMiddle(a,l,c){return this.ean13Reader.decodeMiddle(a,l,c)}maybeReturnResult(a){let l=a.getText();if(l.charAt(0)==="0"){let c=new Te(l.substring(1),null,null,a.getResultPoints(),we.UPC_A);return a.getResultMetadata()!=null&&c.putAllMetadata(a.getResultMetadata()),c}else throw new H}reset(){this.ean13Reader.reset()}}class si extends bt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,l,c){const h=this.decodeMiddleCounters.map(O=>O);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const p=a.getSize();let y=l[1],x=0;for(let O=0;O<6&&y<p;O++){const j=si.decodeDigit(a,h,y,si.L_AND_G_PATTERNS);c+=String.fromCharCode(48+j%10);for(let D of h)y+=D;j>=10&&(x|=1<<5-O)}let b=si.determineNumSysAndCheckDigit(c,x);return{rowOffset:y,resultString:b}}decodeEnd(a,l){return si.findGuardPatternWithoutCounters(a,l,!0,si.MIDDLE_END_PATTERN)}checkChecksum(a){return bt.checkChecksum(si.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,l){for(let c=0;c<=1;c++)for(let h=0;h<10;h++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][h]){let p=String.fromCharCode(48+c),y=String.fromCharCode(48+h);return p+a+y}throw H.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(a){const l=a.slice(1,7).split("").map(p=>p.charCodeAt(0)),c=new J;c.append(a.charAt(0));let h=l[5];switch(h){case 0:case 1:case 2:c.appendChars(l,0,2),c.append(h),c.append("0000"),c.appendChars(l,2,3);break;case 3:c.appendChars(l,0,3),c.append("00000"),c.appendChars(l,3,2);break;case 4:c.appendChars(l,0,4),c.append("00000"),c.append(l[4]);break;default:c.appendChars(l,0,5),c.append("0000"),c.append(h);break}return a.length>=8&&c.append(a.charAt(7)),c.toString()}}si.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),si.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class n1 extends et{constructor(a){super();let l=a==null?null:a.get(k.POSSIBLE_FORMATS),c=[];n(l)?(c.push(new la),c.push(new Gw),c.push(new Vw),c.push(new si)):(l.indexOf(we.EAN_13)>-1&&c.push(new la),l.indexOf(we.UPC_A)>-1&&c.push(new Gw),l.indexOf(we.EAN_8)>-1&&c.push(new Vw),l.indexOf(we.UPC_E)>-1&&c.push(new si)),this.readers=c}decodeRow(a,l,c){for(let h of this.readers)try{const p=h.decodeRow(a,l,c),y=p.getBarcodeFormat()===we.EAN_13&&p.getText().charAt(0)==="0",x=c==null?null:c.get(k.POSSIBLE_FORMATS),b=x==null||x.includes(we.UPC_A);if(y&&b){const O=p.getRawBytes(),j=new Te(p.getText().substring(1),O,O?O.length:null,p.getResultPoints(),we.UPC_A);return j.putAllMetadata(p.getResultMetadata()),j}return p}catch{}throw new H}reset(){for(let a of this.readers)a.reset()}}class Hr extends et{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let c=0;c<l.length;c++)if(et.patternMatchVariance(a,l[c],Hr.MAX_INDIVIDUAL_VARIANCE)<Hr.MAX_AVG_VARIANCE)return c;throw new H}static count(a){return Ke.sum(new Int32Array(a))}static increment(a,l){let c=0,h=l[0];for(let p=1;p<a.length;p++)l[p]>h&&(h=l[p],c=p);a[c]++}static decrement(a,l){let c=0,h=l[0];for(let p=1;p<a.length;p++)l[p]<h&&(h=l[p],c=p);a[c]--}static isFinderPattern(a){let l=a[0]+a[1],c=l+a[2]+a[3],h=l/c;if(h>=Hr.MIN_FINDER_PATTERN_RATIO&&h<=Hr.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let x of a)x>y&&(y=x),x<p&&(p=x);return y<10*p}return!1}}Hr.MAX_AVG_VARIANCE=.2,Hr.MAX_INDIVIDUAL_VARIANCE=.45,Hr.MIN_FINDER_PATTERN_RATIO=9.5/12,Hr.MAX_FINDER_PATTERN_RATIO=12.5/14;class uo{constructor(a,l){this.value=a,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof uo))return!1;const l=a;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Vf{constructor(a,l,c,h,p){this.value=a,this.startEnd=l,this.value=a,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Oe(c,p)),this.resultPoints.push(new Oe(h,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof Vf))return!1;const l=a;return this.value===l.value}hashCode(){return this.value}}class _i{constructor(){}static getRSSvalue(a,l,c){let h=0;for(let b of a)h+=b;let p=0,y=0,x=a.length;for(let b=0;b<x-1;b++){let O;for(O=1,y|=1<<b;O<a[b];O++,y&=~(1<<b)){let j=_i.combins(h-O-1,x-b-2);if(c&&y===0&&h-O-(x-b-1)>=x-b-1&&(j-=_i.combins(h-O-(x-b),x-b-2)),x-b-1>1){let D=0;for(let $=h-O-(x-b-2);$>l;$--)D+=_i.combins(h-O-$-1,x-b-3);j-=D*(x-1-b)}else h-O>l&&j--;p+=j}h-=O}return p}static combins(a,l){let c,h;a-l>l?(h=l,c=a-l):(h=a-l,c=l);let p=1,y=1;for(let x=a;x>c;x--)p*=x,y<=h&&(p/=y,y++);for(;y<=h;)p/=y,y++;return p}}class H4{static buildBitArray(a){let l=a.length*2-1;a[a.length-1].getRightChar()==null&&(l-=1);let c=12*l,h=new I(c),p=0,x=a[0].getRightChar().getValue();for(let b=11;b>=0;--b)x&1<<b&&h.set(p),p++;for(let b=1;b<a.length;++b){let O=a[b],j=O.getLeftChar().getValue();for(let D=11;D>=0;--D)j&1<<D&&h.set(p),p++;if(O.getRightChar()!=null){let D=O.getRightChar().getValue();for(let $=11;$>=0;--$)D&1<<$&&h.set(p),p++}}return h}}class ca{constructor(a,l){l?this.decodedInformation=null:(this.finished=a,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class i1{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class an extends i1{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===an.FNC1}}an.FNC1="$";class ua extends i1{constructor(a,l,c){super(a),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Bn extends i1{constructor(a,l,c){if(super(a),l<0||l>10||c<0||c>10)throw new R;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Bn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Bn.FNC1}isAnyFNC1(){return this.firstDigit===Bn.FNC1||this.secondDigit===Bn.FNC1}}Bn.FNC1=10;class Ne{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new H;let l=a.substring(0,2);for(let p of Ne.TWO_DIGIT_DATA_LENGTH)if(p[0]===l)return p[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(2,p[2],a):Ne.processFixedAI(2,p[1],a);if(a.length<3)throw new H;let c=a.substring(0,3);for(let p of Ne.THREE_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(3,p[2],a):Ne.processFixedAI(3,p[1],a);for(let p of Ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(4,p[2],a):Ne.processFixedAI(4,p[1],a);if(a.length<4)throw new H;let h=a.substring(0,4);for(let p of Ne.FOUR_DIGIT_DATA_LENGTH)if(p[0]===h)return p[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(4,p[2],a):Ne.processFixedAI(4,p[1],a);throw new H}static processFixedAI(a,l,c){if(c.length<a)throw new H;let h=c.substring(0,a);if(c.length<a+l)throw new H;let p=c.substring(a,a+l),y=c.substring(a+l),x="("+h+")"+p,b=Ne.parseFieldsInGeneralPurpose(y);return b==null?x:x+b}static processVariableAI(a,l,c){let h=c.substring(0,a),p;c.length<a+l?p=c.length:p=a+l;let y=c.substring(a,p),x=c.substring(p),b="("+h+")"+y,O=Ne.parseFieldsInGeneralPurpose(x);return O==null?b:b+O}}Ne.VARIABLE_LENGTH=[],Ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ne.VARIABLE_LENGTH,20],["22",Ne.VARIABLE_LENGTH,29],["30",Ne.VARIABLE_LENGTH,8],["37",Ne.VARIABLE_LENGTH,8],["90",Ne.VARIABLE_LENGTH,30],["91",Ne.VARIABLE_LENGTH,30],["92",Ne.VARIABLE_LENGTH,30],["93",Ne.VARIABLE_LENGTH,30],["94",Ne.VARIABLE_LENGTH,30],["95",Ne.VARIABLE_LENGTH,30],["96",Ne.VARIABLE_LENGTH,30],["97",Ne.VARIABLE_LENGTH,3],["98",Ne.VARIABLE_LENGTH,30],["99",Ne.VARIABLE_LENGTH,30]],Ne.THREE_DIGIT_DATA_LENGTH=[["240",Ne.VARIABLE_LENGTH,30],["241",Ne.VARIABLE_LENGTH,30],["242",Ne.VARIABLE_LENGTH,6],["250",Ne.VARIABLE_LENGTH,30],["251",Ne.VARIABLE_LENGTH,30],["253",Ne.VARIABLE_LENGTH,17],["254",Ne.VARIABLE_LENGTH,20],["400",Ne.VARIABLE_LENGTH,30],["401",Ne.VARIABLE_LENGTH,30],["402",17],["403",Ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ne.VARIABLE_LENGTH,20],["421",Ne.VARIABLE_LENGTH,15],["422",3],["423",Ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ne.VARIABLE_LENGTH,15],["391",Ne.VARIABLE_LENGTH,18],["392",Ne.VARIABLE_LENGTH,15],["393",Ne.VARIABLE_LENGTH,18],["703",Ne.VARIABLE_LENGTH,30]],Ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ne.VARIABLE_LENGTH,20],["8003",Ne.VARIABLE_LENGTH,30],["8004",Ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ne.VARIABLE_LENGTH,30],["8008",Ne.VARIABLE_LENGTH,12],["8018",18],["8020",Ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ne.VARIABLE_LENGTH,70],["8200",Ne.VARIABLE_LENGTH,70]];class fo{constructor(a){this.buffer=new J,this.information=a}decodeAllCodes(a,l){let c=l,h=null;do{let p=this.decodeGeneralPurposeField(c,h),y=Ne.parseFieldsInGeneralPurpose(p.getNewString());if(y!=null&&a.append(y),p.isRemaining()?h=""+p.getRemainingValue():h=null,c===p.getNewPosition())break;c=p.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let l=a;l<a+3;++l)if(this.information.get(l))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(a,4);return p===0?new Bn(this.information.getSize(),Bn.FNC1,Bn.FNC1):new Bn(this.information.getSize(),p-1,Bn.FNC1)}let l=this.extractNumericValueFromBitArray(a,7),c=(l-8)/11,h=(l-8)%11;return new Bn(a+7,c,h)}extractNumericValueFromBitArray(a,l){return fo.extractNumericValueFromBitArray(this.information,a,l)}static extractNumericValueFromBitArray(a,l,c){let h=0;for(let p=0;p<c;++p)a.get(l+p)&&(h|=1<<c-p-1);return h}decodeGeneralPurposeField(a,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(a);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new ua(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new ua(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,l;do{let c=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),a=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),a=l.isFinished()):(l=this.parseNumericBlock(),a=l.isFinished()),!(c!==this.current.getPosition())&&!a)break}while(!a);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let l;return a.isSecondDigitFNC1()?l=new ua(this.current.getPosition(),this.buffer.toString()):l=new ua(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new ca(!0,l)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let l=new ua(this.current.getPosition(),this.buffer.toString());return new ca(!0,l)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ca(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new ua(this.current.getPosition(),this.buffer.toString());return new ca(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ca(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new ua(this.current.getPosition(),this.buffer.toString());return new ca(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ca(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,7);if(c>=64&&c<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new an(a+5,an.FNC1);if(l>=5&&l<15)return new an(a+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(a,7);if(c>=64&&c<90)return new an(a+7,""+(c+1));if(c>=90&&c<116)return new an(a+7,""+(c+7));let h=this.extractNumericValueFromBitArray(a,8),p;switch(h){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new R}return new an(a+8,p)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,6);return c>=16&&c<63}decodeAlphanumeric(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new an(a+5,an.FNC1);if(l>=5&&l<15)return new an(a+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(a,6);if(c>=32&&c<58)return new an(a+6,""+(c+33));let h;switch(c){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new st("Decoding invalid alphanumeric value: "+c)}return new an(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<5&&l+a<this.information.getSize();++l)if(l===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+l))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let l=a;l<a+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<4&&l+a<this.information.getSize();++l)if(this.information.get(a+l))return!1;return!0}}class s1{constructor(a){this.information=a,this.generalDecoder=new fo(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class on extends s1{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let c=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,c)}encodeCompressedGtinWithoutAI(a,l,c){for(let h=0;h<4;++h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*h,10);p/100===0&&a.append("0"),p/10===0&&a.append("0"),a.append(p)}on.appendCheckDigit(a,c)}static appendCheckDigit(a,l){let c=0;for(let h=0;h<13;h++){let p=a.charAt(h+l).charCodeAt(0)-48;c+=h&1?p:3*p}c=10-c%10,c===10&&(c=0),a.append(c)}}on.GTIN_SIZE=40;class ho extends on{constructor(a){super(a)}parseInformation(){let a=new J;a.append("(01)");let l=a.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(ho.HEADER_SIZE,4);return a.append(c),this.encodeCompressedGtinWithoutAI(a,ho.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,ho.HEADER_SIZE+44)}}ho.HEADER_SIZE=4;class Gf extends s1{constructor(a){super(a)}parseInformation(){let a=new J;return this.getGeneralDecoder().decodeAllCodes(a,Gf.HEADER_SIZE)}}Gf.HEADER_SIZE=5;class qf extends on{constructor(a){super(a)}encodeCompressedWeight(a,l,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l,c);this.addWeightCode(a,h);let p=this.checkWeight(h),y=1e5;for(let x=0;x<5;++x)p/y===0&&a.append("0"),y/=10;a.append(p)}}class Ci extends qf{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=Ci.HEADER_SIZE+qf.GTIN_SIZE+Ci.WEIGHT_SIZE)throw new H;let a=new J;return this.encodeCompressedGtin(a,Ci.HEADER_SIZE),this.encodeCompressedWeight(a,Ci.HEADER_SIZE+qf.GTIN_SIZE,Ci.WEIGHT_SIZE),a.toString()}}Ci.HEADER_SIZE=5,Ci.WEIGHT_SIZE=15;class W4 extends Ci{constructor(a){super(a)}addWeightCode(a,l){a.append("(3103)")}checkWeight(a){return a}}class V4 extends Ci{constructor(a){super(a)}addWeightCode(a,l){l<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class Oi extends on{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Oi.HEADER_SIZE+on.GTIN_SIZE)throw new H;let a=new J;this.encodeCompressedGtin(a,Oi.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Oi.HEADER_SIZE+on.GTIN_SIZE,Oi.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Oi.HEADER_SIZE+on.GTIN_SIZE+Oi.LAST_DIGIT_SIZE,null);return a.append(c.getNewString()),a.toString()}}Oi.HEADER_SIZE=8,Oi.LAST_DIGIT_SIZE=2;class Jr extends on{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Jr.HEADER_SIZE+on.GTIN_SIZE)throw new H;let a=new J;this.encodeCompressedGtin(a,Jr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Jr.HEADER_SIZE+on.GTIN_SIZE,Jr.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Jr.HEADER_SIZE+on.GTIN_SIZE+Jr.LAST_DIGIT_SIZE,Jr.FIRST_THREE_DIGITS_SIZE);c/100==0&&a.append("0"),c/10==0&&a.append("0"),a.append(c);let h=this.getGeneralDecoder().decodeGeneralPurposeField(Jr.HEADER_SIZE+on.GTIN_SIZE+Jr.LAST_DIGIT_SIZE+Jr.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}Jr.HEADER_SIZE=8,Jr.LAST_DIGIT_SIZE=2,Jr.FIRST_THREE_DIGITS_SIZE=10;class Gt extends qf{constructor(a,l,c){super(a),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=Gt.HEADER_SIZE+Gt.GTIN_SIZE+Gt.WEIGHT_SIZE+Gt.DATE_SIZE)throw new H;let a=new J;return this.encodeCompressedGtin(a,Gt.HEADER_SIZE),this.encodeCompressedWeight(a,Gt.HEADER_SIZE+Gt.GTIN_SIZE,Gt.WEIGHT_SIZE),this.encodeCompressedDate(a,Gt.HEADER_SIZE+Gt.GTIN_SIZE+Gt.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,Gt.DATE_SIZE);if(c==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=c%32;c/=32;let p=c%12+1;c/=12;let y=c;y/10==0&&a.append("0"),a.append(y),p/10==0&&a.append("0"),a.append(p),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}Gt.HEADER_SIZE=8,Gt.WEIGHT_SIZE=20,Gt.DATE_SIZE=16;function qw(M){try{if(M.get(1))return new ho(M);if(!M.get(2))return new Gf(M);switch(fo.extractNumericValueFromBitArray(M,1,4)){case 4:return new W4(M);case 5:return new V4(M)}switch(fo.extractNumericValueFromBitArray(M,1,5)){case 12:return new Oi(M);case 13:return new Jr(M)}switch(fo.extractNumericValueFromBitArray(M,1,7)){case 56:return new Gt(M,"310","11");case 57:return new Gt(M,"320","11");case 58:return new Gt(M,"310","13");case 59:return new Gt(M,"320","13");case 60:return new Gt(M,"310","15");case 61:return new Gt(M,"320","15");case 62:return new Gt(M,"310","17");case 63:return new Gt(M,"320","17")}}catch(a){throw console.log(a),new st("unknown decoder: "+M)}}class bs{constructor(a,l,c,h){this.leftchar=a,this.rightchar=l,this.finderpattern=c,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,l){return a instanceof bs?bs.equalsOrNull(a.leftchar,l.leftchar)&&bs.equalsOrNull(a.rightchar,l.rightchar)&&bs.equalsOrNull(a.finderpattern,l.finderpattern):!1}static equalsOrNull(a,l){return a===null?l===null:bs.equals(a,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class a1{constructor(a,l,c){this.pairs=a,this.rowNumber=l,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,l){return a instanceof a1?this.checkEqualitity(a,l)&&a.wasReversed===l.wasReversed:!1}checkEqualitity(a,l){if(!a||!l)return;let c;return a.forEach((h,p)=>{l.forEach(y=>{h.getLeftChar().getValue()===y.getLeftChar().getValue()&&h.getRightChar().getValue()===y.getRightChar().getValue()&&h.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(c=!0)})}),c}}class he extends Hr{constructor(a){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,l,c){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(a,l))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(a,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,l){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,a))}catch(p){if(p instanceof H){if(!this.pairs.length)throw new H;c=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new H}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return a&&(this.rows=this.rows.reverse()),l}checkRows(a,l){for(let c=l;c<this.rows.length;c++){let h=this.rows[c];this.pairs.length=0;for(let y of a)this.pairs.push(y.getPairs());if(this.pairs.push(h.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(a);p.push(h);try{return this.checkRows(p,c+1)}catch(y){this.verbose&&console.log(y)}}throw new H}static isValidSequence(a){for(let l of he.FINDER_PATTERN_SEQUENCES){if(a.length>l.length)continue;let c=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=l[h]){c=!1;break}if(c)return!0}return!1}storeRow(a,l){let c=0,h=!1,p=!1;for(;c<this.rows.length;){let y=this.rows[c];if(y.getRowNumber()>a){p=y.isEquivalent(this.pairs);break}h=y.isEquivalent(this.pairs),c++}p||h||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new a1(this.pairs,a,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,l){for(let c of l)if(c.getPairs().length!==a.length){for(let h of c.getPairs())for(let p of a)if(bs.equals(h,p))break}}static isPartialRow(a,l){for(let c of l){let h=!0;for(let p of a){let y=!1;for(let x of c.getPairs())if(p.equals(x)){y=!0;break}if(!y){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let l=H4.buildBitArray(a),h=qw(l).parseInformation(),p=a[0].getFinderPattern().getResultPoints(),y=a[a.length-1].getFinderPattern().getResultPoints(),x=[p[0],p[1],y[0],y[1]];return new Te(h,null,null,x,we.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),l=a.getLeftChar(),c=a.getRightChar();if(c==null)return!1;let h=c.getChecksumPortion(),p=2;for(let x=1;x<this.pairs.size();++x){let b=this.pairs.get(x);h+=b.getLeftChar().getChecksumPortion(),p++;let O=b.getRightChar();O!=null&&(h+=O.getChecksumPortion(),p++)}return h%=211,211*(p-4)+h==l.getValue()}static getNextSecondBar(a,l){let c;return a.get(l)?(c=a.getNextUnset(l),c=a.getNextSet(c)):(c=a.getNextSet(l),c=a.getNextUnset(c)),c}retrieveNextPair(a,l,c){let h=l.length%2==0;this.startFromEven&&(h=!h);let p,y=!0,x=-1;do this.findNextPair(a,l,x),p=this.parseFoundFinderPattern(a,c,h),p==null?x=he.getNextSecondBar(a,this.startEnd[0]):y=!1;while(y);let b=this.decodeDataCharacter(a,p,h,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new H;let O;try{O=this.decodeDataCharacter(a,p,h,!1)}catch(j){O=null,this.verbose&&console.log(j)}return new bs(b,O,p,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,l,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),y;c>=0?y=c:this.isEmptyPair(l)?y=0:y=l[l.length-1].getFinderPattern().getStartEnd()[1];let x=l.length%2!=0;this.startFromEven&&(x=!x);let b=!1;for(;y<p&&(b=!a.get(y),!!b);)y++;let O=0,j=y;for(let D=y;D<p;D++)if(a.get(D)!=b)h[O]++;else{if(O==3){if(x&&he.reverseCounters(h),he.isFinderPattern(h)){this.startEnd[0]=j,this.startEnd[1]=D;return}x&&he.reverseCounters(h),j+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,O--}else O++;h[O]=1,b=!b}throw new H}static reverseCounters(a){let l=a.length;for(let c=0;c<l/2;++c){let h=a[c];a[c]=a[l-c-1],a[l-c-1]=h}}parseFoundFinderPattern(a,l,c){let h,p,y;if(c){let O=this.startEnd[0]-1;for(;O>=0&&!a.get(O);)O--;O++,h=this.startEnd[0]-O,p=O,y=this.startEnd[1]}else p=this.startEnd[0],y=a.getNextUnset(this.startEnd[1]+1),h=y-this.startEnd[1];let x=this.getDecodeFinderCounters();_.arraycopy(x,0,x,1,x.length-1),x[0]=h;let b;try{b=this.parseFinderValue(x,he.FINDER_PATTERNS)}catch{return null}return new Vf(b,[p,y],p,y,l)}decodeDataCharacter(a,l,c,h){let p=this.getDataCharacterCounters();for(let jt=0;jt<p.length;jt++)p[jt]=0;if(h)he.recordPatternInReverse(a,l.getStartEnd()[0],p);else{he.recordPattern(a,l.getStartEnd()[1],p);for(let jt=0,Rr=p.length-1;jt<Rr;jt++,Rr--){let Sn=p[jt];p[jt]=p[Rr],p[Rr]=Sn}}let y=17,x=Ke.sum(new Int32Array(p))/y,b=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(x-b)/b>.3)throw new H;let O=this.getOddCounts(),j=this.getEvenCounts(),D=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let jt=0;jt<p.length;jt++){let Rr=1*p[jt]/x,Sn=Rr+.5;if(Sn<1){if(Rr<.3)throw new H;Sn=1}else if(Sn>8){if(Rr>8.7)throw new H;Sn=8}let vo=jt/2;jt&1?(j[vo]=Sn,$[vo]=Rr-Sn):(O[vo]=Sn,D[vo]=Rr-Sn)}this.adjustOddEvenCounts(y);let W=4*l.getValue()+(c?0:2)+(h?0:1)-1,G=0,q=0;for(let jt=O.length-1;jt>=0;jt--){if(he.isNotA1left(l,c,h)){let Rr=he.WEIGHTS[W][2*jt];q+=O[jt]*Rr}G+=O[jt]}let te=0;for(let jt=j.length-1;jt>=0;jt--)if(he.isNotA1left(l,c,h)){let Rr=he.WEIGHTS[W][2*jt+1];te+=j[jt]*Rr}let oe=q+te;if(G&1||G>13||G<4)throw new H;let ye=(13-G)/2,xe=he.SYMBOL_WIDEST[ye],ge=9-xe,ct=_i.getRSSvalue(O,xe,!0),Ye=_i.getRSSvalue(j,ge,!1),cn=he.EVEN_TOTAL_SUBSET[ye],ai=he.GSUM[ye],un=ct*cn+Ye+ai;return new uo(un,oe)}static isNotA1left(a,l,c){return!(a.getValue()==0&&l&&c)}adjustOddEvenCounts(a){let l=Ke.sum(new Int32Array(this.getOddCounts())),c=Ke.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1;l>13?p=!0:l<4&&(h=!0);let y=!1,x=!1;c>13?x=!0:c<4&&(y=!0);let b=l+c-a,O=(l&1)==1,j=(c&1)==0;if(b==1)if(O){if(j)throw new H;p=!0}else{if(!j)throw new H;x=!0}else if(b==-1)if(O){if(j)throw new H;h=!0}else{if(!j)throw new H;y=!0}else if(b==0){if(O){if(!j)throw new H;l<c?(h=!0,x=!0):(p=!0,y=!0)}else if(j)throw new H}else throw new H;if(h){if(p)throw new H;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(x)throw new H;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class G4 extends uo{constructor(a,l,c){super(a,l),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tr extends Hr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,l,c){const h=this.decodePair(l,!1,a,c);tr.addOrTally(this.possibleLeftPairs,h),l.reverse();let p=this.decodePair(l,!0,a,c);tr.addOrTally(this.possibleRightPairs,p),l.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&tr.checkChecksum(y,x))return tr.constructResult(y,x)}throw new H}static addOrTally(a,l){if(l==null)return;let c=!1;for(let h of a)if(h.getValue()===l.getValue()){h.incrementCount(),c=!0;break}c||a.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,l){let c=4537077*a.getValue()+l.getValue(),h=new String(c).toString(),p=new J;for(let O=13-h.length;O>0;O--)p.append("0");p.append(h);let y=0;for(let O=0;O<13;O++){let j=p.charAt(O).charCodeAt(0)-48;y+=O&1?j:3*j}y=10-y%10,y===10&&(y=0),p.append(y.toString());let x=a.getFinderPattern().getResultPoints(),b=l.getFinderPattern().getResultPoints();return new Te(p.toString(),null,0,[x[0],x[1],b[0],b[1]],we.RSS_14,new Date().getTime())}static checkChecksum(a,l){let c=(a.getChecksumPortion()+16*l.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+l.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,c===h}decodePair(a,l,c,h){try{let p=this.findFinderPattern(a,l),y=this.parseFoundFinderPattern(a,c,l,p),x=h==null?null:h.get(k.NEED_RESULT_POINT_CALLBACK);if(x!=null){let j=(p[0]+p[1])/2;l&&(j=a.getSize()-1-j),x.foundPossibleResultPoint(new Oe(j,c))}let b=this.decodeDataCharacter(a,y,!0),O=this.decodeDataCharacter(a,y,!1);return new G4(1597*b.getValue()+O.getValue(),b.getChecksumPortion()+4*O.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(a,l,c){let h=this.getDataCharacterCounters();for(let te=0;te<h.length;te++)h[te]=0;if(c)et.recordPatternInReverse(a,l.getStartEnd()[0],h);else{et.recordPattern(a,l.getStartEnd()[1]+1,h);for(let te=0,oe=h.length-1;te<oe;te++,oe--){let ye=h[te];h[te]=h[oe],h[oe]=ye}}let p=c?16:15,y=Ke.sum(new Int32Array(h))/p,x=this.getOddCounts(),b=this.getEvenCounts(),O=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let te=0;te<h.length;te++){let oe=h[te]/y,ye=Math.floor(oe+.5);ye<1?ye=1:ye>8&&(ye=8);let xe=Math.floor(te/2);te&1?(b[xe]=ye,j[xe]=oe-ye):(x[xe]=ye,O[xe]=oe-ye)}this.adjustOddEvenCounts(c,p);let D=0,$=0;for(let te=x.length-1;te>=0;te--)$*=9,$+=x[te],D+=x[te];let W=0,G=0;for(let te=b.length-1;te>=0;te--)W*=9,W+=b[te],G+=b[te];let q=$+3*W;if(c){if(D&1||D>12||D<4)throw new H;let te=(12-D)/2,oe=tr.OUTSIDE_ODD_WIDEST[te],ye=9-oe,xe=_i.getRSSvalue(x,oe,!1),ge=_i.getRSSvalue(b,ye,!0),ct=tr.OUTSIDE_EVEN_TOTAL_SUBSET[te],Ye=tr.OUTSIDE_GSUM[te];return new uo(xe*ct+ge+Ye,q)}else{if(G&1||G>10||G<4)throw new H;let te=(10-G)/2,oe=tr.INSIDE_ODD_WIDEST[te],ye=9-oe,xe=_i.getRSSvalue(x,oe,!0),ge=_i.getRSSvalue(b,ye,!1),ct=tr.INSIDE_ODD_TOTAL_SUBSET[te],Ye=tr.INSIDE_GSUM[te];return new uo(ge*ct+xe+Ye,q)}}findFinderPattern(a,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=a.getSize(),p=!1,y=0;for(;y<h&&(p=!a.get(y),l!==p);)y++;let x=0,b=y;for(let O=y;O<h;O++)if(a.get(O)!==p)c[x]++;else{if(x===3){if(Hr.isFinderPattern(c))return[b,O];b+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,x--}else x++;c[x]=1,p=!p}throw new H}parseFoundFinderPattern(a,l,c,h){let p=a.get(h[0]),y=h[0]-1;for(;y>=0&&p!==a.get(y);)y--;y++;const x=h[0]-y,b=this.getDecodeFinderCounters(),O=new Int32Array(b.length);_.arraycopy(b,0,O,1,b.length-1),O[0]=x;const j=this.parseFinderValue(O,tr.FINDER_PATTERNS);let D=y,$=h[1];return c&&(D=a.getSize()-1-D,$=a.getSize()-1-$),new Vf(j,[y,h[1]],D,$,l)}adjustOddEvenCounts(a,l){let c=Ke.sum(new Int32Array(this.getOddCounts())),h=Ke.sum(new Int32Array(this.getEvenCounts())),p=!1,y=!1,x=!1,b=!1;a?(c>12?y=!0:c<4&&(p=!0),h>12?b=!0:h<4&&(x=!0)):(c>11?y=!0:c<5&&(p=!0),h>10?b=!0:h<4&&(x=!0));let O=c+h-l,j=(c&1)===(a?1:0),D=(h&1)===1;if(O===1)if(j){if(D)throw new H;y=!0}else{if(!D)throw new H;b=!0}else if(O===-1)if(j){if(D)throw new H;p=!0}else{if(!D)throw new H;x=!0}else if(O===0){if(j){if(!D)throw new H;c<h?(p=!0,b=!0):(y=!0,x=!0)}else if(D)throw new H}else throw new H;if(p){if(y)throw new H;Hr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Hr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(b)throw new H;Hr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Hr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tr.OUTSIDE_GSUM=[0,161,961,2015,2715],tr.INSIDE_GSUM=[0,336,1036,1516],tr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tr.INSIDE_ODD_WIDEST=[2,4,6,8],tr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class po extends et{constructor(a,l){super(),this.readers=[],this.verbose=l===!0;const c=a?a.get(k.POSSIBLE_FORMATS):null,h=a&&a.get(k.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(we.EAN_13)||c.includes(we.UPC_A)||c.includes(we.EAN_8)||c.includes(we.UPC_E))&&this.readers.push(new n1(a)),c.includes(we.CODE_39)&&this.readers.push(new pt(h)),c.includes(we.CODE_128)&&this.readers.push(new ve),c.includes(we.ITF)&&this.readers.push(new vt),c.includes(we.RSS_14)&&this.readers.push(new tr),c.includes(we.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new n1(a)),this.readers.push(new pt),this.readers.push(new n1(a)),this.readers.push(new ve),this.readers.push(new vt),this.readers.push(new tr),this.readers.push(new he(this.verbose)))}decodeRow(a,l,c){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,l,c)}catch{}throw new H}reset(){this.readers.forEach(a=>a.reset())}}class q4 extends Se{constructor(a=500,l){super(new po(l),a,l)}}class Et{constructor(a,l,c){this.ecCodewords=a,this.ecBlocks=[l],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class St{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dt{constructor(a,l,c,h,p,y){this.versionNumber=a,this.symbolSizeRows=l,this.symbolSizeColumns=c,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=p,this.ecBlocks=y;let x=0;const b=y.getECCodewords(),O=y.getECBlocks();for(let j of O)x+=j.getCount()*(j.getDataCodewords()+b);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,l){if(a&1||l&1)throw new R;for(let c of dt.VERSIONS)if(c.symbolSizeRows===a&&c.symbolSizeColumns===l)return c;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new dt(1,10,10,8,8,new Et(5,new St(1,3))),new dt(2,12,12,10,10,new Et(7,new St(1,5))),new dt(3,14,14,12,12,new Et(10,new St(1,8))),new dt(4,16,16,14,14,new Et(12,new St(1,12))),new dt(5,18,18,16,16,new Et(14,new St(1,18))),new dt(6,20,20,18,18,new Et(18,new St(1,22))),new dt(7,22,22,20,20,new Et(20,new St(1,30))),new dt(8,24,24,22,22,new Et(24,new St(1,36))),new dt(9,26,26,24,24,new Et(28,new St(1,44))),new dt(10,32,32,14,14,new Et(36,new St(1,62))),new dt(11,36,36,16,16,new Et(42,new St(1,86))),new dt(12,40,40,18,18,new Et(48,new St(1,114))),new dt(13,44,44,20,20,new Et(56,new St(1,144))),new dt(14,48,48,22,22,new Et(68,new St(1,174))),new dt(15,52,52,24,24,new Et(42,new St(2,102))),new dt(16,64,64,14,14,new Et(56,new St(2,140))),new dt(17,72,72,16,16,new Et(36,new St(4,92))),new dt(18,80,80,18,18,new Et(48,new St(4,114))),new dt(19,88,88,20,20,new Et(56,new St(4,144))),new dt(20,96,96,22,22,new Et(68,new St(4,174))),new dt(21,104,104,24,24,new Et(56,new St(6,136))),new dt(22,120,120,18,18,new Et(68,new St(6,175))),new dt(23,132,132,20,20,new Et(62,new St(8,163))),new dt(24,144,144,22,22,new Et(62,new St(8,156),new St(2,155))),new dt(25,8,18,6,16,new Et(7,new St(1,5))),new dt(26,8,32,6,14,new Et(11,new St(1,10))),new dt(27,12,26,10,24,new Et(14,new St(1,16))),new dt(28,12,36,10,16,new Et(18,new St(1,22))),new dt(29,16,36,14,16,new Et(24,new St(1,32))),new dt(30,16,48,14,22,new Et(28,new St(1,49)))]}}dt.VERSIONS=dt.buildVersions();class o1{constructor(a){const l=a.getHeight();if(l<8||l>144||l&1)throw new R;this.version=o1.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new Q(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const l=a.getHeight(),c=a.getWidth();return dt.getVersionForDimensions(l,c)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let l=0,c=4,h=0;const p=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let x=!1,b=!1,O=!1,j=!1;do if(c===p&&h===0&&!x)a[l++]=this.readCorner1(p,y)&255,c-=2,h+=2,x=!0;else if(c===p-2&&h===0&&y&3&&!b)a[l++]=this.readCorner2(p,y)&255,c-=2,h+=2,b=!0;else if(c===p+4&&h===2&&!(y&7)&&!O)a[l++]=this.readCorner3(p,y)&255,c-=2,h+=2,O=!0;else if(c===p-2&&h===0&&(y&7)===4&&!j)a[l++]=this.readCorner4(p,y)&255,c-=2,h+=2,j=!0;else{do c<p&&h>=0&&!this.readMappingMatrix.get(h,c)&&(a[l++]=this.readUtah(c,h,p,y)&255),c-=2,h+=2;while(c>=0&&h<y);c+=1,h+=3;do c>=0&&h<y&&!this.readMappingMatrix.get(h,c)&&(a[l++]=this.readUtah(c,h,p,y)&255),c+=2,h-=2;while(c<p&&h>=0);c+=3,h+=1}while(c<p||h<y);if(l!==this.version.getTotalCodewords())throw new R;return a}readModule(a,l,c,h){return a<0&&(a+=c,l+=4-(c+4&7)),l<0&&(l+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(l,a),this.mappingBitMatrix.get(l,a)}readUtah(a,l,c,h){let p=0;return this.readModule(a-2,l-2,c,h)&&(p|=1),p<<=1,this.readModule(a-2,l-1,c,h)&&(p|=1),p<<=1,this.readModule(a-1,l-2,c,h)&&(p|=1),p<<=1,this.readModule(a-1,l-1,c,h)&&(p|=1),p<<=1,this.readModule(a-1,l,c,h)&&(p|=1),p<<=1,this.readModule(a,l-2,c,h)&&(p|=1),p<<=1,this.readModule(a,l-1,c,h)&&(p|=1),p<<=1,this.readModule(a,l,c,h)&&(p|=1),p}readCorner1(a,l){let c=0;return this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,1,a,l)&&(c|=1),c<<=1,this.readModule(a-1,2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(2,l-1,a,l)&&(c|=1),c<<=1,this.readModule(3,l-1,a,l)&&(c|=1),c}readCorner2(a,l){let c=0;return this.readModule(a-3,0,a,l)&&(c|=1),c<<=1,this.readModule(a-2,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(0,l-4,a,l)&&(c|=1),c<<=1,this.readModule(0,l-3,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c}readCorner3(a,l){let c=0;return this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(0,l-3,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-3,a,l)&&(c|=1),c<<=1,this.readModule(1,l-2,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c}readCorner4(a,l){let c=0;return this.readModule(a-3,0,a,l)&&(c|=1),c<<=1,this.readModule(a-2,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(2,l-1,a,l)&&(c|=1),c<<=1,this.readModule(3,l-1,a,l)&&(c|=1),c}extractDataRegion(a){const l=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(a.getHeight()!==l)throw new v("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),y=l/h|0,x=c/p|0,b=y*h,O=x*p,j=new Q(O,b);for(let D=0;D<y;++D){const $=D*h;for(let W=0;W<x;++W){const G=W*p;for(let q=0;q<h;++q){const te=D*(h+2)+1+q,oe=$+q;for(let ye=0;ye<p;++ye){const xe=W*(p+2)+1+ye;if(a.get(xe,te)){const ge=G+ye;j.set(ge,oe)}}}}}return j}}class l1{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l){const c=l.getECBlocks();let h=0;const p=c.getECBlocks();for(let q of p)h+=q.getCount();const y=new Array(h);let x=0;for(let q of p)for(let te=0;te<q.getCount();te++){const oe=q.getDataCodewords(),ye=c.getECCodewords()+oe;y[x++]=new l1(oe,new Uint8Array(ye))}const O=y[0].codewords.length-c.getECCodewords(),j=O-1;let D=0;for(let q=0;q<j;q++)for(let te=0;te<x;te++)y[te].codewords[q]=a[D++];const $=l.getVersionNumber()===24,W=$?8:x;for(let q=0;q<W;q++)y[q].codewords[O-1]=a[D++];const G=y[0].codewords.length;for(let q=O;q<G;q++)for(let te=0;te<x;te++){const oe=$?(te+8)%x:te,ye=$&&oe>7?q-1:q;y[oe].codewords[ye]=a[D++]}if(D!==a.length)throw new v;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class c1{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new v(""+a);let l=0,c=this.bitOffset,h=this.byteOffset;const p=this.bytes;if(c>0){const y=8-c,x=a<y?a:y,b=y-x,O=255>>8-x<<b;l=(p[h]&O)>>b,a-=x,c+=x,c===8&&(c=0,h++)}if(a>0){for(;a>=8;)l=l<<8|p[h]&255,h++,a-=8;if(a>0){const y=8-a,x=255>>y<<y;l=l<<a|(p[h]&x)>>y,c+=a}}return this.bitOffset=c,this.byteOffset=h,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var gr;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(gr||(gr={}));class Ss{static decode(a){const l=new c1(a),c=new J,h=new J,p=new Array;let y=gr.ASCII_ENCODE;do if(y===gr.ASCII_ENCODE)y=this.decodeAsciiSegment(l,c,h);else{switch(y){case gr.C40_ENCODE:this.decodeC40Segment(l,c);break;case gr.TEXT_ENCODE:this.decodeTextSegment(l,c);break;case gr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,c);break;case gr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,c);break;case gr.BASE256_ENCODE:this.decodeBase256Segment(l,c,p);break;default:throw new R}y=gr.ASCII_ENCODE}while(y!==gr.PAD_ENCODE&&l.available()>0);return h.length()>0&&c.append(h.toString()),new be(a,c.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(a,l,c){let h=!1;do{let p=a.readBits(8);if(p===0)throw new R;if(p<=128)return h&&(p+=128),l.append(String.fromCharCode(p-1)),gr.ASCII_ENCODE;if(p===129)return gr.PAD_ENCODE;if(p<=229){const y=p-130;y<10&&l.append("0"),l.append(""+y)}else switch(p){case 230:return gr.C40_ENCODE;case 231:return gr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:l.append("[)>05"),c.insert(0,"");break;case 237:l.append("[)>06"),c.insert(0,"");break;case 238:return gr.ANSIX12_ENCODE;case 239:return gr.TEXT_ENCODE;case 240:return gr.EDIFACT_ENCODE;case 241:break;default:if(p!==254||a.available()!==0)throw new R;break}}while(a.available()>0);return gr.ASCII_ENCODE}static decodeC40Segment(a,l){let c=!1;const h=[];let p=0;do{if(a.available()===8)return;const y=a.readBits(8);if(y===254)return;this.parseTwoBytes(y,a.readBits(8),h);for(let x=0;x<3;x++){const b=h[x];switch(p){case 0:if(b<3)p=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const O=this.C40_BASIC_SET_CHARS[b];c?(l.append(String.fromCharCode(O.charCodeAt(0)+128)),c=!1):l.append(O)}else throw new R;break;case 1:c?(l.append(String.fromCharCode(b+128)),c=!1):l.append(String.fromCharCode(b)),p=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const O=this.C40_SHIFT2_SET_CHARS[b];c?(l.append(String.fromCharCode(O.charCodeAt(0)+128)),c=!1):l.append(O)}else switch(b){case 27:l.append("");break;case 30:c=!0;break;default:throw new R}p=0;break;case 3:c?(l.append(String.fromCharCode(b+224)),c=!1):l.append(String.fromCharCode(b+96)),p=0;break;default:throw new R}}}while(a.available()>0)}static decodeTextSegment(a,l){let c=!1,h=[],p=0;do{if(a.available()===8)return;const y=a.readBits(8);if(y===254)return;this.parseTwoBytes(y,a.readBits(8),h);for(let x=0;x<3;x++){const b=h[x];switch(p){case 0:if(b<3)p=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const O=this.TEXT_BASIC_SET_CHARS[b];c?(l.append(String.fromCharCode(O.charCodeAt(0)+128)),c=!1):l.append(O)}else throw new R;break;case 1:c?(l.append(String.fromCharCode(b+128)),c=!1):l.append(String.fromCharCode(b)),p=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const O=this.TEXT_SHIFT2_SET_CHARS[b];c?(l.append(String.fromCharCode(O.charCodeAt(0)+128)),c=!1):l.append(O)}else switch(b){case 27:l.append("");break;case 30:c=!0;break;default:throw new R}p=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const O=this.TEXT_SHIFT3_SET_CHARS[b];c?(l.append(String.fromCharCode(O.charCodeAt(0)+128)),c=!1):l.append(O),p=0}else throw new R;break;default:throw new R}}}while(a.available()>0)}static decodeAnsiX12Segment(a,l){const c=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),c);for(let p=0;p<3;p++){const y=c[p];switch(y){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(y<14)l.append(String.fromCharCode(y+44));else if(y<40)l.append(String.fromCharCode(y+51));else throw new R;break}}}while(a.available()>0)}static parseTwoBytes(a,l,c){let h=(a<<8)+l-1,p=Math.floor(h/1600);c[0]=p,h-=p*1600,p=Math.floor(h/40),c[1]=p,c[2]=h-p*40}static decodeEdifactSegment(a,l){do{if(a.available()<=16)return;for(let c=0;c<4;c++){let h=a.readBits(6);if(h===31){const p=8-a.getBitOffset();p!==8&&a.readBits(p);return}h&32||(h|=64),l.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,l,c){let h=1+a.getByteOffset();const p=this.unrandomize255State(a.readBits(8),h++);let y;if(p===0?y=a.available()/8|0:p<250?y=p:y=250*(p-249)+this.unrandomize255State(a.readBits(8),h++),y<0)throw new R;const x=new Uint8Array(y);for(let b=0;b<y;b++){if(a.available()<8)throw new R;x[b]=this.unrandomize255State(a.readBits(8),h++)}c.push(x);try{l.append(V.decode(x,U.ISO88591))}catch(b){throw new st("Platform does not support required encoding: "+b.message)}}static unrandomize255State(a,l){const c=149*l%255+1,h=a-c;return h>=0?h:h+256}}Ss.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ss.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ss.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ss.TEXT_SHIFT2_SET_CHARS=Ss.C40_SHIFT2_SET_CHARS,Ss.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class K4{constructor(){this.rsDecoder=new ft(Ae.DATA_MATRIX_FIELD_256)}decode(a){const l=new o1(a),c=l.getVersion(),h=l.readCodewords(),p=l1.getDataBlocks(h,c);let y=0;for(let O of p)y+=O.getNumDataCodewords();const x=new Uint8Array(y),b=p.length;for(let O=0;O<b;O++){const j=p[O],D=j.getCodewords(),$=j.getNumDataCodewords();this.correctErrors(D,$);for(let W=0;W<$;W++)x[W*b+O]=D[W]}return Ss.decode(x)}correctErrors(a,l){const c=new Int32Array(a);try{this.rsDecoder.decode(c,a.length-l)}catch{throw new S}for(let h=0;h<l;h++)a[h]=c[h]}}class or{constructor(a){this.image=a,this.rectangleDetector=new Me(this.image)}detect(){const a=this.rectangleDetector.detect();let l=this.detectSolid1(a);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new H;l=this.shiftToModuleCenter(l);const c=l[0],h=l[1],p=l[2],y=l[3];let x=this.transitionsBetween(c,y)+1,b=this.transitionsBetween(p,y)+1;(x&1)===1&&(x+=1),(b&1)===1&&(b+=1),4*x<7*b&&4*b<7*x&&(x=b=Math.max(x,b));let O=or.sampleGrid(this.image,c,h,p,y,x,b);return new Pr(O,[c,h,p,y])}static shiftPoint(a,l,c){let h=(l.getX()-a.getX())/(c+1),p=(l.getY()-a.getY())/(c+1);return new Oe(a.getX()+h,a.getY()+p)}static moveAway(a,l,c){let h=a.getX(),p=a.getY();return h<l?h-=1:h+=1,p<c?p-=1:p+=1,new Oe(h,p)}detectSolid1(a){let l=a[0],c=a[1],h=a[3],p=a[2],y=this.transitionsBetween(l,c),x=this.transitionsBetween(c,h),b=this.transitionsBetween(h,p),O=this.transitionsBetween(p,l),j=y,D=[p,l,c,h];return j>x&&(j=x,D[0]=l,D[1]=c,D[2]=h,D[3]=p),j>b&&(j=b,D[0]=c,D[1]=h,D[2]=p,D[3]=l),j>O&&(D[0]=h,D[1]=p,D[2]=l,D[3]=c),D}detectSolid2(a){let l=a[0],c=a[1],h=a[2],p=a[3],y=this.transitionsBetween(l,p),x=or.shiftPoint(c,h,(y+1)*4),b=or.shiftPoint(h,c,(y+1)*4),O=this.transitionsBetween(x,l),j=this.transitionsBetween(b,p);return O<j?(a[0]=l,a[1]=c,a[2]=h,a[3]=p):(a[0]=c,a[1]=h,a[2]=p,a[3]=l),a}correctTopRight(a){let l=a[0],c=a[1],h=a[2],p=a[3],y=this.transitionsBetween(l,p),x=this.transitionsBetween(c,p),b=or.shiftPoint(l,c,(x+1)*4),O=or.shiftPoint(h,c,(y+1)*4);y=this.transitionsBetween(b,p),x=this.transitionsBetween(O,p);let j=new Oe(p.getX()+(h.getX()-c.getX())/(y+1),p.getY()+(h.getY()-c.getY())/(y+1)),D=new Oe(p.getX()+(l.getX()-c.getX())/(x+1),p.getY()+(l.getY()-c.getY())/(x+1));if(!this.isValid(j))return this.isValid(D)?D:null;if(!this.isValid(D))return j;let $=this.transitionsBetween(b,j)+this.transitionsBetween(O,j),W=this.transitionsBetween(b,D)+this.transitionsBetween(O,D);return $>W?j:D}shiftToModuleCenter(a){let l=a[0],c=a[1],h=a[2],p=a[3],y=this.transitionsBetween(l,p)+1,x=this.transitionsBetween(h,p)+1,b=or.shiftPoint(l,c,x*4),O=or.shiftPoint(h,c,y*4);y=this.transitionsBetween(b,p)+1,x=this.transitionsBetween(O,p)+1,(y&1)===1&&(y+=1),(x&1)===1&&(x+=1);let j=(l.getX()+c.getX()+h.getX()+p.getX())/4,D=(l.getY()+c.getY()+h.getY()+p.getY())/4;l=or.moveAway(l,j,D),c=or.moveAway(c,j,D),h=or.moveAway(h,j,D),p=or.moveAway(p,j,D);let $,W;return b=or.shiftPoint(l,c,x*4),b=or.shiftPoint(b,p,y*4),$=or.shiftPoint(c,l,x*4),$=or.shiftPoint($,h,y*4),O=or.shiftPoint(h,p,x*4),O=or.shiftPoint(O,c,y*4),W=or.shiftPoint(p,h,x*4),W=or.shiftPoint(W,l,y*4),[b,$,O,W]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,l,c,h,p,y,x){return _e.getInstance().sampleGrid(a,y,x,.5,.5,y-.5,.5,y-.5,x-.5,.5,x-.5,l.getX(),l.getY(),p.getX(),p.getY(),h.getX(),h.getY(),c.getX(),c.getY())}transitionsBetween(a,l){let c=Math.trunc(a.getX()),h=Math.trunc(a.getY()),p=Math.trunc(l.getX()),y=Math.trunc(l.getY()),x=Math.abs(y-h)>Math.abs(p-c);if(x){let q=c;c=h,h=q,q=p,p=y,y=q}let b=Math.abs(p-c),O=Math.abs(y-h),j=-b/2,D=h<y?1:-1,$=c<p?1:-1,W=0,G=this.image.get(x?h:c,x?c:h);for(let q=c,te=h;q!==p;q+=$){let oe=this.image.get(x?te:q,x?q:te);if(oe!==G&&(W++,G=oe),j+=O,j>0){if(te===y)break;te+=D,j-=b}}return W}}class Es{constructor(){this.decoder=new K4}decode(a,l=null){let c,h;if(l!=null&&l.has(k.PURE_BARCODE)){const O=Es.extractPureBits(a.getBlackMatrix());c=this.decoder.decode(O),h=Es.NO_POINTS}else{const O=new or(a.getBlackMatrix()).detect();c=this.decoder.decode(O.getBits()),h=O.getPoints()}const p=c.getRawBytes(),y=new Te(c.getText(),p,8*p.length,h,we.DATA_MATRIX,_.currentTimeMillis()),x=c.getByteSegments();x!=null&&y.putMetadata(rt.BYTE_SEGMENTS,x);const b=c.getECLevel();return b!=null&&y.putMetadata(rt.ERROR_CORRECTION_LEVEL,b),y}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),c=a.getBottomRightOnBit();if(l==null||c==null)throw new H;const h=this.moduleSize(l,a);let p=l[1];const y=c[1];let x=l[0];const O=(c[0]-x+1)/h,j=(y-p+1)/h;if(O<=0||j<=0)throw new H;const D=h/2;p+=D,x+=D;const $=new Q(O,j);for(let W=0;W<j;W++){const G=p+W*h;for(let q=0;q<O;q++)a.get(x+q*h,G)&&$.set(q,W)}return $}static moduleSize(a,l){const c=l.getWidth();let h=a[0];const p=a[1];for(;h<c&&l.get(h,p);)h++;if(h===c)throw new H;const y=h-a[0];if(y===0)throw new H;return y}}Es.NO_POINTS=[];class X4 extends Se{constructor(a=500){super(new Es,a)}}var go;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(go||(go={}));class Dt{constructor(a,l,c){this.value=a,this.stringValue=l,this.bits=c,Dt.FOR_BITS.set(c,this),Dt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Dt.L;case"M":return Dt.M;case"Q":return Dt.Q;case"H":return Dt.H;default:throw new g(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Dt))return!1;const l=a;return this.value===l.value}static forBits(a){if(a<0||a>=Dt.FOR_BITS.size)throw new v;return Dt.FOR_BITS.get(a)}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.L=new Dt(go.L,"L",1),Dt.M=new Dt(go.M,"M",0),Dt.Q=new Dt(go.Q,"Q",3),Dt.H=new Dt(go.H,"H",2);class Wr{constructor(a){this.errorCorrectionLevel=Dt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,l){return T.bitCount(a^l)}static decodeFormatInformation(a,l){const c=Wr.doDecodeFormatInformation(a,l);return c!==null?c:Wr.doDecodeFormatInformation(a^Wr.FORMAT_INFO_MASK_QR,l^Wr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,l){let c=Number.MAX_SAFE_INTEGER,h=0;for(const p of Wr.FORMAT_INFO_DECODE_LOOKUP){const y=p[0];if(y===a||y===l)return new Wr(p[1]);let x=Wr.numBitsDiffering(a,y);x<c&&(h=p[1],c=x),a!==l&&(x=Wr.numBitsDiffering(l,y),x<c&&(h=p[1],c=x))}return c<=3?new Wr(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof Wr))return!1;const l=a;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}Wr.FORMAT_INFO_MASK_QR=21522,Wr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class re{constructor(a,...l){this.ecCodewordsPerBlock=a,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const l=this.ecBlocks;for(const c of l)a+=c.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class z{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Le{constructor(a,l,...c){this.versionNumber=a,this.alignmentPatternCenters=l,this.ecBlocks=c;let h=0;const p=c[0].getECCodewordsPerBlock(),y=c[0].getECBlocks();for(const x of y)h+=x.getCount()*(x.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new R;try{return this.getVersionForNumber((a-17)/4)}catch{throw new R}}static getVersionForNumber(a){if(a<1||a>40)throw new v;return Le.VERSIONS[a-1]}static decodeVersionInformation(a){let l=Number.MAX_SAFE_INTEGER,c=0;for(let h=0;h<Le.VERSION_DECODE_INFO.length;h++){const p=Le.VERSION_DECODE_INFO[h];if(p===a)return Le.getVersionForNumber(h+7);const y=Wr.numBitsDiffering(a,p);y<l&&(c=h+7,l=y)}return l<=3?Le.getVersionForNumber(c):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),l=new Q(a);l.setRegion(0,0,9,9),l.setRegion(a-8,0,8,9),l.setRegion(0,a-8,9,8);const c=this.alignmentPatternCenters.length;for(let h=0;h<c;h++){const p=this.alignmentPatternCenters[h]-2;for(let y=0;y<c;y++)h===0&&(y===0||y===c-1)||h===c-1&&y===0||l.setRegion(this.alignmentPatternCenters[y]-2,p,5,5)}return l.setRegion(6,9,1,a-17),l.setRegion(9,6,a-17,1),this.versionNumber>6&&(l.setRegion(a-11,0,3,6),l.setRegion(0,a-11,6,3)),l}toString(){return""+this.versionNumber}}Le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Le.VERSIONS=[new Le(1,new Int32Array(0),new re(7,new z(1,19)),new re(10,new z(1,16)),new re(13,new z(1,13)),new re(17,new z(1,9))),new Le(2,Int32Array.from([6,18]),new re(10,new z(1,34)),new re(16,new z(1,28)),new re(22,new z(1,22)),new re(28,new z(1,16))),new Le(3,Int32Array.from([6,22]),new re(15,new z(1,55)),new re(26,new z(1,44)),new re(18,new z(2,17)),new re(22,new z(2,13))),new Le(4,Int32Array.from([6,26]),new re(20,new z(1,80)),new re(18,new z(2,32)),new re(26,new z(2,24)),new re(16,new z(4,9))),new Le(5,Int32Array.from([6,30]),new re(26,new z(1,108)),new re(24,new z(2,43)),new re(18,new z(2,15),new z(2,16)),new re(22,new z(2,11),new z(2,12))),new Le(6,Int32Array.from([6,34]),new re(18,new z(2,68)),new re(16,new z(4,27)),new re(24,new z(4,19)),new re(28,new z(4,15))),new Le(7,Int32Array.from([6,22,38]),new re(20,new z(2,78)),new re(18,new z(4,31)),new re(18,new z(2,14),new z(4,15)),new re(26,new z(4,13),new z(1,14))),new Le(8,Int32Array.from([6,24,42]),new re(24,new z(2,97)),new re(22,new z(2,38),new z(2,39)),new re(22,new z(4,18),new z(2,19)),new re(26,new z(4,14),new z(2,15))),new Le(9,Int32Array.from([6,26,46]),new re(30,new z(2,116)),new re(22,new z(3,36),new z(2,37)),new re(20,new z(4,16),new z(4,17)),new re(24,new z(4,12),new z(4,13))),new Le(10,Int32Array.from([6,28,50]),new re(18,new z(2,68),new z(2,69)),new re(26,new z(4,43),new z(1,44)),new re(24,new z(6,19),new z(2,20)),new re(28,new z(6,15),new z(2,16))),new Le(11,Int32Array.from([6,30,54]),new re(20,new z(4,81)),new re(30,new z(1,50),new z(4,51)),new re(28,new z(4,22),new z(4,23)),new re(24,new z(3,12),new z(8,13))),new Le(12,Int32Array.from([6,32,58]),new re(24,new z(2,92),new z(2,93)),new re(22,new z(6,36),new z(2,37)),new re(26,new z(4,20),new z(6,21)),new re(28,new z(7,14),new z(4,15))),new Le(13,Int32Array.from([6,34,62]),new re(26,new z(4,107)),new re(22,new z(8,37),new z(1,38)),new re(24,new z(8,20),new z(4,21)),new re(22,new z(12,11),new z(4,12))),new Le(14,Int32Array.from([6,26,46,66]),new re(30,new z(3,115),new z(1,116)),new re(24,new z(4,40),new z(5,41)),new re(20,new z(11,16),new z(5,17)),new re(24,new z(11,12),new z(5,13))),new Le(15,Int32Array.from([6,26,48,70]),new re(22,new z(5,87),new z(1,88)),new re(24,new z(5,41),new z(5,42)),new re(30,new z(5,24),new z(7,25)),new re(24,new z(11,12),new z(7,13))),new Le(16,Int32Array.from([6,26,50,74]),new re(24,new z(5,98),new z(1,99)),new re(28,new z(7,45),new z(3,46)),new re(24,new z(15,19),new z(2,20)),new re(30,new z(3,15),new z(13,16))),new Le(17,Int32Array.from([6,30,54,78]),new re(28,new z(1,107),new z(5,108)),new re(28,new z(10,46),new z(1,47)),new re(28,new z(1,22),new z(15,23)),new re(28,new z(2,14),new z(17,15))),new Le(18,Int32Array.from([6,30,56,82]),new re(30,new z(5,120),new z(1,121)),new re(26,new z(9,43),new z(4,44)),new re(28,new z(17,22),new z(1,23)),new re(28,new z(2,14),new z(19,15))),new Le(19,Int32Array.from([6,30,58,86]),new re(28,new z(3,113),new z(4,114)),new re(26,new z(3,44),new z(11,45)),new re(26,new z(17,21),new z(4,22)),new re(26,new z(9,13),new z(16,14))),new Le(20,Int32Array.from([6,34,62,90]),new re(28,new z(3,107),new z(5,108)),new re(26,new z(3,41),new z(13,42)),new re(30,new z(15,24),new z(5,25)),new re(28,new z(15,15),new z(10,16))),new Le(21,Int32Array.from([6,28,50,72,94]),new re(28,new z(4,116),new z(4,117)),new re(26,new z(17,42)),new re(28,new z(17,22),new z(6,23)),new re(30,new z(19,16),new z(6,17))),new Le(22,Int32Array.from([6,26,50,74,98]),new re(28,new z(2,111),new z(7,112)),new re(28,new z(17,46)),new re(30,new z(7,24),new z(16,25)),new re(24,new z(34,13))),new Le(23,Int32Array.from([6,30,54,78,102]),new re(30,new z(4,121),new z(5,122)),new re(28,new z(4,47),new z(14,48)),new re(30,new z(11,24),new z(14,25)),new re(30,new z(16,15),new z(14,16))),new Le(24,Int32Array.from([6,28,54,80,106]),new re(30,new z(6,117),new z(4,118)),new re(28,new z(6,45),new z(14,46)),new re(30,new z(11,24),new z(16,25)),new re(30,new z(30,16),new z(2,17))),new Le(25,Int32Array.from([6,32,58,84,110]),new re(26,new z(8,106),new z(4,107)),new re(28,new z(8,47),new z(13,48)),new re(30,new z(7,24),new z(22,25)),new re(30,new z(22,15),new z(13,16))),new Le(26,Int32Array.from([6,30,58,86,114]),new re(28,new z(10,114),new z(2,115)),new re(28,new z(19,46),new z(4,47)),new re(28,new z(28,22),new z(6,23)),new re(30,new z(33,16),new z(4,17))),new Le(27,Int32Array.from([6,34,62,90,118]),new re(30,new z(8,122),new z(4,123)),new re(28,new z(22,45),new z(3,46)),new re(30,new z(8,23),new z(26,24)),new re(30,new z(12,15),new z(28,16))),new Le(28,Int32Array.from([6,26,50,74,98,122]),new re(30,new z(3,117),new z(10,118)),new re(28,new z(3,45),new z(23,46)),new re(30,new z(4,24),new z(31,25)),new re(30,new z(11,15),new z(31,16))),new Le(29,Int32Array.from([6,30,54,78,102,126]),new re(30,new z(7,116),new z(7,117)),new re(28,new z(21,45),new z(7,46)),new re(30,new z(1,23),new z(37,24)),new re(30,new z(19,15),new z(26,16))),new Le(30,Int32Array.from([6,26,52,78,104,130]),new re(30,new z(5,115),new z(10,116)),new re(28,new z(19,47),new z(10,48)),new re(30,new z(15,24),new z(25,25)),new re(30,new z(23,15),new z(25,16))),new Le(31,Int32Array.from([6,30,56,82,108,134]),new re(30,new z(13,115),new z(3,116)),new re(28,new z(2,46),new z(29,47)),new re(30,new z(42,24),new z(1,25)),new re(30,new z(23,15),new z(28,16))),new Le(32,Int32Array.from([6,34,60,86,112,138]),new re(30,new z(17,115)),new re(28,new z(10,46),new z(23,47)),new re(30,new z(10,24),new z(35,25)),new re(30,new z(19,15),new z(35,16))),new Le(33,Int32Array.from([6,30,58,86,114,142]),new re(30,new z(17,115),new z(1,116)),new re(28,new z(14,46),new z(21,47)),new re(30,new z(29,24),new z(19,25)),new re(30,new z(11,15),new z(46,16))),new Le(34,Int32Array.from([6,34,62,90,118,146]),new re(30,new z(13,115),new z(6,116)),new re(28,new z(14,46),new z(23,47)),new re(30,new z(44,24),new z(7,25)),new re(30,new z(59,16),new z(1,17))),new Le(35,Int32Array.from([6,30,54,78,102,126,150]),new re(30,new z(12,121),new z(7,122)),new re(28,new z(12,47),new z(26,48)),new re(30,new z(39,24),new z(14,25)),new re(30,new z(22,15),new z(41,16))),new Le(36,Int32Array.from([6,24,50,76,102,128,154]),new re(30,new z(6,121),new z(14,122)),new re(28,new z(6,47),new z(34,48)),new re(30,new z(46,24),new z(10,25)),new re(30,new z(2,15),new z(64,16))),new Le(37,Int32Array.from([6,28,54,80,106,132,158]),new re(30,new z(17,122),new z(4,123)),new re(28,new z(29,46),new z(14,47)),new re(30,new z(49,24),new z(10,25)),new re(30,new z(24,15),new z(46,16))),new Le(38,Int32Array.from([6,32,58,84,110,136,162]),new re(30,new z(4,122),new z(18,123)),new re(28,new z(13,46),new z(32,47)),new re(30,new z(48,24),new z(14,25)),new re(30,new z(42,15),new z(32,16))),new Le(39,Int32Array.from([6,26,54,82,110,138,166]),new re(30,new z(20,117),new z(4,118)),new re(28,new z(40,47),new z(7,48)),new re(30,new z(43,24),new z(22,25)),new re(30,new z(10,15),new z(67,16))),new Le(40,Int32Array.from([6,30,58,86,114,142,170]),new re(30,new z(19,118),new z(6,119)),new re(28,new z(18,47),new z(31,48)),new re(30,new z(34,24),new z(34,25)),new re(30,new z(20,15),new z(61,16)))];var _r;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(_r||(_r={}));class $n{constructor(a,l){this.value=a,this.isMasked=l}unmaskBitMatrix(a,l){for(let c=0;c<l;c++)for(let h=0;h<l;h++)this.isMasked(c,h)&&a.flip(h,c)}}$n.values=new Map([[_r.DATA_MASK_000,new $n(_r.DATA_MASK_000,(M,a)=>(M+a&1)===0)],[_r.DATA_MASK_001,new $n(_r.DATA_MASK_001,(M,a)=>(M&1)===0)],[_r.DATA_MASK_010,new $n(_r.DATA_MASK_010,(M,a)=>a%3===0)],[_r.DATA_MASK_011,new $n(_r.DATA_MASK_011,(M,a)=>(M+a)%3===0)],[_r.DATA_MASK_100,new $n(_r.DATA_MASK_100,(M,a)=>(Math.floor(M/2)+Math.floor(a/3)&1)===0)],[_r.DATA_MASK_101,new $n(_r.DATA_MASK_101,(M,a)=>M*a%6===0)],[_r.DATA_MASK_110,new $n(_r.DATA_MASK_110,(M,a)=>M*a%6<3)],[_r.DATA_MASK_111,new $n(_r.DATA_MASK_111,(M,a)=>(M+a+M*a%3&1)===0)]]);class Y4{constructor(a){const l=a.getHeight();if(l<21||(l&3)!==1)throw new R;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let p=0;p<6;p++)a=this.copyBit(p,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let p=5;p>=0;p--)a=this.copyBit(8,p,a);const l=this.bitMatrix.getHeight();let c=0;const h=l-7;for(let p=l-1;p>=h;p--)c=this.copyBit(8,p,c);for(let p=l-8;p<l;p++)c=this.copyBit(p,8,c);if(this.parsedFormatInfo=Wr.decodeFormatInformation(a,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),l=Math.floor((a-17)/4);if(l<=6)return Le.getVersionForNumber(l);let c=0;const h=a-11;for(let y=5;y>=0;y--)for(let x=a-9;x>=h;x--)c=this.copyBit(x,y,c);let p=Le.decodeVersionInformation(c);if(p!==null&&p.getDimensionForVersion()===a)return this.parsedVersion=p,p;c=0;for(let y=5;y>=0;y--)for(let x=a-9;x>=h;x--)c=this.copyBit(y,x,c);if(p=Le.decodeVersionInformation(c),p!==null&&p.getDimensionForVersion()===a)return this.parsedVersion=p,p;throw new R}copyBit(a,l,c){return(this.isMirror?this.bitMatrix.get(l,a):this.bitMatrix.get(a,l))?c<<1|1:c<<1}readCodewords(){const a=this.readFormatInformation(),l=this.readVersion(),c=$n.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h);const p=l.buildFunctionPattern();let y=!0;const x=new Uint8Array(l.getTotalCodewords());let b=0,O=0,j=0;for(let D=h-1;D>0;D-=2){D===6&&D--;for(let $=0;$<h;$++){const W=y?h-1-$:$;for(let G=0;G<2;G++)p.get(D-G,W)||(j++,O<<=1,this.bitMatrix.get(D-G,W)&&(O|=1),j===8&&(x[b++]=O,j=0,O=0))}y=!y}if(b!==l.getTotalCodewords())throw new R;return x}remask(){if(this.parsedFormatInfo===null)return;const a=$n.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let l=0,c=a.getWidth();l<c;l++)for(let h=l+1,p=a.getHeight();h<p;h++)a.get(l,h)!==a.get(h,l)&&(a.flip(h,l),a.flip(l,h))}}class u1{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l,c){if(a.length!==l.getTotalCodewords())throw new v;const h=l.getECBlocksForLevel(c);let p=0;const y=h.getECBlocks();for(const G of y)p+=G.getCount();const x=new Array(p);let b=0;for(const G of y)for(let q=0;q<G.getCount();q++){const te=G.getDataCodewords(),oe=h.getECCodewordsPerBlock()+te;x[b++]=new u1(te,new Uint8Array(oe))}const O=x[0].codewords.length;let j=x.length-1;for(;j>=0&&x[j].codewords.length!==O;)j--;j++;const D=O-h.getECCodewordsPerBlock();let $=0;for(let G=0;G<D;G++)for(let q=0;q<b;q++)x[q].codewords[G]=a[$++];for(let G=j;G<b;G++)x[G].codewords[D]=a[$++];const W=x[0].codewords.length;for(let G=D;G<W;G++)for(let q=0;q<b;q++){const te=q<j?G:G+1;x[q].codewords[te]=a[$++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Fn;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(Fn||(Fn={}));class Fe{constructor(a,l,c,h){this.value=a,this.stringValue=l,this.characterCountBitsForVersions=c,this.bits=h,Fe.FOR_BITS.set(h,this),Fe.FOR_VALUE.set(a,this)}static forBits(a){const l=Fe.FOR_BITS.get(a);if(l===void 0)throw new v;return l}getCharacterCountBits(a){const l=a.getVersionNumber();let c;return l<=9?c=0:l<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof Fe))return!1;const l=a;return this.value===l.value}toString(){return this.stringValue}}Fe.FOR_BITS=new Map,Fe.FOR_VALUE=new Map,Fe.TERMINATOR=new Fe(Fn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Fe.NUMERIC=new Fe(Fn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Fe.ALPHANUMERIC=new Fe(Fn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Fe.STRUCTURED_APPEND=new Fe(Fn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Fe.BYTE=new Fe(Fn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Fe.ECI=new Fe(Fn.ECI,"ECI",Int32Array.from([0,0,0]),7),Fe.KANJI=new Fe(Fn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Fe.FNC1_FIRST_POSITION=new Fe(Fn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Fe.FNC1_SECOND_POSITION=new Fe(Fn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Fe.HANZI=new Fe(Fn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Xt{static decode(a,l,c,h){const p=new c1(a);let y=new J;const x=new Array;let b=-1,O=-1;try{let j=null,D=!1,$;do{if(p.available()<4)$=Fe.TERMINATOR;else{const W=p.readBits(4);$=Fe.forBits(W)}switch($){case Fe.TERMINATOR:break;case Fe.FNC1_FIRST_POSITION:case Fe.FNC1_SECOND_POSITION:D=!0;break;case Fe.STRUCTURED_APPEND:if(p.available()<16)throw new R;b=p.readBits(8),O=p.readBits(8);break;case Fe.ECI:const W=Xt.parseECIValue(p);if(j=L.getCharacterSetECIByValue(W),j===null)throw new R;break;case Fe.HANZI:const G=p.readBits(4),q=p.readBits($.getCharacterCountBits(l));G===Xt.GB2312_SUBSET&&Xt.decodeHanziSegment(p,y,q);break;default:const te=p.readBits($.getCharacterCountBits(l));switch($){case Fe.NUMERIC:Xt.decodeNumericSegment(p,y,te);break;case Fe.ALPHANUMERIC:Xt.decodeAlphanumericSegment(p,y,te,D);break;case Fe.BYTE:Xt.decodeByteSegment(p,y,te,j,x,h);break;case Fe.KANJI:Xt.decodeKanjiSegment(p,y,te);break;default:throw new R}break}}while($!==Fe.TERMINATOR)}catch{throw new R}return new be(a,y.toString(),x.length===0?null:x,c===null?null:c.toString(),b,O)}static decodeHanziSegment(a,l,c){if(c*13>a.available())throw new R;const h=new Uint8Array(2*c);let p=0;for(;c>0;){const y=a.readBits(13);let x=y/96<<8&4294967295|y%96;x<959?x+=41377:x+=42657,h[p]=x>>8&255,h[p+1]=x&255,p+=2,c--}try{l.append(V.decode(h,U.GB2312))}catch(y){throw new R(y)}}static decodeKanjiSegment(a,l,c){if(c*13>a.available())throw new R;const h=new Uint8Array(2*c);let p=0;for(;c>0;){const y=a.readBits(13);let x=y/192<<8&4294967295|y%192;x<7936?x+=33088:x+=49472,h[p]=x>>8,h[p+1]=x,p+=2,c--}try{l.append(V.decode(h,U.SHIFT_JIS))}catch(y){throw new R(y)}}static decodeByteSegment(a,l,c,h,p,y){if(8*c>a.available())throw new R;const x=new Uint8Array(c);for(let O=0;O<c;O++)x[O]=a.readBits(8);let b;h===null?b=U.guessEncoding(x,y):b=h.getName();try{l.append(V.decode(x,b))}catch(O){throw new R(O)}p.push(x)}static toAlphaNumericChar(a){if(a>=Xt.ALPHANUMERIC_CHARS.length)throw new R;return Xt.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,c,h){const p=l.length();for(;c>1;){if(a.available()<11)throw new R;const y=a.readBits(11);l.append(Xt.toAlphaNumericChar(Math.floor(y/45))),l.append(Xt.toAlphaNumericChar(y%45)),c-=2}if(c===1){if(a.available()<6)throw new R;l.append(Xt.toAlphaNumericChar(a.readBits(6)))}if(h)for(let y=p;y<l.length();y++)l.charAt(y)==="%"&&(y<l.length()-1&&l.charAt(y+1)==="%"?l.deleteCharAt(y+1):l.setCharAt(y,""))}static decodeNumericSegment(a,l,c){for(;c>=3;){if(a.available()<10)throw new R;const h=a.readBits(10);if(h>=1e3)throw new R;l.append(Xt.toAlphaNumericChar(Math.floor(h/100))),l.append(Xt.toAlphaNumericChar(Math.floor(h/10)%10)),l.append(Xt.toAlphaNumericChar(h%10)),c-=3}if(c===2){if(a.available()<7)throw new R;const h=a.readBits(7);if(h>=100)throw new R;l.append(Xt.toAlphaNumericChar(Math.floor(h/10))),l.append(Xt.toAlphaNumericChar(h%10))}else if(c===1){if(a.available()<4)throw new R;const h=a.readBits(4);if(h>=10)throw new R;l.append(Xt.toAlphaNumericChar(h))}}static parseECIValue(a){const l=a.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const c=a.readBits(8);return(l&63)<<8&4294967295|c}if((l&224)===192){const c=a.readBits(16);return(l&31)<<16&4294967295|c}throw new R}}Xt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Xt.GB2312_SUBSET=1;class Kw{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const l=a[0];a[0]=a[2],a[2]=l}}class Z4{constructor(){this.rsDecoder=new ft(Ae.QR_CODE_FIELD_256)}decodeBooleanArray(a,l){return this.decodeBitMatrix(Q.parseFromBooleanArray(a),l)}decodeBitMatrix(a,l){const c=new Y4(a);let h=null;try{return this.decodeBitMatrixParser(c,l)}catch(p){h=p}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const p=this.decodeBitMatrixParser(c,l);return p.setOther(new Kw(!0)),p}catch(p){throw h!==null?h:p}}decodeBitMatrixParser(a,l){const c=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),p=a.readCodewords(),y=u1.getDataBlocks(p,c,h);let x=0;for(const j of y)x+=j.getNumDataCodewords();const b=new Uint8Array(x);let O=0;for(const j of y){const D=j.getCodewords(),$=j.getNumDataCodewords();this.correctErrors(D,$);for(let W=0;W<$;W++)b[O++]=D[W]}return Xt.decode(b,c,h,l)}correctErrors(a,l){const c=new Int32Array(a);try{this.rsDecoder.decode(c,a.length-l)}catch{throw new S}for(let h=0;h<l;h++)a[h]=c[h]}}class f1 extends Oe{constructor(a,l,c){super(a,l),this.estimatedModuleSize=c}aboutEquals(a,l,c){if(Math.abs(l-this.getY())<=a&&Math.abs(c-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,c){const h=(this.getX()+l)/2,p=(this.getY()+a)/2,y=(this.estimatedModuleSize+c)/2;return new f1(h,p,y)}}class Kf{constructor(a,l,c,h,p,y,x){this.image=a,this.startX=l,this.startY=c,this.width=h,this.height=p,this.moduleSize=y,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,l=this.height,c=this.width,h=a+c,p=this.startY+l/2,y=new Int32Array(3),x=this.image;for(let b=0;b<l;b++){const O=p+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));y[0]=0,y[1]=0,y[2]=0;let j=a;for(;j<h&&!x.get(j,O);)j++;let D=0;for(;j<h;){if(x.get(j,O))if(D===1)y[1]++;else if(D===2){if(this.foundPatternCross(y)){const $=this.handlePossibleCenter(y,O,j);if($!==null)return $}y[0]=y[2],y[1]=1,y[2]=0,D=1}else y[++D]++;else D===1&&D++,y[D]++;j++}if(this.foundPatternCross(y)){const $=this.handlePossibleCenter(y,O,h);if($!==null)return $}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(a,l){return l-a[2]-a[1]/2}foundPatternCross(a){const l=this.moduleSize,c=l/2;for(let h=0;h<3;h++)if(Math.abs(l-a[h])>=c)return!1;return!0}crossCheckVertical(a,l,c,h){const p=this.image,y=p.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let b=a;for(;b>=0&&p.get(l,b)&&x[1]<=c;)x[1]++,b--;if(b<0||x[1]>c)return NaN;for(;b>=0&&!p.get(l,b)&&x[0]<=c;)x[0]++,b--;if(x[0]>c)return NaN;for(b=a+1;b<y&&p.get(l,b)&&x[1]<=c;)x[1]++,b++;if(b===y||x[1]>c)return NaN;for(;b<y&&!p.get(l,b)&&x[2]<=c;)x[2]++,b++;if(x[2]>c)return NaN;const O=x[0]+x[1]+x[2];return 5*Math.abs(O-h)>=2*h?NaN:this.foundPatternCross(x)?Kf.centerFromEnd(x,b):NaN}handlePossibleCenter(a,l,c){const h=a[0]+a[1]+a[2],p=Kf.centerFromEnd(a,c),y=this.crossCheckVertical(l,p,2*a[1],h);if(!isNaN(y)){const x=(a[0]+a[1]+a[2])/3;for(const O of this.possibleCenters)if(O.aboutEquals(x,y,p))return O.combineEstimate(y,p,x);const b=new f1(p,y,x);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class d1 extends Oe{constructor(a,l,c,h){super(a,l),this.estimatedModuleSize=c,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,l,c){if(Math.abs(l-this.getY())<=a&&Math.abs(c-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,c){const h=this.count+1,p=(this.count*this.getX()+l)/h,y=(this.count*this.getY()+a)/h,x=(this.count*this.estimatedModuleSize+c)/h;return new d1(p,y,x,h)}}class Q4{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Cr{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=a!=null&&a.get(k.TRY_HARDER)!==void 0,c=a!=null&&a.get(k.PURE_BARCODE)!==void 0,h=this.image,p=h.getHeight(),y=h.getWidth();let x=Math.floor(3*p/(4*Cr.MAX_MODULES));(x<Cr.MIN_SKIP||l)&&(x=Cr.MIN_SKIP);let b=!1;const O=new Int32Array(5);for(let D=x-1;D<p&&!b;D+=x){O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0;let $=0;for(let W=0;W<y;W++)if(h.get(W,D))($&1)===1&&$++,O[$]++;else if($&1)O[$]++;else if($===4)if(Cr.foundPatternCross(O)){if(this.handlePossibleCenter(O,D,W,c)===!0)if(x=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const q=this.findRowSkip();q>O[2]&&(D+=q-O[2]-x,W=y-1)}else{O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,$=3;continue}$=0,O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0}else O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,$=3;else O[++$]++;Cr.foundPatternCross(O)&&this.handlePossibleCenter(O,D,y,c)===!0&&(x=O[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return Oe.orderBestPatterns(j),new Q4(j)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let p=0;p<5;p++){const y=a[p];if(y===0)return!1;l+=y}if(l<7)return!1;const c=l/7,h=c/2;return Math.abs(c-a[0])<h&&Math.abs(c-a[1])<h&&Math.abs(3*c-a[2])<3*h&&Math.abs(c-a[3])<h&&Math.abs(c-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,c,h){const p=this.getCrossCheckStateCount();let y=0;const x=this.image;for(;a>=y&&l>=y&&x.get(l-y,a-y);)p[2]++,y++;if(a<y||l<y)return!1;for(;a>=y&&l>=y&&!x.get(l-y,a-y)&&p[1]<=c;)p[1]++,y++;if(a<y||l<y||p[1]>c)return!1;for(;a>=y&&l>=y&&x.get(l-y,a-y)&&p[0]<=c;)p[0]++,y++;if(p[0]>c)return!1;const b=x.getHeight(),O=x.getWidth();for(y=1;a+y<b&&l+y<O&&x.get(l+y,a+y);)p[2]++,y++;if(a+y>=b||l+y>=O)return!1;for(;a+y<b&&l+y<O&&!x.get(l+y,a+y)&&p[3]<c;)p[3]++,y++;if(a+y>=b||l+y>=O||p[3]>=c)return!1;for(;a+y<b&&l+y<O&&x.get(l+y,a+y)&&p[4]<c;)p[4]++,y++;if(p[4]>=c)return!1;const j=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(j-h)<2*h&&Cr.foundPatternCross(p)}crossCheckVertical(a,l,c,h){const p=this.image,y=p.getHeight(),x=this.getCrossCheckStateCount();let b=a;for(;b>=0&&p.get(l,b);)x[2]++,b--;if(b<0)return NaN;for(;b>=0&&!p.get(l,b)&&x[1]<=c;)x[1]++,b--;if(b<0||x[1]>c)return NaN;for(;b>=0&&p.get(l,b)&&x[0]<=c;)x[0]++,b--;if(x[0]>c)return NaN;for(b=a+1;b<y&&p.get(l,b);)x[2]++,b++;if(b===y)return NaN;for(;b<y&&!p.get(l,b)&&x[3]<c;)x[3]++,b++;if(b===y||x[3]>=c)return NaN;for(;b<y&&p.get(l,b)&&x[4]<c;)x[4]++,b++;if(x[4]>=c)return NaN;const O=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(O-h)>=2*h?NaN:Cr.foundPatternCross(x)?Cr.centerFromEnd(x,b):NaN}crossCheckHorizontal(a,l,c,h){const p=this.image,y=p.getWidth(),x=this.getCrossCheckStateCount();let b=a;for(;b>=0&&p.get(b,l);)x[2]++,b--;if(b<0)return NaN;for(;b>=0&&!p.get(b,l)&&x[1]<=c;)x[1]++,b--;if(b<0||x[1]>c)return NaN;for(;b>=0&&p.get(b,l)&&x[0]<=c;)x[0]++,b--;if(x[0]>c)return NaN;for(b=a+1;b<y&&p.get(b,l);)x[2]++,b++;if(b===y)return NaN;for(;b<y&&!p.get(b,l)&&x[3]<c;)x[3]++,b++;if(b===y||x[3]>=c)return NaN;for(;b<y&&p.get(b,l)&&x[4]<c;)x[4]++,b++;if(x[4]>=c)return NaN;const O=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(O-h)>=h?NaN:Cr.foundPatternCross(x)?Cr.centerFromEnd(x,b):NaN}handlePossibleCenter(a,l,c,h){const p=a[0]+a[1]+a[2]+a[3]+a[4];let y=Cr.centerFromEnd(a,c),x=this.crossCheckVertical(l,Math.floor(y),a[2],p);if(!isNaN(x)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(x),a[2],p),!isNaN(y)&&(!h||this.crossCheckDiagonal(Math.floor(x),Math.floor(y),a[2],p)))){const b=p/7;let O=!1;const j=this.possibleCenters;for(let D=0,$=j.length;D<$;D++){const W=j[D];if(W.aboutEquals(b,x,y)){j[D]=W.combineEstimate(x,y,b),O=!0;break}}if(!O){const D=new d1(y,x,b);j.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=Cr.CENTER_QUORUM)if(l==null)l=c;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const c=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=Cr.CENTER_QUORUM&&(a++,l+=y.getEstimatedModuleSize());if(a<3)return!1;const h=l/c;let p=0;for(const y of this.possibleCenters)p+=Math.abs(y.getEstimatedModuleSize()-h);return p<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new H;const l=this.possibleCenters;let c;if(a>3){let h=0,p=0;for(const b of this.possibleCenters){const O=b.getEstimatedModuleSize();h+=O,p+=O*O}c=h/a;let y=Math.sqrt(p/a-c*c);l.sort((b,O)=>{const j=Math.abs(O.getEstimatedModuleSize()-c),D=Math.abs(b.getEstimatedModuleSize()-c);return j<D?-1:j>D?1:0});const x=Math.max(.2*c,y);for(let b=0;b<l.length&&l.length>3;b++){const O=l[b];Math.abs(O.getEstimatedModuleSize()-c)>x&&(l.splice(b,1),b--)}}if(l.length>3){let h=0;for(const p of l)h+=p.getEstimatedModuleSize();c=h/l.length,l.sort((p,y)=>{if(y.getCount()===p.getCount()){const x=Math.abs(y.getEstimatedModuleSize()-c),b=Math.abs(p.getEstimatedModuleSize()-c);return x<b?1:x>b?-1:0}else return y.getCount()-p.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Cr.CENTER_QUORUM=2,Cr.MIN_SKIP=3,Cr.MAX_MODULES=57;class mc{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(k.NEED_RESULT_POINT_CALLBACK);const c=new Cr(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(c)}processFinderPatternInfo(a){const l=a.getTopLeft(),c=a.getTopRight(),h=a.getBottomLeft(),p=this.calculateModuleSize(l,c,h);if(p<1)throw new H("No pattern found in proccess finder.");const y=mc.computeDimension(l,c,h,p),x=Le.getProvisionalVersionForDimension(y),b=x.getDimensionForVersion()-7;let O=null;if(x.getAlignmentPatternCenters().length>0){const W=c.getX()-l.getX()+h.getX(),G=c.getY()-l.getY()+h.getY(),q=1-3/b,te=Math.floor(l.getX()+q*(W-l.getX())),oe=Math.floor(l.getY()+q*(G-l.getY()));for(let ye=4;ye<=16;ye<<=1)try{O=this.findAlignmentInRegion(p,te,oe,ye);break}catch(xe){if(!(xe instanceof H))throw xe}}const j=mc.createTransform(l,c,h,O,y),D=mc.sampleGrid(this.image,j,y);let $;return O===null?$=[h,l,c]:$=[h,l,c,O],new Pr(D,$)}static createTransform(a,l,c,h,p){const y=p-3.5;let x,b,O,j;return h!==null?(x=h.getX(),b=h.getY(),O=y-3,j=O):(x=l.getX()-a.getX()+c.getX(),b=l.getY()-a.getY()+c.getY(),O=y,j=y),De.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,O,j,3.5,y,a.getX(),a.getY(),l.getX(),l.getY(),x,b,c.getX(),c.getY())}static sampleGrid(a,l,c){return _e.getInstance().sampleGridWithTransform(a,c,c,l)}static computeDimension(a,l,c,h){const p=Ke.round(Oe.distance(a,l)/h),y=Ke.round(Oe.distance(a,c)/h);let x=Math.floor((p+y)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new H("Dimensions could be not found.")}return x}calculateModuleSize(a,l,c){return(this.calculateModuleSizeOneWay(a,l)+this.calculateModuleSizeOneWay(a,c))/2}calculateModuleSizeOneWay(a,l){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(l.getX()),Math.floor(l.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(c)?h/7:isNaN(h)?c/7:(c+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,l,c,h){let p=this.sizeOfBlackWhiteBlackRun(a,l,c,h),y=1,x=a-(c-a);x<0?(y=a/(a-x),x=0):x>=this.image.getWidth()&&(y=(this.image.getWidth()-1-a)/(x-a),x=this.image.getWidth()-1);let b=Math.floor(l-(h-l)*y);return y=1,b<0?(y=l/(l-b),b=0):b>=this.image.getHeight()&&(y=(this.image.getHeight()-1-l)/(b-l),b=this.image.getHeight()-1),x=Math.floor(a+(x-a)*y),p+=this.sizeOfBlackWhiteBlackRun(a,l,x,b),p-1}sizeOfBlackWhiteBlackRun(a,l,c,h){const p=Math.abs(h-l)>Math.abs(c-a);if(p){let W=a;a=l,l=W,W=c,c=h,h=W}const y=Math.abs(c-a),x=Math.abs(h-l);let b=-y/2;const O=a<c?1:-1,j=l<h?1:-1;let D=0;const $=c+O;for(let W=a,G=l;W!==$;W+=O){const q=p?G:W,te=p?W:G;if(D===1===this.image.get(q,te)){if(D===2)return Ke.distance(W,G,a,l);D++}if(b+=x,b>0){if(G===h)break;G+=j,b-=y}}return D===2?Ke.distance(c+O,h,a,l):NaN}findAlignmentInRegion(a,l,c,h){const p=Math.floor(h*a),y=Math.max(0,l-p),x=Math.min(this.image.getWidth()-1,l+p);if(x-y<a*3)throw new H("Alignment top exceeds estimated module size.");const b=Math.max(0,c-p),O=Math.min(this.image.getHeight()-1,c+p);if(O-b<a*3)throw new H("Alignment bottom exceeds estimated module size.");return new Kf(this.image,y,b,x-y,O-b,a,this.resultPointCallback).find()}}class As{constructor(){this.decoder=new Z4}getDecoder(){return this.decoder}decode(a,l){let c,h;if(l!=null&&l.get(k.PURE_BARCODE)!==void 0){const b=As.extractPureBits(a.getBlackMatrix());c=this.decoder.decodeBitMatrix(b,l),h=As.NO_POINTS}else{const b=new mc(a.getBlackMatrix()).detect(l);c=this.decoder.decodeBitMatrix(b.getBits(),l),h=b.getPoints()}c.getOther()instanceof Kw&&c.getOther().applyMirroredCorrection(h);const p=new Te(c.getText(),c.getRawBytes(),void 0,h,we.QR_CODE,void 0),y=c.getByteSegments();y!==null&&p.putMetadata(rt.BYTE_SEGMENTS,y);const x=c.getECLevel();return x!==null&&p.putMetadata(rt.ERROR_CORRECTION_LEVEL,x),c.hasStructuredAppend()&&(p.putMetadata(rt.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),p.putMetadata(rt.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),p}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),c=a.getBottomRightOnBit();if(l===null||c===null)throw new H;const h=this.moduleSize(l,a);let p=l[1],y=c[1],x=l[0],b=c[0];if(x>=b||p>=y)throw new H;if(y-p!==b-x&&(b=x+(y-p),b>=a.getWidth()))throw new H;const O=Math.round((b-x+1)/h),j=Math.round((y-p+1)/h);if(O<=0||j<=0)throw new H;if(j!==O)throw new H;const D=Math.floor(h/2);p+=D,x+=D;const $=x+Math.floor((O-1)*h)-b;if($>0){if($>D)throw new H;x-=$}const W=p+Math.floor((j-1)*h)-y;if(W>0){if(W>D)throw new H;p-=W}const G=new Q(O,j);for(let q=0;q<j;q++){const te=p+Math.floor(q*h);for(let oe=0;oe<O;oe++)a.get(x+Math.floor(oe*h),te)&&G.set(oe,q)}return G}static moduleSize(a,l){const c=l.getHeight(),h=l.getWidth();let p=a[0],y=a[1],x=!0,b=0;for(;p<h&&y<c;){if(x!==l.get(p,y)){if(++b===5)break;x=!x}p++,y++}if(p===h||y===c)throw new H;return(p-a[0])/7}}As.NO_POINTS=new Array;class Ve{PDF417Common(){}static getBitCountSum(a){return Ke.sum(a)}static toIntArray(a){if(a==null||!a.length)return Ve.EMPTY_INT_ARRAY;const l=new Int32Array(a.length);let c=0;for(const h of a)l[c++]=h;return l}static getCodeword(a){const l=C.binarySearch(Ve.SYMBOL_TABLE,a&262143);return l<0?-1:(Ve.CODEWORD_TABLE[l]-1)%Ve.NUMBER_OF_CODEWORDS}}Ve.NUMBER_OF_CODEWORDS=929,Ve.MAX_CODEWORDS_IN_BARCODE=Ve.NUMBER_OF_CODEWORDS-1,Ve.MIN_ROWS_IN_BARCODE=3,Ve.MAX_ROWS_IN_BARCODE=90,Ve.MODULES_IN_CODEWORD=17,Ve.MODULES_IN_STOP_PATTERN=18,Ve.BARS_IN_MODULE=8,Ve.EMPTY_INT_ARRAY=new Int32Array([]),Ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class J4{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class tt{static detectMultiple(a,l,c){let h=a.getBlackMatrix(),p=tt.detect(c,h);return p.length||(h=h.clone(),h.rotate180(),p=tt.detect(c,h)),new J4(h,p)}static detect(a,l){const c=new Array;let h=0,p=0,y=!1;for(;h<l.getHeight();){const x=tt.findVertices(l,h,p);if(x[0]==null&&x[3]==null){if(!y)break;y=!1,p=0;for(const b of c)b[1]!=null&&(h=Math.trunc(Math.max(h,b[1].getY()))),b[3]!=null&&(h=Math.max(h,Math.trunc(b[3].getY())));h+=tt.ROW_STEP;continue}if(y=!0,c.push(x),!a)break;x[2]!=null?(p=Math.trunc(x[2].getX()),h=Math.trunc(x[2].getY())):(p=Math.trunc(x[4].getX()),h=Math.trunc(x[4].getY()))}return c}static findVertices(a,l,c){const h=a.getHeight(),p=a.getWidth(),y=new Array(8);return tt.copyToResult(y,tt.findRowsWithPattern(a,h,p,l,c,tt.START_PATTERN),tt.INDEXES_START_PATTERN),y[4]!=null&&(c=Math.trunc(y[4].getX()),l=Math.trunc(y[4].getY())),tt.copyToResult(y,tt.findRowsWithPattern(a,h,p,l,c,tt.STOP_PATTERN),tt.INDEXES_STOP_PATTERN),y}static copyToResult(a,l,c){for(let h=0;h<c.length;h++)a[c[h]]=l[h]}static findRowsWithPattern(a,l,c,h,p,y){const x=new Array(4);let b=!1;const O=new Int32Array(y.length);for(;h<l;h+=tt.ROW_STEP){let D=tt.findGuardPattern(a,p,h,c,!1,y,O);if(D!=null){for(;h>0;){const $=tt.findGuardPattern(a,p,--h,c,!1,y,O);if($!=null)D=$;else{h++;break}}x[0]=new Oe(D[0],h),x[1]=new Oe(D[1],h),b=!0;break}}let j=h+1;if(b){let D=0,$=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;j<l;j++){const W=tt.findGuardPattern(a,$[0],j,c,!1,y,O);if(W!=null&&Math.abs($[0]-W[0])<tt.MAX_PATTERN_DRIFT&&Math.abs($[1]-W[1])<tt.MAX_PATTERN_DRIFT)$=W,D=0;else{if(D>tt.SKIPPED_ROW_COUNT_MAX)break;D++}}j-=D+1,x[2]=new Oe($[0],j),x[3]=new Oe($[1],j)}return j-h<tt.BARCODE_MIN_HEIGHT&&C.fill(x,null),x}static findGuardPattern(a,l,c,h,p,y,x){C.fillWithin(x,0,x.length,0);let b=l,O=0;for(;a.get(b,c)&&b>0&&O++<tt.MAX_PIXEL_DRIFT;)b--;let j=b,D=0,$=y.length;for(let W=p;j<h;j++)if(a.get(j,c)!==W)x[D]++;else{if(D===$-1){if(tt.patternMatchVariance(x,y,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return new Int32Array([b,j]);b+=x[0]+x[1],_.arraycopy(x,2,x,0,D-1),x[D-1]=0,x[D]=0,D--}else D++;x[D]=1,W=!W}return D===$-1&&tt.patternMatchVariance(x,y,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE?new Int32Array([b,j-1]):null}static patternMatchVariance(a,l,c){let h=a.length,p=0,y=0;for(let O=0;O<h;O++)p+=a[O],y+=l[O];if(p<y)return 1/0;let x=p/y;c*=x;let b=0;for(let O=0;O<h;O++){let j=a[O],D=l[O]*x,$=j>D?j-D:D-j;if($>c)return 1/0;b+=$}return b/p}}tt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),tt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),tt.MAX_AVG_VARIANCE=.42,tt.MAX_INDIVIDUAL_VARIANCE=.8,tt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),tt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),tt.MAX_PIXEL_DRIFT=3,tt.MAX_PATTERN_DRIFT=5,tt.SKIPPED_ROW_COUNT_MAX=25,tt.ROW_STEP=5,tt.BARCODE_MIN_HEIGHT=10;class kr{constructor(a,l){if(l.length===0)throw new v;this.field=a;let c=l.length;if(c>1&&l[0]===0){let h=1;for(;h<c&&l[h]===0;)h++;h===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-h),_.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let p of this.coefficients)h=this.field.add(h,p);return h}let l=this.coefficients[0],c=this.coefficients.length;for(let h=1;h<c;h++)l=this.field.add(this.field.multiply(a,l),this.coefficients[h]);return l}add(a){if(!this.field.equals(a.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,c=a.coefficients;if(l.length>c.length){let y=l;l=c,c=y}let h=new Int32Array(c.length),p=c.length-l.length;_.arraycopy(c,0,h,0,p);for(let y=p;y<c.length;y++)h[y]=this.field.add(l[y-p],c[y]);return new kr(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new v("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof kr?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new kr(this.field,new Int32Array([0]));let l=this.coefficients,c=l.length,h=a.coefficients,p=h.length,y=new Int32Array(c+p-1);for(let x=0;x<c;x++){let b=l[x];for(let O=0;O<p;O++)y[x+O]=this.field.add(y[x+O],this.field.multiply(b,h[O]))}return new kr(this.field,y)}negative(){let a=this.coefficients.length,l=new Int32Array(a);for(let c=0;c<a;c++)l[c]=this.field.subtract(0,this.coefficients[c]);return new kr(this.field,l)}multiplyScalar(a){if(a===0)return new kr(this.field,new Int32Array([0]));if(a===1)return this;let l=this.coefficients.length,c=new Int32Array(l);for(let h=0;h<l;h++)c[h]=this.field.multiply(this.coefficients[h],a);return new kr(this.field,c)}multiplyByMonomial(a,l){if(a<0)throw new v;if(l===0)return new kr(this.field,new Int32Array([0]));let c=this.coefficients.length,h=new Int32Array(c+a);for(let p=0;p<c;p++)h[p]=this.field.multiply(this.coefficients[p],l);return new kr(this.field,h)}toString(){let a=new J;for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);c!==0&&(c<0?(a.append(" - "),c=-c):a.length()>0&&a.append(" + "),(l===0||c!==1)&&a.append(c),l!==0&&(l===1?a.append("x"):(a.append("x^"),a.append(l))))}return a.toString()}}class ek{add(a,l){return(a+l)%this.modulus}subtract(a,l){return(this.modulus+a-l)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new v;return this.logTable[a]}inverse(a){if(a===0)throw new ue;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class h1 extends ek{constructor(a,l){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let c=1;for(let h=0;h<a;h++)this.expTable[h]=c,c=c*l%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new kr(this,new Int32Array([0])),this.one=new kr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new v;if(l===0)return this.zero;let c=new Int32Array(a+1);return c[0]=l,new kr(this,c)}}h1.PDF417_GF=new h1(Ve.NUMBER_OF_CODEWORDS,3);class Xw{constructor(){this.field=h1.PDF417_GF}decode(a,l,c){let h=new kr(this.field,a),p=new Int32Array(l),y=!1;for(let G=l;G>0;G--){let q=h.evaluateAt(this.field.exp(G));p[l-G]=q,q!==0&&(y=!0)}if(!y)return 0;let x=this.field.getOne();if(c!=null)for(const G of c){let q=this.field.exp(a.length-1-G),te=new kr(this.field,new Int32Array([this.field.subtract(0,q),1]));x=x.multiply(te)}let b=new kr(this.field,p),O=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),b,l),j=O[0],D=O[1],$=this.findErrorLocations(j),W=this.findErrorMagnitudes(D,j,$);for(let G=0;G<$.length;G++){let q=a.length-1-this.field.log($[G]);if(q<0)throw S.getChecksumInstance();a[q]=this.field.subtract(a[q],W[G])}return $.length}runEuclideanAlgorithm(a,l,c){if(a.getDegree()<l.getDegree()){let $=a;a=l,l=$}let h=a,p=l,y=this.field.getZero(),x=this.field.getOne();for(;p.getDegree()>=Math.round(c/2);){let $=h,W=y;if(h=p,y=x,h.isZero())throw S.getChecksumInstance();p=$;let G=this.field.getZero(),q=h.getCoefficient(h.getDegree()),te=this.field.inverse(q);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){let oe=p.getDegree()-h.getDegree(),ye=this.field.multiply(p.getCoefficient(p.getDegree()),te);G=G.add(this.field.buildMonomial(oe,ye)),p=p.subtract(h.multiplyByMonomial(oe,ye))}x=G.multiply(y).subtract(W).negative()}let b=x.getCoefficient(0);if(b===0)throw S.getChecksumInstance();let O=this.field.inverse(b),j=x.multiply(O),D=p.multiply(O);return[j,D]}findErrorLocations(a){let l=a.getDegree(),c=new Int32Array(l),h=0;for(let p=1;p<this.field.getSize()&&h<l;p++)a.evaluateAt(p)===0&&(c[h]=this.field.inverse(p),h++);if(h!==l)throw S.getChecksumInstance();return c}findErrorMagnitudes(a,l,c){let h=l.getDegree(),p=new Int32Array(h);for(let O=1;O<=h;O++)p[h-O]=this.field.multiply(O,l.getCoefficient(O));let y=new kr(this.field,p),x=c.length,b=new Int32Array(x);for(let O=0;O<x;O++){let j=this.field.inverse(c[O]),D=this.field.subtract(0,a.evaluateAt(j)),$=this.field.inverse(y.evaluateAt(j));b[O]=this.field.multiply(D,$)}return b}}class fa{constructor(a,l,c,h,p){a instanceof fa?this.constructor_2(a):this.constructor_1(a,l,c,h,p)}constructor_1(a,l,c,h,p){const y=l==null||c==null,x=h==null||p==null;if(y&&x)throw new H;y?(l=new Oe(0,h.getY()),c=new Oe(0,p.getY())):x&&(h=new Oe(a.getWidth()-1,l.getY()),p=new Oe(a.getWidth()-1,c.getY())),this.image=a,this.topLeft=l,this.bottomLeft=c,this.topRight=h,this.bottomRight=p,this.minX=Math.trunc(Math.min(l.getX(),c.getX())),this.maxX=Math.trunc(Math.max(h.getX(),p.getX())),this.minY=Math.trunc(Math.min(l.getY(),h.getY())),this.maxY=Math.trunc(Math.max(c.getY(),p.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,l){return a==null?l:l==null?a:new fa(a.image,a.topLeft,a.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(a,l,c){let h=this.topLeft,p=this.bottomLeft,y=this.topRight,x=this.bottomRight;if(a>0){let b=c?this.topLeft:this.topRight,O=Math.trunc(b.getY()-a);O<0&&(O=0);let j=new Oe(b.getX(),O);c?h=j:y=j}if(l>0){let b=c?this.bottomLeft:this.bottomRight,O=Math.trunc(b.getY()+l);O>=this.image.getHeight()&&(O=this.image.getHeight()-1);let j=new Oe(b.getX(),O);c?p=j:x=j}return new fa(this.image,h,p,y,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class tk{constructor(a,l,c,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=l,this.rowCountLowerPart=c,this.rowCount=l+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class yc{constructor(){this.buffer=""}static form(a,l){let c=-1;function h(y,x,b,O,j,D){if(y==="%%")return"%";if(l[++c]===void 0)return;y=O?parseInt(O.substr(1)):void 0;let $=j?parseInt(j.substr(1)):void 0,W;switch(D){case"s":W=l[c];break;case"c":W=l[c][0];break;case"f":W=parseFloat(l[c]).toFixed(y);break;case"p":W=parseFloat(l[c]).toPrecision(y);break;case"e":W=parseFloat(l[c]).toExponential(y);break;case"x":W=parseInt(l[c]).toString($||16);break;case"d":W=parseFloat(parseInt(l[c],$||10).toPrecision(y)).toFixed(0);break}W=typeof W=="object"?JSON.stringify(W):(+W).toString($);let G=parseInt(b),q=b&&b[0]+""=="0"?"0":" ";for(;W.length<G;)W=x!==void 0?W+q:q+W;return W}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(p,h)}format(a,...l){this.buffer+=yc.form(a,l)}toString(){return this.buffer}}class vc{constructor(a){this.boundingBox=new fa(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(l!=null)return l;for(let c=1;c<vc.MAX_NEARBY_DISTANCE;c++){let h=this.imageRowToCodewordIndex(a)-c;if(h>=0&&(l=this.codewords[h],l!=null)||(h=this.imageRowToCodewordIndex(a)+c,h<this.codewords.length&&(l=this.codewords[h],l!=null)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new yc;let l=0;for(const c of this.codewords){if(c==null){a.format("%3d:    |   %n",l++);continue}a.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue())}return a.toString()}}vc.MAX_NEARBY_DISTANCE=5;class xc{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let l=this.values.get(a);l==null&&(l=0),l++,this.values.set(a,l)}getValue(){let a=-1,l=new Array;for(const[c,h]of this.values.entries()){const p={getKey:()=>c,getValue:()=>h};p.getValue()>a?(a=p.getValue(),l=[],l.push(p.getKey())):p.getValue()===a&&l.push(p.getKey())}return Ve.toIntArray(l)}getConfidence(a){return this.values.get(a)}}class Yw extends vc{constructor(a,l){super(a),this._isLeft=l}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,a);let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),p=this._isLeft?c.getBottomLeft():c.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),x=this.imageRowToCodewordIndex(Math.trunc(p.getY())),b=-1,O=1,j=0;for(let D=y;D<x;D++){if(l[D]==null)continue;let $=l[D],W=$.getRowNumber()-b;if(W===0)j++;else if(W===1)O=Math.max(O,j),j=1,b=$.getRowNumber();else if(W<0||$.getRowNumber()>=a.getRowCount()||W>D)l[D]=null;else{let G;O>2?G=(O-2)*W:G=W;let q=G>=D;for(let te=1;te<=G&&!q;te++)q=l[D-te]!=null;q?l[D]=null:(b=$.getRowNumber(),j=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let l=new Int32Array(a.getRowCount());for(let c of this.getCodewords())if(c!=null){let h=c.getRowNumber();if(h>=l.length)continue;l[h]++}return l}adjustIncompleteIndicatorColumnRowNumbers(a){let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),x=this.getCodewords(),b=-1;for(let O=p;O<y;O++){if(x[O]==null)continue;let j=x[O];j.setRowNumberAsRowIndicatorColumn();let D=j.getRowNumber()-b;D===0||(D===1?b=j.getRowNumber():j.getRowNumber()>=a.getRowCount()?x[O]=null:b=j.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),l=new xc,c=new xc,h=new xc,p=new xc;for(let x of a){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let b=x.getValue()%30,O=x.getRowNumber();switch(this._isLeft||(O+=2),O%3){case 0:c.setValue(b*3+1);break;case 1:p.setValue(b/3),h.setValue(b%3);break;case 2:l.setValue(b+1);break}}if(l.getValue().length===0||c.getValue().length===0||h.getValue().length===0||p.getValue().length===0||l.getValue()[0]<1||c.getValue()[0]+h.getValue()[0]<Ve.MIN_ROWS_IN_BARCODE||c.getValue()[0]+h.getValue()[0]>Ve.MAX_ROWS_IN_BARCODE)return null;let y=new tk(l.getValue()[0],c.getValue()[0],h.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(a,y),y}removeIncorrectCodewords(a,l){for(let c=0;c<a.length;c++){let h=a[c];if(a[c]==null)continue;let p=h.getValue()%30,y=h.getRowNumber();if(y>l.getRowCount()){a[c]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:p*3+1!==l.getRowCountUpperPart()&&(a[c]=null);break;case 1:(Math.trunc(p/3)!==l.getErrorCorrectionLevel()||p%3!==l.getRowCountLowerPart())&&(a[c]=null);break;case 2:p+1!==l.getColumnCount()&&(a[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class wc{constructor(a,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=Ve.MAX_CODEWORDS_IN_BARCODE,l;do l=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let c=this.detectionResultColumns[l].getCodewords();for(let h=0;h<c.length;h++)c[h]!=null&&(c[h].hasValidRowNumber()||this.adjustRowNumbers(l,h,c))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<a.length;c++)if(a[c]!=null&&l[c]!=null&&a[c].getRowNumber()===l[c].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let p=this.detectionResultColumns[h].getCodewords()[c];p!=null&&(p.setRowNumber(a[c].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let h=l[c].getRowNumber(),p=0;for(let y=this.barcodeColumnCount+1;y>0&&p<this.ADJUST_ROW_NUMBER_SKIP;y--){let x=this.detectionResultColumns[y].getCodewords()[c];x!=null&&(p=wc.adjustRowNumberIfValid(h,p,x),x.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,l=this.detectionResultColumns[0].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let h=l[c].getRowNumber(),p=0;for(let y=1;y<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;y++){let x=this.detectionResultColumns[y].getCodewords()[c];x!=null&&(p=wc.adjustRowNumberIfValid(h,p,x),x.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,l,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(a)?(c.setRowNumber(a),l=0):++l),l}adjustRowNumbers(a,l,c){if(!this.detectionResultColumns[a-1])return;let h=c[l],p=this.detectionResultColumns[a-1].getCodewords(),y=p;this.detectionResultColumns[a+1]!=null&&(y=this.detectionResultColumns[a+1].getCodewords());let x=new Array(14);x[2]=p[l],x[3]=y[l],l>0&&(x[0]=c[l-1],x[4]=p[l-1],x[5]=y[l-1]),l>1&&(x[8]=c[l-2],x[10]=p[l-2],x[11]=y[l-2]),l<c.length-1&&(x[1]=c[l+1],x[6]=p[l+1],x[7]=y[l+1]),l<c.length-2&&(x[9]=c[l+2],x[12]=p[l+2],x[13]=y[l+2]);for(let b of x)if(wc.adjustRowNumber(h,b))return}static adjustRowNumber(a,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===a.getBucket()?(a.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,l){this.detectionResultColumns[a]=l}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new yc;for(let c=0;c<a.getCodewords().length;c++){l.format("CW %3d:",c);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){l.format("    |   ");continue}let p=this.detectionResultColumns[h].getCodewords()[c];if(p==null){l.format("    |   ");continue}l.format(" %3d|%3d",p.getRowNumber(),p.getValue())}l.format("%n")}return l.toString()}}class bc{constructor(a,l,c,h){this.rowNumber=bc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==bc.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}bc.BARCODE_ROW_UNKNOWN=-1;class ln{static initialize(){for(let a=0;a<Ve.SYMBOL_TABLE.length;a++){let l=Ve.SYMBOL_TABLE[a],c=l&1;for(let h=0;h<Ve.BARS_IN_MODULE;h++){let p=0;for(;(l&1)===c;)p+=1,l>>=1;c=l&1,ln.RATIOS_TABLE[a]||(ln.RATIOS_TABLE[a]=new Array(Ve.BARS_IN_MODULE)),ln.RATIOS_TABLE[a][Ve.BARS_IN_MODULE-h-1]=Math.fround(p/Ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let l=ln.getDecodedCodewordValue(ln.sampleBitCounts(a));return l!==-1?l:ln.getClosestDecodedValue(a)}static sampleBitCounts(a){let l=Ke.sum(a),c=new Int32Array(Ve.BARS_IN_MODULE),h=0,p=0;for(let y=0;y<Ve.MODULES_IN_CODEWORD;y++){let x=l/(2*Ve.MODULES_IN_CODEWORD)+y*l/Ve.MODULES_IN_CODEWORD;p+a[h]<=x&&(p+=a[h],h++),c[h]++}return c}static getDecodedCodewordValue(a){let l=ln.getBitValue(a);return Ve.getCodeword(l)===-1?-1:l}static getBitValue(a){let l=0;for(let c=0;c<a.length;c++)for(let h=0;h<a[c];h++)l=l<<1|(c%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(a){let l=Ke.sum(a),c=new Array(Ve.BARS_IN_MODULE);if(l>1)for(let y=0;y<c.length;y++)c[y]=Math.fround(a[y]/l);let h=zr.MAX_VALUE,p=-1;this.bSymbolTableReady||ln.initialize();for(let y=0;y<ln.RATIOS_TABLE.length;y++){let x=0,b=ln.RATIOS_TABLE[y];for(let O=0;O<Ve.BARS_IN_MODULE;O++){let j=Math.fround(b[O]-c[O]);if(x+=Math.fround(j*j),x>=h)break}x<h&&(h=x,p=Ve.SYMBOL_TABLE[y])}return p}}ln.bSymbolTableReady=!1,ln.RATIOS_TABLE=new Array(Ve.SYMBOL_TABLE.length).map(M=>new Array(Ve.BARS_IN_MODULE));class Zw{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class Qw{static parseLong(a,l=void 0){return parseInt(a,l)}}class Jw extends d{}Jw.kind="NullPointerException";class rk{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,l,c){if(a==null)throw new Jw;if(l<0||l>a.length||c<0||l+c>a.length||l+c<0)throw new A;if(c===0)return;for(let h=0;h<c;h++)this.write(a[l+h])}flush(){}close(){}}class nk extends d{}class ik extends rk{constructor(a=32){if(super(),this.count=0,a<0)throw new v("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let c=this.buf.length<<1;if(c-a<0&&(c=a),c<0){if(a<0)throw new nk;c=T.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,c)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,l,c){if(l<0||l>a.length||c<0||l+c-a.length>0)throw new A;this.ensureCapacity(this.count+c),_.arraycopy(a,l,this.buf,this.count,c),this.count+=c}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return C.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var Nt;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Nt||(Nt={}));function eb(){if(typeof window<"u")return window.BigInt||null;if(typeof Yi<"u")return Yi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Xf;function _s(M){if(typeof Xf>"u"&&(Xf=eb()),Xf===null)throw new Error("BigInt is not supported!");return Xf(M)}function sk(){let M=[];M[0]=_s(1);let a=_s(900);M[1]=a;for(let l=2;l<16;l++)M[l]=M[l-1]*a;return M}class ie{static decode(a,l){let c=new J(""),h=L.ISO8859_1;c.enableDecoding(h);let p=1,y=a[p++],x=new Zw;for(;p<a[0];){switch(y){case ie.TEXT_COMPACTION_MODE_LATCH:p=ie.textCompaction(a,p,c);break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:p=ie.byteCompaction(y,a,h,p,c);break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[p++]);break;case ie.NUMERIC_COMPACTION_MODE_LATCH:p=ie.numericCompaction(a,p,c);break;case ie.ECI_CHARSET:L.getCharacterSetECIByValue(a[p++]);break;case ie.ECI_GENERAL_PURPOSE:p+=2;break;case ie.ECI_USER_DEFINED:p++;break;case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=ie.decodeMacroBlock(a,p,x);break;case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:throw new R;default:p--,p=ie.textCompaction(a,p,c);break}if(p<a.length)y=a[p++];else throw R.getFormatInstance()}if(c.length()===0)throw R.getFormatInstance();let b=new be(null,c.toString(),null,l);return b.setOther(x),b}static decodeMacroBlock(a,l,c){if(l+ie.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw R.getFormatInstance();let h=new Int32Array(ie.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<ie.NUMBER_OF_SEQUENCE_CODEWORDS;x++,l++)h[x]=a[l];c.setSegmentIndex(T.parseInt(ie.decodeBase900toBase10(h,ie.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new J;l=ie.textCompaction(a,l,p),c.setFileId(p.toString());let y=-1;for(a[l]===ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=l+1);l<a[0];)switch(a[l]){case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,a[l]){case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new J;l=ie.textCompaction(a,l+1,x),c.setFileName(x.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new J;l=ie.textCompaction(a,l+1,b),c.setSender(b.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let O=new J;l=ie.textCompaction(a,l+1,O),c.setAddressee(O.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new J;l=ie.numericCompaction(a,l+1,j),c.setSegmentCount(T.parseInt(j.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new J;l=ie.numericCompaction(a,l+1,D),c.setTimestamp(Qw.parseLong(D.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let $=new J;l=ie.numericCompaction(a,l+1,$),c.setChecksum(T.parseInt($.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let W=new J;l=ie.numericCompaction(a,l+1,W),c.setFileSize(Qw.parseLong(W.toString()));break;default:throw R.getFormatInstance()}break;case ie.MACRO_PDF417_TERMINATOR:l++,c.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(y!==-1){let x=l-y;c.isLastSegment()&&x--,c.setOptionalData(C.copyOfRange(a,y,y+x))}return l}static textCompaction(a,l,c){let h=new Int32Array((a[0]-l)*2),p=new Int32Array((a[0]-l)*2),y=0,x=!1;for(;l<a[0]&&!x;){let b=a[l++];if(b<ie.TEXT_COMPACTION_MODE_LATCH)h[y]=b/30,h[y+1]=b%30,y+=2;else switch(b){case ie.TEXT_COMPACTION_MODE_LATCH:h[y++]=ie.TEXT_COMPACTION_MODE_LATCH;break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:l--,x=!0;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[y]=ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=a[l++],p[y]=b,y++;break}}return ie.decodeTextCompaction(h,p,y,c),l}static decodeTextCompaction(a,l,c,h){let p=Nt.ALPHA,y=Nt.ALPHA,x=0;for(;x<c;){let b=a[x],O="";switch(p){case Nt.ALPHA:if(b<26)O=String.fromCharCode(65+b);else switch(b){case 26:O=" ";break;case ie.LL:p=Nt.LOWER;break;case ie.ML:p=Nt.MIXED;break;case ie.PS:y=p,p=Nt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[x]);break;case ie.TEXT_COMPACTION_MODE_LATCH:p=Nt.ALPHA;break}break;case Nt.LOWER:if(b<26)O=String.fromCharCode(97+b);else switch(b){case 26:O=" ";break;case ie.AS:y=p,p=Nt.ALPHA_SHIFT;break;case ie.ML:p=Nt.MIXED;break;case ie.PS:y=p,p=Nt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[x]);break;case ie.TEXT_COMPACTION_MODE_LATCH:p=Nt.ALPHA;break}break;case Nt.MIXED:if(b<ie.PL)O=ie.MIXED_CHARS[b];else switch(b){case ie.PL:p=Nt.PUNCT;break;case 26:O=" ";break;case ie.LL:p=Nt.LOWER;break;case ie.AL:p=Nt.ALPHA;break;case ie.PS:y=p,p=Nt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[x]);break;case ie.TEXT_COMPACTION_MODE_LATCH:p=Nt.ALPHA;break}break;case Nt.PUNCT:if(b<ie.PAL)O=ie.PUNCT_CHARS[b];else switch(b){case ie.PAL:p=Nt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[x]);break;case ie.TEXT_COMPACTION_MODE_LATCH:p=Nt.ALPHA;break}break;case Nt.ALPHA_SHIFT:if(p=y,b<26)O=String.fromCharCode(65+b);else switch(b){case 26:O=" ";break;case ie.TEXT_COMPACTION_MODE_LATCH:p=Nt.ALPHA;break}break;case Nt.PUNCT_SHIFT:if(p=y,b<ie.PAL)O=ie.PUNCT_CHARS[b];else switch(b){case ie.PAL:p=Nt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[x]);break;case ie.TEXT_COMPACTION_MODE_LATCH:p=Nt.ALPHA;break}break}O!==""&&h.append(O),x++}}static byteCompaction(a,l,c,h,p){let y=new ik,x=0,b=0,O=!1;switch(a){case ie.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),D=l[h++];for(;h<l[0]&&!O;)switch(j[x++]=D,b=900*b+D,D=l[h++],D){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:h--,O=!0;break;default:if(x%5===0&&x>0){for(let $=0;$<6;++$)y.write(Number(_s(b)>>_s(8*(5-$))));b=0,x=0}break}h===l[0]&&D<ie.TEXT_COMPACTION_MODE_LATCH&&(j[x++]=D);for(let $=0;$<x;$++)y.write(j[$]);break;case ie.BYTE_COMPACTION_MODE_LATCH_6:for(;h<l[0]&&!O;){let $=l[h++];if($<ie.TEXT_COMPACTION_MODE_LATCH)x++,b=900*b+$;else switch($){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:h--,O=!0;break}if(x%5===0&&x>0){for(let W=0;W<6;++W)y.write(Number(_s(b)>>_s(8*(5-W))));b=0,x=0}}break}return p.append(V.decode(y.toByteArray(),c)),h}static numericCompaction(a,l,c){let h=0,p=!1,y=new Int32Array(ie.MAX_NUMERIC_CODEWORDS);for(;l<a[0]&&!p;){let x=a[l++];if(l===a[0]&&(p=!0),x<ie.TEXT_COMPACTION_MODE_LATCH)y[h]=x,h++;else switch(x){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:l--,p=!0;break}(h%ie.MAX_NUMERIC_CODEWORDS===0||x===ie.NUMERIC_COMPACTION_MODE_LATCH||p)&&h>0&&(c.append(ie.decodeBase900toBase10(y,h)),h=0)}return l}static decodeBase900toBase10(a,l){let c=_s(0);for(let p=0;p<l;p++)c+=ie.EXP900[l-p-1]*_s(a[p]);let h=c.toString();if(h.charAt(0)!=="1")throw new R;return h.substring(1)}}ie.TEXT_COMPACTION_MODE_LATCH=900,ie.BYTE_COMPACTION_MODE_LATCH=901,ie.NUMERIC_COMPACTION_MODE_LATCH=902,ie.BYTE_COMPACTION_MODE_LATCH_6=924,ie.ECI_USER_DEFINED=925,ie.ECI_GENERAL_PURPOSE=926,ie.ECI_CHARSET=927,ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ie.MACRO_PDF417_TERMINATOR=922,ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ie.MAX_NUMERIC_CODEWORDS=15,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ie.PL=25,ie.LL=27,ie.AS=27,ie.ML=28,ie.AL=28,ie.PS=29,ie.PAL=29,ie.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ie.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ie.EXP900=eb()?sk():[],ie.NUMBER_OF_SEQUENCE_CODEWORDS=2;class nt{constructor(){}static decode(a,l,c,h,p,y,x){let b=new fa(a,l,c,h,p),O=null,j=null,D;for(let G=!0;;G=!1){if(l!=null&&(O=nt.getRowIndicatorColumn(a,b,l,!0,y,x)),h!=null&&(j=nt.getRowIndicatorColumn(a,b,h,!1,y,x)),D=nt.merge(O,j),D==null)throw H.getNotFoundInstance();let q=D.getBoundingBox();if(G&&q!=null&&(q.getMinY()<b.getMinY()||q.getMaxY()>b.getMaxY()))b=q;else break}D.setBoundingBox(b);let $=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,O),D.setDetectionResultColumn($,j);let W=O!=null;for(let G=1;G<=$;G++){let q=W?G:$-G;if(D.getDetectionResultColumn(q)!==void 0)continue;let te;q===0||q===$?te=new Yw(b,q===0):te=new vc(b),D.setDetectionResultColumn(q,te);let oe=-1,ye=oe;for(let xe=b.getMinY();xe<=b.getMaxY();xe++){if(oe=nt.getStartColumn(D,q,xe,W),oe<0||oe>b.getMaxX()){if(ye===-1)continue;oe=ye}let ge=nt.detectCodeword(a,b.getMinX(),b.getMaxX(),W,oe,xe,y,x);ge!=null&&(te.setCodeword(xe,ge),ye=oe,y=Math.min(y,ge.getWidth()),x=Math.max(x,ge.getWidth()))}}return nt.createDecoderResult(D)}static merge(a,l){if(a==null&&l==null)return null;let c=nt.getBarcodeMetadata(a,l);if(c==null)return null;let h=fa.merge(nt.adjustBoundingBox(a),nt.adjustBoundingBox(l));return new wc(c,h)}static adjustBoundingBox(a){if(a==null)return null;let l=a.getRowHeights();if(l==null)return null;let c=nt.getMax(l),h=0;for(let x of l)if(h+=c-x,x>0)break;let p=a.getCodewords();for(let x=0;h>0&&p[x]==null;x++)h--;let y=0;for(let x=l.length-1;x>=0&&(y+=c-l[x],!(l[x]>0));x--);for(let x=p.length-1;y>0&&p[x]==null;x--)y--;return a.getBoundingBox().addMissingRows(h,y,a.isLeft())}static getMax(a){let l=-1;for(let c of a)l=Math.max(l,c);return l}static getBarcodeMetadata(a,l){let c;if(a==null||(c=a.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let h;return l==null||(h=l.getBarcodeMetadata())==null?c:c.getColumnCount()!==h.getColumnCount()&&c.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&c.getRowCount()!==h.getRowCount()?null:c}static getRowIndicatorColumn(a,l,c,h,p,y){let x=new Yw(l,h);for(let b=0;b<2;b++){let O=b===0?1:-1,j=Math.trunc(Math.trunc(c.getX()));for(let D=Math.trunc(Math.trunc(c.getY()));D<=l.getMaxY()&&D>=l.getMinY();D+=O){let $=nt.detectCodeword(a,0,a.getWidth(),h,j,D,p,y);$!=null&&(x.setCodeword(D,$),h?j=$.getStartX():j=$.getEndX())}}return x}static adjustCodewordCount(a,l){let c=l[0][1],h=c.getValue(),p=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-nt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(p<1||p>Ve.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();c.setValue(p)}else h[0]!==p&&c.setValue(p)}static createDecoderResult(a){let l=nt.createBarcodeMatrix(a);nt.adjustCodewordCount(a,l);let c=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),p=[],y=new Array;for(let b=0;b<a.getBarcodeRowCount();b++)for(let O=0;O<a.getBarcodeColumnCount();O++){let j=l[b][O+1].getValue(),D=b*a.getBarcodeColumnCount()+O;j.length===0?c.push(D):j.length===1?h[D]=j[0]:(y.push(D),p.push(j))}let x=new Array(p.length);for(let b=0;b<x.length;b++)x[b]=p[b];return nt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,Ve.toIntArray(c),Ve.toIntArray(y),x)}static createDecoderResultFromAmbiguousValues(a,l,c,h,p){let y=new Int32Array(h.length),x=100;for(;x-- >0;){for(let b=0;b<y.length;b++)l[h[b]]=p[b][y[b]];try{return nt.decodeCodewords(l,a,c)}catch(b){if(!(b instanceof S))throw b}if(y.length===0)throw S.getChecksumInstance();for(let b=0;b<y.length;b++)if(y[b]<p[b].length-1){y[b]++;break}else if(y[b]=0,b===y.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(a){let l=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<l.length;h++)for(let p=0;p<l[h].length;p++)l[h][p]=new xc;let c=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let p of h.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=0){if(y>=l.length)continue;l[y][c].setValue(p.getValue())}}}c++}return l}static isValidBarcodeColumn(a,l){return l>=0&&l<=a.getBarcodeColumnCount()+1}static getStartColumn(a,l,c,h){let p=h?1:-1,y=null;if(nt.isValidBarcodeColumn(a,l-p)&&(y=a.getDetectionResultColumn(l-p).getCodeword(c)),y!=null)return h?y.getEndX():y.getStartX();if(y=a.getDetectionResultColumn(l).getCodewordNearby(c),y!=null)return h?y.getStartX():y.getEndX();if(nt.isValidBarcodeColumn(a,l-p)&&(y=a.getDetectionResultColumn(l-p).getCodewordNearby(c)),y!=null)return h?y.getEndX():y.getStartX();let x=0;for(;nt.isValidBarcodeColumn(a,l-p);){l-=p;for(let b of a.getDetectionResultColumn(l).getCodewords())if(b!=null)return(h?b.getEndX():b.getStartX())+p*x*(b.getEndX()-b.getStartX());x++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,l,c,h,p,y,x,b){p=nt.adjustCodewordStartColumn(a,l,c,h,p,y);let O=nt.getModuleBitCount(a,l,c,h,p,y);if(O==null)return null;let j,D=Ke.sum(O);if(h)j=p+D;else{for(let G=0;G<O.length/2;G++){let q=O[G];O[G]=O[O.length-1-G],O[O.length-1-G]=q}j=p,p=j-D}if(!nt.checkCodewordSkew(D,x,b))return null;let $=ln.getDecodedValue(O),W=Ve.getCodeword($);return W===-1?null:new bc(p,j,nt.getCodewordBucketNumber($),W)}static getModuleBitCount(a,l,c,h,p,y){let x=p,b=new Int32Array(8),O=0,j=h?1:-1,D=h;for(;(h?x<c:x>=l)&&O<b.length;)a.get(x,y)===D?(b[O]++,x+=j):(O++,D=!D);return O===b.length||x===(h?c:l)&&O===b.length-1?b:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,l,c,h,p,y){let x=p,b=h?-1:1;for(let O=0;O<2;O++){for(;(h?x>=l:x<c)&&h===a.get(x,y);){if(Math.abs(p-x)>nt.CODEWORD_SKEW_SIZE)return p;x+=b}b=-b,h=!h}return x}static checkCodewordSkew(a,l,c){return l-nt.CODEWORD_SKEW_SIZE<=a&&a<=c+nt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,l,c){if(a.length===0)throw R.getFormatInstance();let h=1<<l+1,p=nt.correctErrors(a,c,h);nt.verifyCodewordCount(a,h);let y=ie.decode(a,""+l);return y.setErrorsCorrected(p),y.setErasures(c.length),y}static correctErrors(a,l,c){if(l!=null&&l.length>c/2+nt.MAX_ERRORS||c<0||c>nt.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return nt.errorCorrection.decode(a,c,l)}static verifyCodewordCount(a,l){if(a.length<4)throw R.getFormatInstance();let c=a[0];if(c>a.length)throw R.getFormatInstance();if(c===0)if(l<a.length)a[0]=a.length-l;else throw R.getFormatInstance()}static getBitCountForCodeword(a){let l=new Int32Array(8),c=0,h=l.length-1;for(;!((a&1)!==c&&(c=a&1,h--,h<0));)l[h]++,a>>=1;return l}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return nt.getCodewordBucketNumber(nt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let l=new yc;for(let c=0;c<a.length;c++){l.format("Row %2d: ",c);for(let h=0;h<a[c].length;h++){let p=a[c][h];p.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}l.format("%n")}return l.toString()}}nt.CODEWORD_SKEW_SIZE=2,nt.MAX_ERRORS=3,nt.MAX_EC_CODEWORDS=512,nt.errorCorrection=new Xw;class jr{decode(a,l=null){let c=jr.decode(a,l,!1);if(c==null||c.length===0||c[0]==null)throw H.getNotFoundInstance();return c[0]}decodeMultiple(a,l=null){try{return jr.decode(a,l,!0)}catch(c){throw c instanceof R||c instanceof S?H.getNotFoundInstance():c}}static decode(a,l,c){const h=new Array,p=tt.detectMultiple(a,l,c);for(const y of p.getPoints()){const x=nt.decode(p.getBits(),y[4],y[5],y[6],y[7],jr.getMinCodewordWidth(y),jr.getMaxCodewordWidth(y)),b=new Te(x.getText(),x.getRawBytes(),void 0,y,we.PDF_417);b.putMetadata(rt.ERROR_CORRECTION_LEVEL,x.getECLevel());const O=x.getOther();O!=null&&b.putMetadata(rt.PDF417_EXTRA_METADATA,O),h.push(b)}return h.map(y=>y)}static getMaxWidth(a,l){return a==null||l==null?0:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMinWidth(a,l){return a==null||l==null?T.MAX_VALUE:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(jr.getMaxWidth(a[0],a[4]),jr.getMaxWidth(a[6],a[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.max(jr.getMaxWidth(a[1],a[5]),jr.getMaxWidth(a[7],a[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(jr.getMinWidth(a[0],a[4]),jr.getMinWidth(a[6],a[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.min(jr.getMinWidth(a[1],a[5]),jr.getMinWidth(a[7],a[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class Yf extends d{}Yf.kind="ReaderException";class tb{constructor(a,l){this.verbose=a===!0,l&&this.setHints(l)}decode(a,l){return l&&this.setHints(l),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const l=!n(a)&&a.get(k.TRY_HARDER)===!0,c=n(a)?null:a.get(k.POSSIBLE_FORMATS),h=new Array;if(!n(c)){const p=c.some(y=>y===we.UPC_A||y===we.UPC_E||y===we.EAN_13||y===we.EAN_8||y===we.CODABAR||y===we.CODE_39||y===we.CODE_93||y===we.CODE_128||y===we.ITF||y===we.RSS_14||y===we.RSS_EXPANDED);p&&!l&&h.push(new po(a,this.verbose)),c.includes(we.QR_CODE)&&h.push(new As),c.includes(we.DATA_MATRIX)&&h.push(new Es),c.includes(we.AZTEC)&&h.push(new at),c.includes(we.PDF_417)&&h.push(new jr),p&&l&&h.push(new po(a,this.verbose))}h.length===0&&(l||h.push(new po(a,this.verbose)),h.push(new As),h.push(new Es),h.push(new at),h.push(new jr),l&&h.push(new po(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new Yf("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(a,this.hints)}catch(c){if(c instanceof Yf)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class ak extends Se{constructor(a=null,l=500){const c=new tb;c.setHints(a),super(c,l)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class ok extends Se{constructor(a=500){super(new jr,a)}}class lk extends Se{constructor(a=500){super(new As,a)}}var p1;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(p1||(p1={}));var mr=p1;class g1{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new pe(a,Int32Array.from([1])))}buildGenerator(a){const l=this.cachedGenerators;if(a>=l.length){let c=l[l.length-1];const h=this.field;for(let p=l.length;p<=a;p++){const y=c.multiply(new pe(h,Int32Array.from([1,h.exp(p-1+h.getGeneratorBase())])));l.push(y),c=y}}return l[a]}encode(a,l){if(l===0)throw new v("No error correction bytes");const c=a.length-l;if(c<=0)throw new v("No data bytes provided");const h=this.buildGenerator(l),p=new Int32Array(c);_.arraycopy(a,0,p,0,c);let y=new pe(this.field,p);y=y.multiplyByMonomial(l,1);const b=y.divide(h)[1].getCoefficients(),O=l-b.length;for(let j=0;j<O;j++)a[c+j]=0;_.arraycopy(b,0,a,c+O,b.length)}}class rr{constructor(){}static applyMaskPenaltyRule1(a){return rr.applyMaskPenaltyRule1Internal(a,!0)+rr.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const c=a.getArray(),h=a.getWidth(),p=a.getHeight();for(let y=0;y<p-1;y++){const x=c[y];for(let b=0;b<h-1;b++){const O=x[b];O===x[b+1]&&O===c[y+1][b]&&O===c[y+1][b+1]&&l++}}return rr.N2*l}static applyMaskPenaltyRule3(a){let l=0;const c=a.getArray(),h=a.getWidth(),p=a.getHeight();for(let y=0;y<p;y++)for(let x=0;x<h;x++){const b=c[y];x+6<h&&b[x]===1&&b[x+1]===0&&b[x+2]===1&&b[x+3]===1&&b[x+4]===1&&b[x+5]===0&&b[x+6]===1&&(rr.isWhiteHorizontal(b,x-4,x)||rr.isWhiteHorizontal(b,x+7,x+11))&&l++,y+6<p&&c[y][x]===1&&c[y+1][x]===0&&c[y+2][x]===1&&c[y+3][x]===1&&c[y+4][x]===1&&c[y+5][x]===0&&c[y+6][x]===1&&(rr.isWhiteVertical(c,x,y-4,y)||rr.isWhiteVertical(c,x,y+7,y+11))&&l++}return l*rr.N3}static isWhiteHorizontal(a,l,c){l=Math.max(l,0),c=Math.min(c,a.length);for(let h=l;h<c;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,l,c,h){c=Math.max(c,0),h=Math.min(h,a.length);for(let p=c;p<h;p++)if(a[p][l]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const c=a.getArray(),h=a.getWidth(),p=a.getHeight();for(let b=0;b<p;b++){const O=c[b];for(let j=0;j<h;j++)O[j]===1&&l++}const y=a.getHeight()*a.getWidth();return Math.floor(Math.abs(l*2-y)*10/y)*rr.N4}static getDataMaskBit(a,l,c){let h,p;switch(a){case 0:h=c+l&1;break;case 1:h=c&1;break;case 2:h=l%3;break;case 3:h=(c+l)%3;break;case 4:h=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:p=c*l,h=(p&1)+p%3;break;case 6:p=c*l,h=(p&1)+p%3&1;break;case 7:p=c*l,h=p%3+(c+l&1)&1;break;default:throw new v("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,l){let c=0;const h=l?a.getHeight():a.getWidth(),p=l?a.getWidth():a.getHeight(),y=a.getArray();for(let x=0;x<h;x++){let b=0,O=-1;for(let j=0;j<p;j++){const D=l?y[x][j]:y[j][x];D===O?b++:(b>=5&&(c+=rr.N1+(b-5)),b=1,O=D)}b>=5&&(c+=rr.N1+(b-5))}return c}}rr.N1=3,rr.N2=3,rr.N3=40,rr.N4=10;class Zf{constructor(a,l){this.width=a,this.height=l;const c=new Array(l);for(let h=0;h!==l;h++)c[h]=new Uint8Array(a);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(a,l){return this.bytes[l][a]}getArray(){return this.bytes}setNumber(a,l,c){this.bytes[l][a]=c}setBoolean(a,l,c){this.bytes[l][a]=c?1:0}clear(a){for(const l of this.bytes)C.fill(l,a)}equals(a){if(!(a instanceof Zf))return!1;const l=a;if(this.width!==l.width||this.height!==l.height)return!1;for(let c=0,h=this.height;c<h;++c){const p=this.bytes[c],y=l.bytes[c];for(let x=0,b=this.width;x<b;++x)if(p[x]!==y[x])return!1}return!0}toString(){const a=new J;for(let l=0,c=this.height;l<c;++l){const h=this.bytes[l];for(let p=0,y=this.width;p<y;++p)switch(h[p]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class da{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new J;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<da.NUM_MASK_PATTERNS}}da.NUM_MASK_PATTERNS=8;class kt extends d{}kt.kind="WriterException";class Ue{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,l,c,h,p){Ue.clearMatrix(p),Ue.embedBasicPatterns(c,p),Ue.embedTypeInfo(l,h,p),Ue.maybeEmbedVersionInfo(c,p),Ue.embedDataBits(a,h,p)}static embedBasicPatterns(a,l){Ue.embedPositionDetectionPatternsAndSeparators(l),Ue.embedDarkDotAtLeftBottomCorner(l),Ue.maybeEmbedPositionAdjustmentPatterns(a,l),Ue.embedTimingPatterns(l)}static embedTypeInfo(a,l,c){const h=new I;Ue.makeTypeInfoBits(a,l,h);for(let p=0,y=h.getSize();p<y;++p){const x=h.get(h.getSize()-1-p),b=Ue.TYPE_INFO_COORDINATES[p],O=b[0],j=b[1];if(c.setBoolean(O,j,x),p<8){const D=c.getWidth()-p-1;c.setBoolean(D,8,x)}else{const $=c.getHeight()-7+(p-8);c.setBoolean(8,$,x)}}}static maybeEmbedVersionInfo(a,l){if(a.getVersionNumber()<7)return;const c=new I;Ue.makeVersionInfoBits(a,c);let h=6*3-1;for(let p=0;p<6;++p)for(let y=0;y<3;++y){const x=c.get(h);h--,l.setBoolean(p,l.getHeight()-11+y,x),l.setBoolean(l.getHeight()-11+y,p,x)}}static embedDataBits(a,l,c){let h=0,p=-1,y=c.getWidth()-1,x=c.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);x>=0&&x<c.getHeight();){for(let b=0;b<2;++b){const O=y-b;if(!Ue.isEmpty(c.get(O,x)))continue;let j;h<a.getSize()?(j=a.get(h),++h):j=!1,l!==255&&rr.getDataMaskBit(l,O,x)&&(j=!j),c.setBoolean(O,x,j)}x+=p}p=-p,x+=p,y-=2}if(h!==a.getSize())throw new kt("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-T.numberOfLeadingZeros(a)}static calculateBCHCode(a,l){if(l===0)throw new v("0 polynomial");const c=Ue.findMSBSet(l);for(a<<=c-1;Ue.findMSBSet(a)>=c;)a^=l<<Ue.findMSBSet(a)-c;return a}static makeTypeInfoBits(a,l,c){if(!da.isValidMaskPattern(l))throw new kt("Invalid mask pattern");const h=a.getBits()<<3|l;c.appendBits(h,5);const p=Ue.calculateBCHCode(h,Ue.TYPE_INFO_POLY);c.appendBits(p,10);const y=new I;if(y.appendBits(Ue.TYPE_INFO_MASK_PATTERN,15),c.xor(y),c.getSize()!==15)throw new kt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(a,l){l.appendBits(a.getVersionNumber(),6);const c=Ue.calculateBCHCode(a.getVersionNumber(),Ue.VERSION_INFO_POLY);if(l.appendBits(c,12),l.getSize()!==18)throw new kt("should not happen but we got: "+l.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let l=8;l<a.getWidth()-8;++l){const c=(l+1)%2;Ue.isEmpty(a.get(l,6))&&a.setNumber(l,6,c),Ue.isEmpty(a.get(6,l))&&a.setNumber(6,l,c)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new kt;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,l,c){for(let h=0;h<8;++h){if(!Ue.isEmpty(c.get(a+h,l)))throw new kt;c.setNumber(a+h,l,0)}}static embedVerticalSeparationPattern(a,l,c){for(let h=0;h<7;++h){if(!Ue.isEmpty(c.get(a,l+h)))throw new kt;c.setNumber(a,l+h,0)}}static embedPositionAdjustmentPattern(a,l,c){for(let h=0;h<5;++h){const p=Ue.POSITION_ADJUSTMENT_PATTERN[h];for(let y=0;y<5;++y)c.setNumber(a+y,l+h,p[y])}}static embedPositionDetectionPattern(a,l,c){for(let h=0;h<7;++h){const p=Ue.POSITION_DETECTION_PATTERN[h];for(let y=0;y<7;++y)c.setNumber(a+y,l+h,p[y])}}static embedPositionDetectionPatternsAndSeparators(a){const l=Ue.POSITION_DETECTION_PATTERN[0].length;Ue.embedPositionDetectionPattern(0,0,a),Ue.embedPositionDetectionPattern(a.getWidth()-l,0,a),Ue.embedPositionDetectionPattern(0,a.getWidth()-l,a);const c=8;Ue.embedHorizontalSeparationPattern(0,c-1,a),Ue.embedHorizontalSeparationPattern(a.getWidth()-c,c-1,a),Ue.embedHorizontalSeparationPattern(0,a.getWidth()-c,a);const h=7;Ue.embedVerticalSeparationPattern(h,0,a),Ue.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),Ue.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,l){if(a.getVersionNumber()<2)return;const c=a.getVersionNumber()-1,h=Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let p=0,y=h.length;p!==y;p++){const x=h[p];if(x>=0)for(let b=0;b!==y;b++){const O=h[b];O>=0&&Ue.isEmpty(l.get(O,x))&&Ue.embedPositionAdjustmentPattern(O-2,x-2,l)}}}}Ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ue.VERSION_INFO_POLY=7973,Ue.TYPE_INFO_POLY=1335,Ue.TYPE_INFO_MASK_PATTERN=21522;class ck{constructor(a,l){this.dataBytes=a,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ut{constructor(){}static calculateMaskPenalty(a){return rr.applyMaskPenaltyRule1(a)+rr.applyMaskPenaltyRule2(a)+rr.applyMaskPenaltyRule3(a)+rr.applyMaskPenaltyRule4(a)}static encode(a,l,c=null){let h=Ut.DEFAULT_BYTE_MODE_ENCODING;const p=c!==null&&c.get(mr.CHARACTER_SET)!==void 0;p&&(h=c.get(mr.CHARACTER_SET).toString());const y=this.chooseMode(a,h),x=new I;if(y===Fe.BYTE&&(p||Ut.DEFAULT_BYTE_MODE_ENCODING!==h)){const xe=L.getCharacterSetECIByName(h);xe!==void 0&&this.appendECI(xe,x)}this.appendModeInfo(y,x);const b=new I;this.appendBytes(a,y,b,h);let O;if(c!==null&&c.get(mr.QR_VERSION)!==void 0){const xe=Number.parseInt(c.get(mr.QR_VERSION).toString(),10);O=Le.getVersionForNumber(xe);const ge=this.calculateBitsNeeded(y,x,b,O);if(!this.willFit(ge,O,l))throw new kt("Data too big for requested version")}else O=this.recommendVersion(l,y,x,b);const j=new I;j.appendBitArray(x);const D=y===Fe.BYTE?b.getSizeInBytes():a.length;this.appendLengthInfo(D,O,y,j),j.appendBitArray(b);const $=O.getECBlocksForLevel(l),W=O.getTotalCodewords()-$.getTotalECCodewords();this.terminateBits(W,j);const G=this.interleaveWithECBytes(j,O.getTotalCodewords(),W,$.getNumBlocks()),q=new da;q.setECLevel(l),q.setMode(y),q.setVersion(O);const te=O.getDimensionForVersion(),oe=new Zf(te,te),ye=this.chooseMaskPattern(G,l,O,oe);return q.setMaskPattern(ye),Ue.buildMatrix(G,l,O,ye,oe),q.setMatrix(oe),q}static recommendVersion(a,l,c,h){const p=this.calculateBitsNeeded(l,c,h,Le.getVersionForNumber(1)),y=this.chooseVersion(p,a),x=this.calculateBitsNeeded(l,c,h,y);return this.chooseVersion(x,a)}static calculateBitsNeeded(a,l,c,h){return l.getSize()+a.getCharacterCountBits(h)+c.getSize()}static getAlphanumericCode(a){return a<Ut.ALPHANUMERIC_TABLE.length?Ut.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,l=null){if(L.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(a))return Fe.KANJI;let c=!1,h=!1;for(let p=0,y=a.length;p<y;++p){const x=a.charAt(p);if(Ut.isDigit(x))c=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)h=!0;else return Fe.BYTE}return h?Fe.ALPHANUMERIC:c?Fe.NUMERIC:Fe.BYTE}static isOnlyDoubleByteKanji(a){let l;try{l=V.encode(a,L.SJIS)}catch{return!1}const c=l.length;if(c%2!==0)return!1;for(let h=0;h<c;h+=2){const p=l[h]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(a,l,c,h){let p=Number.MAX_SAFE_INTEGER,y=-1;for(let x=0;x<da.NUM_MASK_PATTERNS;x++){Ue.buildMatrix(a,l,c,x,h);let b=this.calculateMaskPenalty(h);b<p&&(p=b,y=x)}return y}static chooseVersion(a,l){for(let c=1;c<=40;c++){const h=Le.getVersionForNumber(c);if(Ut.willFit(a,h,l))return h}throw new kt("Data too big")}static willFit(a,l,c){const h=l.getTotalCodewords(),y=l.getECBlocksForLevel(c).getTotalECCodewords(),x=h-y,b=(a+7)/8;return x>=b}static terminateBits(a,l){const c=a*8;if(l.getSize()>c)throw new kt("data bits cannot fit in the QR Code"+l.getSize()+" > "+c);for(let y=0;y<4&&l.getSize()<c;++y)l.appendBit(!1);const h=l.getSize()&7;if(h>0)for(let y=h;y<8;y++)l.appendBit(!1);const p=a-l.getSizeInBytes();for(let y=0;y<p;++y)l.appendBits(y&1?17:236,8);if(l.getSize()!==c)throw new kt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,l,c,h,p,y){if(h>=c)throw new kt("Block ID too large");const x=a%c,b=c-x,O=Math.floor(a/c),j=O+1,D=Math.floor(l/c),$=D+1,W=O-D,G=j-$;if(W!==G)throw new kt("EC bytes mismatch");if(c!==b+x)throw new kt("RS blocks mismatch");if(a!==(D+W)*b+($+G)*x)throw new kt("Total bytes mismatch");h<b?(p[0]=D,y[0]=W):(p[0]=$,y[0]=G)}static interleaveWithECBytes(a,l,c,h){if(a.getSizeInBytes()!==c)throw new kt("Number of bits and data bytes does not match");let p=0,y=0,x=0;const b=new Array;for(let j=0;j<h;++j){const D=new Int32Array(1),$=new Int32Array(1);Ut.getNumDataBytesAndNumECBytesForBlockID(l,c,h,j,D,$);const W=D[0],G=new Uint8Array(W);a.toBytes(8*p,G,0,W);const q=Ut.generateECBytes(G,$[0]);b.push(new ck(G,q)),y=Math.max(y,W),x=Math.max(x,q.length),p+=D[0]}if(c!==p)throw new kt("Data bytes does not match offset");const O=new I;for(let j=0;j<y;++j)for(const D of b){const $=D.getDataBytes();j<$.length&&O.appendBits($[j],8)}for(let j=0;j<x;++j)for(const D of b){const $=D.getErrorCorrectionBytes();j<$.length&&O.appendBits($[j],8)}if(l!==O.getSizeInBytes())throw new kt("Interleaving error: "+l+" and "+O.getSizeInBytes()+" differ.");return O}static generateECBytes(a,l){const c=a.length,h=new Int32Array(c+l);for(let y=0;y<c;y++)h[y]=a[y]&255;new g1(Ae.QR_CODE_FIELD_256).encode(h,l);const p=new Uint8Array(l);for(let y=0;y<l;y++)p[y]=h[c+y];return p}static appendModeInfo(a,l){l.appendBits(a.getBits(),4)}static appendLengthInfo(a,l,c,h){const p=c.getCharacterCountBits(l);if(a>=1<<p)throw new kt(a+" is bigger than "+((1<<p)-1));h.appendBits(a,p)}static appendBytes(a,l,c,h){switch(l){case Fe.NUMERIC:Ut.appendNumericBytes(a,c);break;case Fe.ALPHANUMERIC:Ut.appendAlphanumericBytes(a,c);break;case Fe.BYTE:Ut.append8BitBytes(a,c,h);break;case Fe.KANJI:Ut.appendKanjiBytes(a,c);break;default:throw new kt("Invalid mode: "+l)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const l=Ut.getDigit(a);return l>=0&&l<=9}static appendNumericBytes(a,l){const c=a.length;let h=0;for(;h<c;){const p=Ut.getDigit(a.charAt(h));if(h+2<c){const y=Ut.getDigit(a.charAt(h+1)),x=Ut.getDigit(a.charAt(h+2));l.appendBits(p*100+y*10+x,10),h+=3}else if(h+1<c){const y=Ut.getDigit(a.charAt(h+1));l.appendBits(p*10+y,7),h+=2}else l.appendBits(p,4),h++}}static appendAlphanumericBytes(a,l){const c=a.length;let h=0;for(;h<c;){const p=Ut.getAlphanumericCode(a.charCodeAt(h));if(p===-1)throw new kt;if(h+1<c){const y=Ut.getAlphanumericCode(a.charCodeAt(h+1));if(y===-1)throw new kt;l.appendBits(p*45+y,11),h+=2}else l.appendBits(p,6),h++}}static append8BitBytes(a,l,c){let h;try{h=V.encode(a,c)}catch(p){throw new kt(p)}for(let p=0,y=h.length;p!==y;p++){const x=h[p];l.appendBits(x,8)}}static appendKanjiBytes(a,l){let c;try{c=V.encode(a,L.SJIS)}catch(p){throw new kt(p)}const h=c.length;for(let p=0;p<h;p+=2){const y=c[p]&255,x=c[p+1]&255,b=y<<8&4294967295|x;let O=-1;if(b>=33088&&b<=40956?O=b-33088:b>=57408&&b<=60351&&(O=b-49472),O===-1)throw new kt("Invalid byte sequence");const j=(O>>8)*192+(O&255);l.appendBits(j,13)}}static appendECI(a,l){l.appendBits(Fe.ECI.getBits(),4),l.appendBits(a.getValue(),8)}}Ut.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ut.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class ha{write(a,l,c,h=null){if(a.length===0)throw new v("Found empty contents");if(l<0||c<0)throw new v("Requested dimensions are too small: "+l+"x"+c);let p=Dt.L,y=ha.QUIET_ZONE_SIZE;h!==null&&(h.get(mr.ERROR_CORRECTION)!==void 0&&(p=Dt.fromString(h.get(mr.ERROR_CORRECTION).toString())),h.get(mr.MARGIN)!==void 0&&(y=Number.parseInt(h.get(mr.MARGIN).toString(),10)));const x=Ut.encode(a,p,h);return this.renderResult(x,l,c,y)}writeToDom(a,l,c,h,p=null){typeof a=="string"&&(a=document.querySelector(a));const y=this.write(l,c,h,p);a&&a.appendChild(y)}renderResult(a,l,c,h){const p=a.getMatrix();if(p===null)throw new st;const y=p.getWidth(),x=p.getHeight(),b=y+h*2,O=x+h*2,j=Math.max(l,b),D=Math.max(c,O),$=Math.min(Math.floor(j/b),Math.floor(D/O)),W=Math.floor((j-y*$)/2),G=Math.floor((D-x*$)/2),q=this.createSVGElement(j,D);for(let te=0,oe=G;te<x;te++,oe+=$)for(let ye=0,xe=W;ye<y;ye++,xe+=$)if(p.get(ye,te)===1){const ge=this.createSvgRectElement(xe,oe,$,$);q.appendChild(ge)}return q}createSVGElement(a,l){const c=document.createElementNS(ha.SVG_NS,"svg");return c.setAttributeNS(null,"height",a.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(a,l,c,h){const p=document.createElementNS(ha.SVG_NS,"rect");return p.setAttributeNS(null,"x",a.toString()),p.setAttributeNS(null,"y",l.toString()),p.setAttributeNS(null,"height",c.toString()),p.setAttributeNS(null,"width",h.toString()),p.setAttributeNS(null,"fill","#000000"),p}}ha.QUIET_ZONE_SIZE=4,ha.SVG_NS="http://www.w3.org/2000/svg";class mo{encode(a,l,c,h,p){if(a.length===0)throw new v("Found empty contents");if(l!==we.QR_CODE)throw new v("Can only encode QR_CODE, but got "+l);if(c<0||h<0)throw new v(`Requested dimensions are too small: ${c}x${h}`);let y=Dt.L,x=mo.QUIET_ZONE_SIZE;p!==null&&(p.get(mr.ERROR_CORRECTION)!==void 0&&(y=Dt.fromString(p.get(mr.ERROR_CORRECTION).toString())),p.get(mr.MARGIN)!==void 0&&(x=Number.parseInt(p.get(mr.MARGIN).toString(),10)));const b=Ut.encode(a,y,p);return mo.renderResult(b,c,h,x)}static renderResult(a,l,c,h){const p=a.getMatrix();if(p===null)throw new st;const y=p.getWidth(),x=p.getHeight(),b=y+h*2,O=x+h*2,j=Math.max(l,b),D=Math.max(c,O),$=Math.min(Math.floor(j/b),Math.floor(D/O)),W=Math.floor((j-y*$)/2),G=Math.floor((D-x*$)/2),q=new Q(j,D);for(let te=0,oe=G;te<x;te++,oe+=$)for(let ye=0,xe=W;ye<y;ye++,xe+=$)p.get(ye,te)===1&&q.setRegion(xe,oe,$,$);return q}}mo.QUIET_ZONE_SIZE=4;class uk{encode(a,l,c,h,p){let y;switch(l){case we.QR_CODE:y=new mo;break;default:throw new v("No encoder available for format "+l)}return y.encode(a,l,c,h,p)}}class Ti extends Y{constructor(a,l,c,h,p,y,x,b){if(super(y,x),this.yuvData=a,this.dataWidth=l,this.dataHeight=c,this.left=h,this.top=p,h+y>l||p+x>c)throw new v("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(y,x)}getRow(a,l){if(a<0||a>=this.getHeight())throw new v("Requested row is outside the image: "+a);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const h=(a+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,h,l,0,c),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=a*l,h=new Uint8ClampedArray(c);let p=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return _.arraycopy(this.yuvData,p,h,0,c),h;for(let y=0;y<l;y++){const x=y*a;_.arraycopy(this.yuvData,p,h,x,a),p+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,c,h){return new Ti(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,c,h,!1)}renderThumbnail(){const a=this.getWidth()/Ti.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Ti.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(a*l),h=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let y=0;y<l;y++){const x=y*a;for(let b=0;b<a;b++){const O=h[p+b*Ti.THUMBNAIL_SCALE_FACTOR]&255;c[x+b]=4278190080|O*65793}p+=this.dataWidth*Ti.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/Ti.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ti.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const c=this.yuvData;for(let h=0,p=this.top*this.dataWidth+this.left;h<l;h++,p+=this.dataWidth){const y=p+a/2;for(let x=p,b=p+a-1;x<y;x++,b--){const O=c[x];c[x]=c[b],c[b]=O}}}invert(){return new ae(this)}}Ti.THUMBNAIL_SCALE_FACTOR=2;class m1 extends Y{constructor(a,l,c,h,p,y,x){if(super(l,c),this.dataWidth=h,this.dataHeight=p,this.left=y,this.top=x,a.BYTES_PER_ELEMENT===4){const b=l*c,O=new Uint8ClampedArray(b);for(let j=0;j<b;j++){const D=a[j],$=D>>16&255,W=D>>7&510,G=D&255;O[j]=($+W+G)/4&255}this.luminances=O}else this.luminances=a;if(h===void 0&&(this.dataWidth=l),p===void 0&&(this.dataHeight=c),y===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+c>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(a,l){if(a<0||a>=this.getHeight())throw new v("Requested row is outside the image: "+a);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const h=(a+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,h,l,0,c),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.luminances;const c=a*l,h=new Uint8ClampedArray(c);let p=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return _.arraycopy(this.luminances,p,h,0,c),h;for(let y=0;y<l;y++){const x=y*a;_.arraycopy(this.luminances,p,h,x,a),p+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,c,h){return new m1(this.luminances,c,h,this.dataWidth,this.dataHeight,this.left+a,this.top+l)}invert(){return new ae(this)}}class rb extends L{static forName(a){return this.getCharacterSetECIByName(a)}}class y1{}y1.ISO_8859_1=L.ISO8859_1;class nb{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class ib{static singletonList(a){return[a]}static min(a,l){return a.sort(l)[0]}}class fk{constructor(a){this.previous=a}getPrevious(){return this.previous}}class yo extends fk{constructor(a,l,c){super(a),this.value=l,this.bitCount=c}appendTo(a,l){a.appendBits(this.value,this.bitCount)}add(a,l){return new yo(this,a,l)}addBinaryShift(a,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new yo(this,a,l)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+T.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class v1 extends yo{constructor(a,l,c){super(a,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=c}appendTo(a,l){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):c===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(l[this.binaryShiftStart+c],8)}addBinaryShift(a,l){return new v1(this,a,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function dk(M,a,l){return new v1(M,a,l)}function Sc(M,a,l){return new yo(M,a,l)}const hk=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Cs=0,Qf=1,Un=2,sb=3,Ni=4,pk=new yo(null,0,0),x1=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function gk(M){for(let a of M)C.fill(a,-1);return M[Cs][Ni]=0,M[Qf][Ni]=0,M[Qf][Cs]=28,M[sb][Ni]=0,M[Un][Ni]=0,M[Un][Cs]=15,M}const ab=gk(C.createInt32Array(6,6));class Ii{constructor(a,l,c,h){this.token=a,this.mode=l,this.binaryShiftByteCount=c,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,l){let c=this.bitCount,h=this.token;if(a!==this.mode){let y=x1[this.mode][a];h=Sc(h,y&65535,y>>16),c+=y>>16}let p=a===Un?4:5;return h=Sc(h,l,p),new Ii(h,a,0,c+p)}shiftAndAppend(a,l){let c=this.token,h=this.mode===Un?4:5;return c=Sc(c,ab[this.mode][a],h),c=Sc(c,l,5),new Ii(c,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let l=this.token,c=this.mode,h=this.bitCount;if(this.mode===Ni||this.mode===Un){let x=x1[c][Cs];l=Sc(l,x&65535,x>>16),h+=x>>16,c=Cs}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new Ii(l,c,this.binaryShiftByteCount+1,h+p);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(a+1)),y}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=dk(l,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ii(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let l=this.bitCount+(x1[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?l+=Ii.calculateBinaryShiftCost(a)-Ii.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(l+=10),l<=a.bitCount}toBitArray(a){let l=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())l.unshift(h);let c=new I;for(const h of l)h.appendTo(c,a);return c}toString(){return U.format("%s bits=%d bytes=%d",hk[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Ii.INITIAL_STATE=new Ii(pk,Cs,0,0);function mk(M){const a=U.getCharCode(" "),l=U.getCharCode("."),c=U.getCharCode(",");M[Cs][a]=1;const h=U.getCharCode("Z"),p=U.getCharCode("A");for(let $=p;$<=h;$++)M[Cs][$]=$-p+2;M[Qf][a]=1;const y=U.getCharCode("z"),x=U.getCharCode("a");for(let $=x;$<=y;$++)M[Qf][$]=$-x+2;M[Un][a]=1;const b=U.getCharCode("9"),O=U.getCharCode("0");for(let $=O;$<=b;$++)M[Un][$]=$-O+2;M[Un][c]=12,M[Un][l]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let $=0;$<j.length;$++)M[sb][U.getCharCode(j[$])]=$;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let $=0;$<D.length;$++)U.getCharCode(D[$])>0&&(M[Ni][U.getCharCode(D[$])]=$);return M}const w1=mk(C.createInt32Array(5,256));class Ec{constructor(a){this.text=a}encode(){const a=U.getCharCode(" "),l=U.getCharCode(`
`);let c=ib.singletonList(Ii.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let y,x=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case U.getCharCode("\r"):y=x===l?2:0;break;case U.getCharCode("."):y=x===a?3:0;break;case U.getCharCode(","):y=x===a?4:0;break;case U.getCharCode(":"):y=x===a?5:0;break;default:y=0}y>0?(c=Ec.updateStateListForPair(c,p,y),p++):c=this.updateStateListForChar(c,p)}return ib.min(c,(p,y)=>p.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,l){const c=[];for(let h of a)this.updateStateForChar(h,l,c);return Ec.simplifyStates(c)}updateStateForChar(a,l,c){let h=this.text[l]&255,p=w1[a.getMode()][h]>0,y=null;for(let x=0;x<=Ni;x++){let b=w1[x][h];if(b>0){if(y==null&&(y=a.endBinaryShift(l)),!p||x===a.getMode()||x===Un){const O=y.latchAndAppend(x,b);c.push(O)}if(!p&&ab[a.getMode()][x]>=0){const O=y.shiftAndAppend(x,b);c.push(O)}}}if(a.getBinaryShiftByteCount()>0||w1[a.getMode()][h]===0){let x=a.addBinaryShiftChar(l);c.push(x)}}static updateStateListForPair(a,l,c){const h=[];for(let p of a)this.updateStateForPair(p,l,c,h);return this.simplifyStates(h)}static updateStateForPair(a,l,c,h){let p=a.endBinaryShift(l);if(h.push(p.latchAndAppend(Ni,c)),a.getMode()!==Ni&&h.push(p.shiftAndAppend(Ni,c)),c===3||c===4){let y=p.latchAndAppend(Un,16-c).latchAndAppend(Un,1);h.push(y)}if(a.getBinaryShiftByteCount()>0){let y=a.addBinaryShiftChar(l).addBinaryShiftChar(l+1);h.push(y)}}static simplifyStates(a){let l=[];for(const c of a){let h=!0;for(const p of l){if(p.isBetterThanOrEqualTo(c)){h=!1;break}c.isBetterThanOrEqualTo(p)&&(l=l.filter(y=>y!==p))}h&&l.push(c)}return l}}class gt{constructor(){}static encodeBytes(a){return gt.encode(a,gt.DEFAULT_EC_PERCENT,gt.DEFAULT_AZTEC_LAYERS)}static encode(a,l,c){let h=new Ec(a).encode(),p=T.truncDivision(h.getSize()*l,100)+11,y=h.getSize()+p,x,b,O,j,D;if(c!==gt.DEFAULT_AZTEC_LAYERS){if(x=c<0,b=Math.abs(c),b>(x?gt.MAX_NB_BITS_COMPACT:gt.MAX_NB_BITS))throw new v(U.format("Illegal value %s for layers",c));O=gt.totalBitsInLayer(b,x),j=gt.WORD_SIZE[b];let ge=O-O%j;if(D=gt.stuffBits(h,j),D.getSize()+p>ge)throw new v("Data to large for user specified layer");if(x&&D.getSize()>j*64)throw new v("Data to large for user specified layer")}else{j=0,D=null;for(let ge=0;;ge++){if(ge>gt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=ge<=3,b=x?ge+1:ge,O=gt.totalBitsInLayer(b,x),y>O)continue;(D==null||j!==gt.WORD_SIZE[b])&&(j=gt.WORD_SIZE[b],D=gt.stuffBits(h,j));let ct=O-O%j;if(!(x&&D.getSize()>j*64)&&D.getSize()+p<=ct)break}}let $=gt.generateCheckWords(D,O,j),W=D.getSize()/j,G=gt.generateModeMessage(x,b,W),q=(x?11:14)+b*4,te=new Int32Array(q),oe;if(x){oe=q;for(let ge=0;ge<te.length;ge++)te[ge]=ge}else{oe=q+1+2*T.truncDivision(T.truncDivision(q,2)-1,15);let ge=T.truncDivision(q,2),ct=T.truncDivision(oe,2);for(let Ye=0;Ye<ge;Ye++){let cn=Ye+T.truncDivision(Ye,15);te[ge-Ye-1]=ct-cn-1,te[ge+Ye]=ct+cn+1}}let ye=new Q(oe);for(let ge=0,ct=0;ge<b;ge++){let Ye=(b-ge)*4+(x?9:12);for(let cn=0;cn<Ye;cn++){let ai=cn*2;for(let un=0;un<2;un++)$.get(ct+ai+un)&&ye.set(te[ge*2+un],te[ge*2+cn]),$.get(ct+Ye*2+ai+un)&&ye.set(te[ge*2+cn],te[q-1-ge*2-un]),$.get(ct+Ye*4+ai+un)&&ye.set(te[q-1-ge*2-un],te[q-1-ge*2-cn]),$.get(ct+Ye*6+ai+un)&&ye.set(te[q-1-ge*2-cn],te[ge*2+un])}ct+=Ye*8}if(gt.drawModeMessage(ye,x,oe,G),x)gt.drawBullsEye(ye,T.truncDivision(oe,2),5);else{gt.drawBullsEye(ye,T.truncDivision(oe,2),7);for(let ge=0,ct=0;ge<T.truncDivision(q,2)-1;ge+=15,ct+=16)for(let Ye=T.truncDivision(oe,2)&1;Ye<oe;Ye+=2)ye.set(T.truncDivision(oe,2)-ct,Ye),ye.set(T.truncDivision(oe,2)+ct,Ye),ye.set(Ye,T.truncDivision(oe,2)-ct),ye.set(Ye,T.truncDivision(oe,2)+ct)}let xe=new nb;return xe.setCompact(x),xe.setSize(oe),xe.setLayers(b),xe.setCodeWords(W),xe.setMatrix(ye),xe}static drawBullsEye(a,l,c){for(let h=0;h<c;h+=2)for(let p=l-h;p<=l+h;p++)a.set(p,l-h),a.set(p,l+h),a.set(l-h,p),a.set(l+h,p);a.set(l-c,l-c),a.set(l-c+1,l-c),a.set(l-c,l-c+1),a.set(l+c,l-c),a.set(l+c,l-c+1),a.set(l+c,l+c-1)}static generateModeMessage(a,l,c){let h=new I;return a?(h.appendBits(l-1,2),h.appendBits(c-1,6),h=gt.generateCheckWords(h,28,4)):(h.appendBits(l-1,5),h.appendBits(c-1,11),h=gt.generateCheckWords(h,40,4)),h}static drawModeMessage(a,l,c,h){let p=T.truncDivision(c,2);if(l)for(let y=0;y<7;y++){let x=p-3+y;h.get(y)&&a.set(x,p-5),h.get(y+7)&&a.set(p+5,x),h.get(20-y)&&a.set(x,p+5),h.get(27-y)&&a.set(p-5,x)}else for(let y=0;y<10;y++){let x=p-5+y+T.truncDivision(y,5);h.get(y)&&a.set(x,p-7),h.get(y+10)&&a.set(p+7,x),h.get(29-y)&&a.set(x,p+7),h.get(39-y)&&a.set(p-7,x)}}static generateCheckWords(a,l,c){let h=a.getSize()/c,p=new g1(gt.getGF(c)),y=T.truncDivision(l,c),x=gt.bitsToWords(a,c,y);p.encode(x,y-h);let b=l%c,O=new I;O.appendBits(0,b);for(const j of Array.from(x))O.appendBits(j,c);return O}static bitsToWords(a,l,c){let h=new Int32Array(c),p,y;for(p=0,y=a.getSize()/l;p<y;p++){let x=0;for(let b=0;b<l;b++)x|=a.get(p*l+b)?1<<l-b-1:0;h[p]=x}return h}static getGF(a){switch(a){case 4:return Ae.AZTEC_PARAM;case 6:return Ae.AZTEC_DATA_6;case 8:return Ae.AZTEC_DATA_8;case 10:return Ae.AZTEC_DATA_10;case 12:return Ae.AZTEC_DATA_12;default:throw new v("Unsupported word size "+a)}}static stuffBits(a,l){let c=new I,h=a.getSize(),p=(1<<l)-2;for(let y=0;y<h;y+=l){let x=0;for(let b=0;b<l;b++)(y+b>=h||a.get(y+b))&&(x|=1<<l-1-b);(x&p)===p?(c.appendBits(x&p,l),y--):x&p?c.appendBits(x,l):(c.appendBits(x|1,l),y--)}return c}static totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}gt.DEFAULT_EC_PERCENT=33,gt.DEFAULT_AZTEC_LAYERS=0,gt.MAX_NB_BITS=32,gt.MAX_NB_BITS_COMPACT=4,gt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Jf{encode(a,l,c,h){return this.encodeWithHints(a,l,c,h,null)}encodeWithHints(a,l,c,h,p){let y=y1.ISO_8859_1,x=gt.DEFAULT_EC_PERCENT,b=gt.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(mr.CHARACTER_SET)&&(y=rb.forName(p.get(mr.CHARACTER_SET).toString())),p.has(mr.ERROR_CORRECTION)&&(x=T.parseInt(p.get(mr.ERROR_CORRECTION).toString())),p.has(mr.AZTEC_LAYERS)&&(b=T.parseInt(p.get(mr.AZTEC_LAYERS).toString()))),Jf.encodeLayers(a,l,c,h,y,x,b)}static encodeLayers(a,l,c,h,p,y,x){if(l!==we.AZTEC)throw new v("Can only encode AZTEC, but got "+l);let b=gt.encode(U.getBytes(a,p),y,x);return Jf.renderResult(b,c,h)}static renderResult(a,l,c){let h=a.getMatrix();if(h==null)throw new st;let p=h.getWidth(),y=h.getHeight(),x=Math.max(l,p),b=Math.max(c,y),O=Math.min(x/p,b/y),j=(x-p*O)/2,D=(b-y*O)/2,$=new Q(x,b);for(let W=0,G=D;W<y;W++,G+=O)for(let q=0,te=j;q<p;q++,te+=O)h.get(q,W)&&$.setRegion(te,G,O,O);return $}}r.AbstractExpandedDecoder=s1,r.ArgumentException=g,r.ArithmeticException=ue,r.AztecCode=nb,r.AztecCodeReader=at,r.AztecCodeWriter=Jf,r.AztecDecoder=Je,r.AztecDetector=Mt,r.AztecDetectorResult=$e,r.AztecEncoder=gt,r.AztecHighLevelEncoder=Ec,r.AztecPoint=Be,r.BarcodeFormat=we,r.Binarizer=E,r.BinaryBitmap=w,r.BitArray=I,r.BitMatrix=Q,r.BitSource=c1,r.BrowserAztecCodeReader=wt,r.BrowserBarcodeReader=q4,r.BrowserCodeReader=Se,r.BrowserDatamatrixCodeReader=X4,r.BrowserMultiFormatReader=ak,r.BrowserPDF417Reader=ok,r.BrowserQRCodeReader=lk,r.BrowserQRCodeSvgWriter=ha,r.CharacterSetECI=L,r.ChecksumException=S,r.Code128Reader=ve,r.Code39Reader=pt,r.DataMatrixDecodedBitStreamParser=Ss,r.DataMatrixReader=Es,r.DecodeHintType=k,r.DecoderResult=be,r.DefaultGridSampler=Xe,r.DetectorResult=Pr,r.EAN13Reader=la,r.EncodeHintType=mr,r.Exception=d,r.FormatException=R,r.GenericGF=Ae,r.GenericGFPoly=pe,r.GlobalHistogramBinarizer=ee,r.GridSampler=fe,r.GridSamplerInstance=_e,r.HTMLCanvasElementLuminanceSource=ne,r.HybridBinarizer=Z,r.ITFReader=vt,r.IllegalArgumentException=v,r.IllegalStateException=st,r.InvertedLuminanceSource=ae,r.LuminanceSource=Y,r.MathUtils=Ke,r.MultiFormatOneDReader=po,r.MultiFormatReader=tb,r.MultiFormatWriter=uk,r.NotFoundException=H,r.OneDReader=et,r.PDF417DecodedBitStreamParser=ie,r.PDF417DecoderErrorCorrection=Xw,r.PDF417Reader=jr,r.PDF417ResultMetadata=Zw,r.PerspectiveTransform=De,r.PlanarYUVLuminanceSource=Ti,r.QRCodeByteMatrix=Zf,r.QRCodeDataMask=$n,r.QRCodeDecodedBitStreamParser=Xt,r.QRCodeDecoderErrorCorrectionLevel=Dt,r.QRCodeDecoderFormatInformation=Wr,r.QRCodeEncoder=Ut,r.QRCodeEncoderQRCode=da,r.QRCodeMaskUtil=rr,r.QRCodeMatrixUtil=Ue,r.QRCodeMode=Fe,r.QRCodeReader=As,r.QRCodeVersion=Le,r.QRCodeWriter=mo,r.RGBLuminanceSource=m1,r.RSS14Reader=tr,r.RSSExpandedReader=he,r.ReaderException=Yf,r.ReedSolomonDecoder=ft,r.ReedSolomonEncoder=g1,r.ReedSolomonException=Re,r.Result=Te,r.ResultMetadataType=rt,r.ResultPoint=Oe,r.StringUtils=U,r.UnsupportedOperationException=K,r.VideoInputDevice=de,r.WhiteRectangleDetector=Me,r.WriterException=kt,r.ZXingArrays=C,r.ZXingCharset=rb,r.ZXingInteger=T,r.ZXingStandardCharsets=y1,r.ZXingStringBuilder=J,r.ZXingStringEncoding=V,r.ZXingSystem=_,r.createAbstractExpandedDecoder=qw,Object.defineProperty(r,"__esModule",{value:!0})})})(Sv,Sv.exports);var Yt=Sv.exports;const sfe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var EC=function(){function e(t,r,n){if(this.formatMap=new Map([[Ie.QR_CODE,Yt.BarcodeFormat.QR_CODE],[Ie.AZTEC,Yt.BarcodeFormat.AZTEC],[Ie.CODABAR,Yt.BarcodeFormat.CODABAR],[Ie.CODE_39,Yt.BarcodeFormat.CODE_39],[Ie.CODE_93,Yt.BarcodeFormat.CODE_93],[Ie.CODE_128,Yt.BarcodeFormat.CODE_128],[Ie.DATA_MATRIX,Yt.BarcodeFormat.DATA_MATRIX],[Ie.MAXICODE,Yt.BarcodeFormat.MAXICODE],[Ie.ITF,Yt.BarcodeFormat.ITF],[Ie.EAN_13,Yt.BarcodeFormat.EAN_13],[Ie.EAN_8,Yt.BarcodeFormat.EAN_8],[Ie.PDF_417,Yt.BarcodeFormat.PDF_417],[Ie.RSS_14,Yt.BarcodeFormat.RSS_14],[Ie.RSS_EXPANDED,Yt.BarcodeFormat.RSS_EXPANDED],[Ie.UPC_A,Yt.BarcodeFormat.UPC_A],[Ie.UPC_E,Yt.BarcodeFormat.UPC_E],[Ie.UPC_EAN_EXTENSION,Yt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!sfe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),s=new Map;s.set(Yt.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Yt.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var r=new Yt.MultiFormatReader(this.verbose,this.hints),n=new Yt.HTMLCanvasElementLuminanceSource(t),i=new Yt.BinaryBitmap(new Yt.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:F4.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),afe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{d(n.next(g))}catch(v){o(v)}}function f(g){try{d(n.throw(g))}catch(v){o(v)}}function d(g){g.done?s(g.value):i(g.value).then(u,f)}d((n=n.apply(e,t||[])).next())})},ofe=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(g){return f([d,g])}}function f(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},AC=function(){function e(t,r,n){if(this.formatMap=new Map([[Ie.QR_CODE,"qr_code"],[Ie.AZTEC,"aztec"],[Ie.CODABAR,"codabar"],[Ie.CODE_39,"code_39"],[Ie.CODE_93,"code_93"],[Ie.CODE_128,"code_128"],[Ie.DATA_MATRIX,"data_matrix"],[Ie.ITF,"itf"],[Ie.EAN_13,"ean_13"],[Ie.EAN_8,"ean_8"],[Ie.PDF_417,"pdf417"],[Ie.UPC_A,"upc_a"],[Ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return afe(this,void 0,void 0,function(){var r,n;return ofe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:F4.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,s=t;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>n&&(n=u,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),_C=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{d(n.next(g))}catch(v){o(v)}}function f(g){try{d(n.throw(g))}catch(v){o(v)}}function d(g){g.done?s(g.value):i(g.value).then(u,f)}d((n=n.apply(e,t||[])).next())})},CC=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(g){return f([d,g])}}function f(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},lfe=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&AC.isSupported()?(this.primaryDecoder=new AC(t,n,i),this.secondaryDecoder=new EC(t,n,i)):this.primaryDecoder=new EC(t,n,i)}return e.prototype.decodeAsync=function(t){return _C(this,void 0,void 0,function(){var r;return CC(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return _C(this,void 0,void 0,function(){var r,n;return CC(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Hw=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D0=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{d(n.next(g))}catch(v){o(v)}}function f(g){try{d(n.throw(g))}catch(v){o(v)}}function d(g){g.done?s(g.value):i(g.value).then(u,f)}d((n=n.apply(e,t||[])).next())})},L0=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(g){return f([d,g])}}function f(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},z4=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),cfe=function(e){Hw(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(z4),ufe=function(e){Hw(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(cfe),ffe=function(e){Hw(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(z4),dfe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new ufe(this.track)},e.prototype.torchFeature=function(){return new ffe(this.track)},e}(),hfe=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return D0(this,void 0,void 0,function(){var s,o;return L0(this,function(u){switch(u.label){case 0:return s=new e(t,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return D0(this,void 0,void 0,function(){return L0(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),s=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new dfe(this.getFirstTrackOrFail())},e}(),pfe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return D0(this,void 0,void 0,function(){return L0(this,function(i){return[2,hfe.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return D0(this,void 0,void 0,function(){var r,n;return L0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),OC=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{d(n.next(g))}catch(v){o(v)}}function f(g){try{d(n.throw(g))}catch(v){o(v)}}function d(g){g.done?s(g.value):i(g.value).then(u,f)}d((n=n.apply(e,t||[])).next())})},TC=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(g){return f([d,g])}}function f(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},gfe=function(){function e(){}return e.failIfNotSupported=function(){return OC(this,void 0,void 0,function(){return TC(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return OC(this,void 0,void 0,function(){return TC(this,function(r){return[2,pfe.create(t)]})})},e}(),mfe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{d(n.next(g))}catch(v){o(v)}}function f(g){try{d(n.throw(g))}catch(v){o(v)}}function d(g){g.done?s(g.value):i(g.value).then(u,f)}d((n=n.apply(e,t||[])).next())})},yfe=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(g){return f([d,g])}}function f(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},vfe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Qo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Qo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return mfe(this,void 0,void 0,function(){var t,r,n,i,s,o,u;return yfe(this,function(f){switch(f.label){case 0:return t=function(d){for(var g=d.getVideoTracks(),v=0,w=g;v<w.length;v++){var S=w[v];S.enabled=!1,S.stop(),d.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=f.sent(),i=[],s=0,o=n;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(s){for(var o=[],u=0,f=s;u<f.length;u++){var d=f[u];d.kind==="video"&&o.push({id:d.id,label:d.label})}t(o)},i=MediaStreamTrack;i.getSources(n)})},e}(),nr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(nr||(nr={}));var xfe=function(){function e(){this.state=nr.NOT_STARTED,this.onGoingTransactionNewState=nr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===nr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=nr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===nr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=nr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==nr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case nr.UNKNOWN:throw"Transition from unknown is not allowed";case nr.NOT_STARTED:this.failIfNewStateIs(t,[nr.PAUSED]);break;case nr.SCANNING:break;case nr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),wfe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===nr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==nr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===nr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===nr.PAUSED},e}(),bfe=function(){function e(){}return e.create=function(){return new wfe(new xfe)},e}(),Sfe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_n=function(e){Sfe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(rfe),Efe=function(){function e(t,r){this.logger=r,this.fps=_n.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=_n.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?U4.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Gi(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Afe=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new ife(this.verbose),this.qrcode=new lfe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=bfe.create()}return e.prototype.start=function(t,r,n,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=Efe.create(r,this.logger);this.clearElement();var f=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=f,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:_n.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var v=this,w=this.stateManagerProxy.startTransition(nr.SCANNING);return new Promise(function(S,E){var _=d?u.videoConstraints:v.createVideoConstraints(t);if(!_){w.cancel(),E("videoConstraints should be defined");return}var A={};(!d||u.aspectRatio)&&(A.aspectRatio=u.aspectRatio);var N={onRenderSurfaceReady:function(C,T){v.setupUi(C,T,u),v.isScanning=!0,v.foreverScan(u,n,o)}};gfe.failIfNotSupported().then(function(C){C.create(_).then(function(T){return T.render(s.element,A,N).then(function(I){v.renderedCamera=I,w.execute(),S(null)}).catch(function(I){w.cancel(),E(I)})}).catch(function(T){w.cancel(),E(Qo.errorGettingUserMedia(T))})}).catch(function(C){w.cancel(),E(Qo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(nr.PAUSED),this.showPausedState(),(Gi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(nr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(nr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var s=document.getElementById(_n.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Gi(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,f=o.height,d=document.getElementById(n.elementId),g=d.clientWidth?d.clientWidth:_n.DEFAULT_WIDTH,v=Math.max(d.clientHeight?d.clientHeight:f,_n.FILE_SCAN_MIN_HEIGHT),w=n.computeCanvasDrawConfig(u,f,g,v);if(r){var S=n.createCanvasElement(g,v,"qr-canvas-visible");S.style.display="inline-block",d.appendChild(S);var E=S.getContext("2d");if(!E)throw"Unable to get 2d context from canvas";E.canvas.width=g,E.canvas.height=v,E.drawImage(o,0,0,u,f,w.x,w.y,w.width,w.height)}var _=_n.FILE_SCAN_HIDDEN_CANVAS_PADDING,A=Math.max(o.width,w.width),N=Math.max(o.height,w.height),C=A+2*_,T=N+2*_,I=n.createCanvasElement(C,T);d.appendChild(I);var P=I.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=C,P.canvas.height=T,P.drawImage(o,0,0,u,f,_,_,A,N);try{n.qrcode.decodeRobustlyAsync(I).then(function(k){i(SC.createFromQrcodeResult(k))}).catch(s)}catch(k){s("QR code parse error, error = ".concat(k))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return vfe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!U4.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ie.QR_CODE,Ie.AZTEC,Ie.CODABAR,Ie.CODE_39,Ie.CODE_93,Ie.CODE_128,Ie.DATA_MATRIX,Ie.MAXICODE,Ie.ITF,Ie.EAN_13,Ie.EAN_8,Ie.PDF_417,Ie.RSS_14,Ie.RSS_EXPANDED,Ie.UPC_A,Ie.UPC_E,Ie.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=t.formatsToSupport;i<s.length;i++){var o=s[i];tfe(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Gi(t))return!0;if(!Gi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Gi(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Gi(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,r,s),u=function(d){if(d<_n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(_n.MIN_QR_BOX_SIZE,"px.")},f=function(d){return d>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=t),d};u(o.width),u(o.height),o.width=f(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Gi(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&s.height<=r,u={x:0,y:0,width:t,height:r},f=o?this.getShadedRegionBounds(t,r,s):u,d=this.createCanvasElement(f.width,f.height),g={willReadFrequently:!0},v=d.getContext("2d",g);v.canvas.width=f.width,v.canvas.height=f.height,this.element.append(d),o&&this.possiblyInsertShadingElement(this.element,t,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=v,this.canvasElement=d},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Qo.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,SC.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=Qo.codeParseError(i);return r(s,nfe.createFrom(s)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*o,d=this.qrRegion.height*u,g=this.qrRegion.x*o,v=this.qrRegion.y*u;this.context.drawImage(s,g,v,f,d,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(S){!S&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){w()})):w()}).catch(function(S){i.logger.logError("Error happend while scanning context",S),w()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",o=function(E){if(E in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(E,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var f=Object.keys(t)[0];if(f!==r&&f!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(f===r){var d=t.facingMode;if(typeof d=="string"){if(o(d))return{facingMode:d}}else if(typeof d=="object")if(s in d){if(o(d["".concat(s)]))return{facingMode:{exact:d["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var g=typeof d;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var w=typeof v;throw"Invalid type of 'deviceId' = ".concat(w)}}}var S=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var s=(n-t)/2,o=(i-r)/2;return{x:s,y:o,width:t,height:r}}else{var u=t,f=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(f)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?_n.BORDER_SHADER_MATCH_COLOR:_n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,s=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=Gi(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(r-i.width)/2,u=(n-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(_n.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var f=5,d=40;this.insertShaderBorders(s,d,f,-f,null,0,!0),this.insertShaderBorders(s,d,f,-f,null,0,!1),this.insertShaderBorders(s,d,f,null,-f,0,!0),this.insertShaderBorders(s,d,f,null,-f,0,!1),this.insertShaderBorders(s,f,d+f,-f,null,-f,!0),this.insertShaderBorders(s,f,d+f,null,-f,-f,!0),this.insertShaderBorders(s,f,d+f,-f,null,-f,!1),this.insertShaderBorders(s,f,d+f,null,-f,-f,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,r,n,i,s,o,u){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=_n.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(r,"px"),f.style.height="".concat(n,"px"),i!==null&&(f.style.top="".concat(i,"px")),s!==null&&(f.style.bottom="".concat(s,"px")),u?f.style.left="".concat(o,"px"):f.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),t.appendChild(f)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),NC;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(NC||(NC={}));const _fe=()=>{const e=wn(),[t,r]=B.useState(!0),[n,i]=B.useState(""),[s,o]=B.useState(null),[u,f]=B.useState(!1),[d,g]=B.useState(!1),v=B.useRef(null),w=B.useRef(null),S=B.useRef(!1);B.useEffect(()=>{if(t&&w.current){const A=new Afe("qr-reader");v.current=A;const N=async T=>{var I;try{if(S.current)return;let P=T.trim();if(P.includes("transfer")||P.includes("code=")){const k=P.includes("?")?new URLSearchParams(P.split("?")[1]):new URLSearchParams(P.split("code=")[1]),R=k.get("code")||k.get("transfer");R&&(P=R.toUpperCase())}P&&/^[A-Z0-9]{6}$/.test(P)?(S.current=!0,o(null),r(!1),(I=v.current)!=null&&I.isScanning&&await v.current.stop().catch(()=>{}),await E(P)):o("Invalid QR code format. Expected 6-character code.")}catch(P){console.error("QR code parsing error:",P),o("Failed to process QR code. Please try again.")}},C={fps:10,qrbox:{width:250,height:250}};return A.start({facingMode:"environment"},C,N).catch(T=>{console.error("QR Scanner error:",T),o("Camera access denied or not available")}),()=>{var T;(T=v.current)!=null&&T.isScanning&&v.current.stop().catch(console.error)}}},[t]);const E=async A=>{var N,C;if(!(S.current&&d)){g(!0),o(null);try{const T=await Ui.connectViaTransfer({code:A});T.data.success&&(f(!0),r(!1),localStorage.setItem("transferred-session",JSON.stringify({sessionId:T.data.sessionId,session:T.data.session||null,transferCode:A,transferredAt:Date.now()})),setTimeout(()=>{e(`/mobile-session/${T.data.sessionId}`)},2e3))}catch(T){o(((C=(N=T.response)==null?void 0:N.data)==null?void 0:C.message)||"Invalid transfer code. Please try again."),r(!0),S.current=!1}finally{g(!1)}}},_=A=>{A.preventDefault(),n.length===6&&E(n.trim().toUpperCase())};return m.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:m.jsxs("div",{className:"max-w-lg mx-auto",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"flex items-center justify-center mb-4",children:m.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:m.jsx(xn,{size:32})})}),m.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Transfer Session to Mobile"}),m.jsx("p",{className:"text-gray-400",children:"Scan the QR code from your desktop or enter the transfer code manually"})]}),u?m.jsxs("div",{className:"bg-green-900 border border-green-600 rounded-lg p-6 text-center",children:[m.jsx(ns,{className:"text-green-400 mx-auto mb-4",size:64}),m.jsx("h2",{className:"text-xl font-bold text-green-400 mb-2",children:"Transfer Complete!"}),m.jsx("p",{className:"text-gray-300 mb-4",children:"Redirecting to your interview session..."}),m.jsx("div",{className:"animate-spin mx-auto",children:m.jsx("div",{className:"w-8 h-8 border-4 border-green-400 border-t-transparent rounded-full"})})]}):m.jsxs(m.Fragment,{children:[t&&m.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[m.jsx("div",{ref:w,id:"qr-reader",className:"w-full"}),m.jsxs("div",{className:"p-4 text-center",children:[m.jsx(TD,{className:"inline-block mb-2 text-blue-400",size:24}),m.jsx("p",{className:"text-sm text-gray-400",children:"Position QR code within frame"})]})]}),s&&m.jsxs("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4 mb-6 flex items-center gap-3",children:[m.jsx(fs,{className:"text-red-400 flex-shrink-0",size:24}),m.jsx("div",{className:"text-sm text-red-200",children:s})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[m.jsx("div",{className:"text-center mb-4",children:m.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"Or enter code manually"})}),m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"6-Digit Transfer Code"}),m.jsx("input",{type:"text",value:n,onChange:A=>i(A.target.value.toUpperCase()),maxLength:6,placeholder:"ABC123",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white text-center text-2xl font-mono tracking-widest focus:outline-none focus:border-blue-500",disabled:d})]}),m.jsx("button",{type:"submit",disabled:n.length!==6||d,className:"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors font-semibold",children:d?"Connecting...":"Connect to Desktop"})]})]}),m.jsxs("div",{className:"mt-6 bg-blue-900 border border-blue-600 rounded-lg p-4 text-sm",children:[m.jsx("div",{className:"font-semibold mb-2 text-blue-300",children:"How it works:"}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"1. Desktop generates QR code or 6-digit code"}),m.jsx("li",{children:"2. Scan QR code or enter code on this device"}),m.jsx("li",{children:"3. Session transfers to your mobile"}),m.jsx("li",{children:"4. Answers appear here while you share desktop screen"})]})]}),!t&&m.jsx("button",{onClick:()=>r(!0),className:"w-full mt-4 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Scan Another QR Code"})]})]})})},Cfe=()=>{const{sessionId:e}=tp(),[t,r]=B.useState(null),[n,i]=B.useState(""),[s,o]=B.useState(""),[u,f]=B.useState([]),[d,g]=B.useState(!1),[v,w]=B.useState(!0),[S,E]=B.useState(!1),[_,A]=B.useState(!1),[N,C]=B.useState(window.matchMedia("(orientation: landscape)").matches),{addToClipboard:T}=Ya(),I=B.useRef(null),P=B.useRef(!1),k=B.useRef(2500),R=B.useRef({questionText:"",answerText:""}),F=B.useRef(!1);B.useEffect(()=>{if(!e)return;const V=()=>{try{const ee=localStorage.getItem("transferred-session");if(!ee)return;const Z=JSON.parse(ee);Z!=null&&Z.session&&String(Z.sessionId)===String(e)&&(r(Z.session),F.current=!0)}catch{}},U=ee=>{var Z;return ee?Array.isArray(ee)?ee:Array.isArray((Z=ee==null?void 0:ee.session)==null?void 0:Z.questions)?ee.session.questions:Array.isArray(ee==null?void 0:ee.questions)?ee.questions:[]:[]},J=ee=>ee.map(Z=>({question:Z.question||Z.question_text||Z.questionText||"",answer:Z.answer||Z.answer_text||""})).filter(Z=>Z.question),Q=async()=>{var ee;if(!F.current)try{const Z=await Ui.getOne(e);r(((ee=Z.data)==null?void 0:ee.session)||Z.data),F.current=!0}catch(Z){console.error("Failed to fetch session:",Z)}},H=async()=>{var ee,Z;if(!P.current){P.current=!0;try{await Q();const Y=await wD.getHistory(e),ae=J(U(Y.data));if(ae.length>0){const ne=ae[ae.length-1];(ne.question!==R.current.questionText||ne.answer!==R.current.answerText)&&(i(ne.question),o(ne.answer),R.current={questionText:ne.question,answerText:ne.answer}),f(ae.slice().reverse())}w(!0),k.current=2500}catch(Y){console.error("Failed to fetch session:",Y),((ee=Y==null?void 0:Y.response)==null?void 0:ee.status)===401||((Z=Y==null?void 0:Y.response)==null?void 0:Z.status)===403?w(F.current):w(!1),k.current=Math.min(k.current+1500,1e4)}finally{P.current=!1,I.current=setTimeout(H,k.current)}}};return V(),H(),()=>{I.current&&clearTimeout(I.current)}},[e]),B.useEffect(()=>{const V=window.matchMedia("(orientation: landscape)"),U=J=>{C(J.matches)};return V.addEventListener("change",U),()=>V.removeEventListener("change",U)},[]);const L=V=>{navigator.clipboard.writeText(V),T(V),g(!0),setTimeout(()=>g(!1),2e3)},K=V=>{if("speechSynthesis"in window)if(S)window.speechSynthesis.cancel(),E(!1);else{const U=new SpeechSynthesisUtterance(V);U.rate=.9,U.pitch=1,U.onend=()=>E(!1),window.speechSynthesis.speak(U),E(!0)}};if(!v)return m.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-red-400 text-4xl mb-4",children:"⚠️"}),m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Connection Lost"}),m.jsx("p",{className:"text-gray-400",children:"Unable to connect to desktop session"})]})});if(_&&s){const V=N?"text-3xl":"text-4xl",U=N?"p-6":"p-8";return m.jsxs("div",{className:`min-h-screen bg-gradient-to-b from-blue-900 to-purple-900 text-white flex flex-col justify-center ${U}`,children:[n&&m.jsx("div",{className:"text-center mb-6 text-blue-200 text-sm opacity-75",children:n}),m.jsx("div",{className:`${V} leading-relaxed text-center mb-12 flex-grow flex items-center justify-center`,children:s}),m.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[m.jsxs("button",{onClick:()=>L(s),className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors",children:[m.jsx(Ka,{size:20})," Copy"]}),m.jsxs("button",{onClick:()=>K(s),className:`${S?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors`,children:[S?m.jsx(eS,{size:20}):m.jsx(J2,{size:20}),S?"Stop":"Speak"]}),m.jsxs("button",{onClick:()=>A(!1),className:"bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors",children:[m.jsx(LD,{size:20})," Done"]})]}),d&&m.jsx("div",{className:"text-center mt-4 text-green-300 font-semibold animate-pulse",children:"✓ Copied to clipboard!"})]})}return m.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[m.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:m.jsx(xn,{size:24})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-lg",children:"Mobile Session"}),m.jsxs("div",{className:"text-xs text-blue-100",children:[t==null?void 0:t.company_name," - ",t==null?void 0:t.job_title]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),m.jsx("div",{className:"text-xs",children:"Live"})]})]})}),n&&m.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-4",children:[m.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"CURRENT QUESTION"}),m.jsx("div",{className:"text-sm font-medium",children:n})]}),s&&m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"bg-gradient-to-br from-blue-900 to-purple-900 rounded-lg p-4 border border-blue-500",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("div",{className:"text-xs font-semibold text-blue-300",children:"ANSWER"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>K(s),className:"p-2 bg-blue-600 bg-opacity-50 rounded hover:bg-opacity-75 transition-colors",title:"Hear answer",children:S?m.jsx(eS,{size:16}):m.jsx(J2,{size:16})}),m.jsx("button",{onClick:()=>L(s),className:"p-2 bg-blue-600 bg-opacity-50 rounded hover:bg-opacity-75 transition-colors",title:"Copy to clipboard",children:d?m.jsx(ns,{size:16}):m.jsx(Ka,{size:16})}),m.jsx("button",{onClick:()=>A(!0),className:"p-2 bg-purple-600 bg-opacity-50 rounded hover:bg-opacity-75 transition-colors",title:"Full-screen answer view",children:m.jsx(jD,{size:16})})]})]}),m.jsx("div",{className:"text-white leading-relaxed whitespace-pre-wrap line-clamp-6",children:s}),m.jsx("button",{onClick:()=>A(!0),className:"text-xs text-blue-400 hover:text-blue-300 mt-2",children:"Tap for full-screen view →"})]}),d&&m.jsx("div",{className:"mt-2 text-center text-sm text-green-400",children:"✓ Copied to clipboard!"})]}),u.length>1&&m.jsxs("div",{className:"p-4",children:[m.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-3",children:"PREVIOUS ANSWERS"}),m.jsx("div",{className:"space-y-3",children:u.slice(1,6).map((V,U)=>m.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:[m.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["Q: ",V.question]}),m.jsx("div",{className:"text-sm text-gray-300 line-clamp-3",children:V.answer}),m.jsx("button",{onClick:()=>{i(V.question),o(V.answer)},className:"text-xs text-blue-400 hover:text-blue-300 mt-2",children:"View Full Answer"})]},U))})]}),m.jsx("div",{className:"p-4",children:m.jsxs("div",{className:"bg-blue-900 bg-opacity-30 border border-blue-700 rounded-lg p-4 text-sm",children:[m.jsx("div",{className:"font-semibold mb-2 text-blue-300",children:"Mobile Mode Active"}),m.jsxs("ul",{className:"space-y-1 text-gray-300 text-xs",children:[m.jsx("li",{children:"✓ Answers appear here in real-time"}),m.jsx("li",{children:"✓ Desktop screen can be shared safely"}),m.jsx("li",{children:"✓ Glance at phone naturally"}),m.jsx("li",{children:"✓ Tap speaker icon to hear answer"}),m.jsx("li",{children:"✓ Tap copy icon for clipboard"})]})]})}),m.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-800 border border-gray-700 rounded-full px-3 py-1 text-xs flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Screen awake"]})]})},Ofe=()=>{const{stealthMode:e,panicKey:t,detection:r,isScreenBeingRecorded:n,setScreenRecording:i,triggerPanic:s,hideApp:o}=Ya(),u=B.useCallback(f=>{const{key:d,modifiers:g}=t,v=(!g.includes("Ctrl")||f.ctrlKey)&&(!g.includes("Alt")||f.altKey)&&(!g.includes("Shift")||f.shiftKey);f.key===d&&v&&(f.preventDefault(),s())},[t,s]);return B.useEffect(()=>{if(!r.screenRecording)return;let f=!document.hidden,d=document.hasFocus();const g=()=>{const E=!document.hidden,_=document.hasFocus();E&&!_&&(f!==E||d!==_)&&(console.log("Potential screen share detected - tab visible but not focused"),i(!0),r.autoHide&&o()),_&&i(!1),f=E,d=_},v=()=>g(),w=()=>g(),S=()=>g();return document.addEventListener("visibilitychange",v),window.addEventListener("focus",w),window.addEventListener("blur",S),()=>{document.removeEventListener("visibilitychange",v),window.removeEventListener("focus",w),window.removeEventListener("blur",S)}},[r,i,o]),B.useEffect(()=>{const f=()=>{document.hidden&&e&&console.log("Tab hidden - stealth mode active")};return document.addEventListener("visibilitychange",f),()=>document.removeEventListener("visibilitychange",f)},[e]),B.useEffect(()=>{let f=0,d=null;const g=v=>{v.clientX>window.innerWidth-50&&v.clientY<50&&(f++,d&&clearTimeout(d),f===3?(s(),f=0):d=setTimeout(()=>{f=0},500))};return e&&window.addEventListener("click",g),()=>{window.removeEventListener("click",g),d&&clearTimeout(d)}},[e,s]),B.useEffect(()=>(window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)),[u]),n&&r.alertUser?m.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-pulse",children:[m.jsx(fs,{size:20}),m.jsx("span",{children:"Screen Recording Detected!"})]}):e?m.jsxs("div",{className:"fixed bottom-4 right-4 z-50 bg-gray-800 text-gray-400 px-2 py-1 rounded text-xs opacity-30 hover:opacity-100 transition-opacity",children:[m.jsx(jn,{size:12,className:"inline mr-1"}),"Stealth"]}):null};function Tfe(){const{token:e,user:t}=so(),[r,n]=B.useState(!1);return B.useEffect(()=>{BT()},[]),B.useEffect(()=>{let i=!1;const s=setTimeout(()=>{i||(console.log("Forcing hydration complete after timeout"),n(!0))},1e3),o=setTimeout(()=>{i||(n(!0),clearTimeout(s))},200);return()=>{i=!0,clearTimeout(o),clearTimeout(s)}},[]),r?m.jsxs(XR,{children:[m.jsx(Ofe,{}),m.jsxs(UR,{children:[m.jsx(vr,{path:"/login",element:e?m.jsx(bo,{to:"/"}):m.jsx(AL,{})}),m.jsx(vr,{path:"/register",element:e?m.jsx(bo,{to:"/"}):m.jsx(_L,{})}),m.jsx(vr,{path:"/forgot-password",element:e?m.jsx(bo,{to:"/"}):m.jsx(CL,{})}),m.jsx(vr,{path:"/reset-password",element:e?m.jsx(bo,{to:"/"}):m.jsx(OL,{})}),m.jsx(vr,{path:"/google-auth",element:m.jsx(TL,{})}),m.jsx(vr,{path:"/auth/callback",element:m.jsx(NL,{})}),m.jsx(vr,{path:"/decoy/:type",element:m.jsx(efe,{})}),m.jsx(vr,{path:"/mobile-transfer",element:m.jsx(_fe,{})}),m.jsx(vr,{path:"/mobile-session/:sessionId",element:m.jsx(Cfe,{})}),m.jsx(vr,{path:"/mobile/:sessionId",element:m.jsx(r9,{})}),m.jsx(vr,{path:"/admin",element:(t==null?void 0:t.role)==="admin"?m.jsx(PL,{}):m.jsx(bo,{to:"/"})}),m.jsxs(vr,{path:"/",element:e?m.jsx(VD,{}):m.jsx(bo,{to:"/login"}),children:[m.jsx(vr,{index:!0,element:m.jsx(IL,{})}),m.jsx(vr,{path:"session/:id",element:m.jsx(t9,{})}),m.jsx(vr,{path:"analytics",element:m.jsx(Xue,{})}),m.jsx(vr,{path:"settings",element:m.jsx(Yue,{})}),m.jsx(vr,{path:"stealth",element:m.jsx(Jue,{})}),m.jsx(vr,{path:"mobile",element:m.jsx(Zue,{})})]})]})]}):m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"radial-gradient(circle at 20% 20%, rgba(31,182,255,0.16), transparent 35%), linear-gradient(145deg, #05080f, #0b1220)"},children:m.jsx("div",{className:"spinner"})})}var Ev;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Ev||(Ev={}));var IC;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(IC||(IC={}));const PC=ri("StatusBar"),Nfe=ri("SplashScreen",{web:()=>tc(()=>import("./web-DDQ2k_4p.js"),[]).then(e=>new e.SplashScreenWeb)});var kC;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(kC||(kC={}));var jC;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(jC||(jC={}));const Ife=ri("Keyboard"),RC=ri("Network",{web:()=>tc(()=>import("./web-CrUsnE6g.js"),[]).then(e=>new e.NetworkWeb)});var Av;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(Av||(Av={}));var MC;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(MC||(MC={}));const DC=ri("Haptics",{web:()=>tc(()=>import("./web-D4ai1zoo.js"),[]).then(e=>new e.HapticsWeb)});class Pfe{constructor(){this.isNative=$t.isNativePlatform(),this.platform=$t.getPlatform()}async initialize(){if(this.isNative)try{await PC.setStyle({style:Ev.Dark}),await PC.setBackgroundColor({color:"#3b82f6"}),await Nfe.hide(),Ca.addListener("appStateChange",({isActive:t})=>{console.log("App state changed. Is active:",t)}),Ca.addListener("backButton",({canGoBack:t})=>{t?window.history.back():Ca.exitApp()}),RC.addListener("networkStatusChange",t=>{console.log("Network status changed",t),this.handleNetworkChange(t)}),console.log("Capacitor initialized successfully")}catch(t){console.error("Capacitor initialization error:",t)}}async hapticImpact(t=Av.Medium){if(this.isNative)try{await DC.impact({style:t})}catch(r){console.error("Haptic error:",r)}}async vibrate(t=100){if(this.isNative)try{await DC.vibrate({duration:t})}catch(r){console.error("Vibrate error:",r)}}async getNetworkStatus(){if(!this.isNative)return{connected:navigator.onLine,connectionType:"unknown"};try{return await RC.getStatus()}catch(t){return console.error("Network status error:",t),{connected:!0,connectionType:"unknown"}}}handleNetworkChange(t){t.connected?(console.log("Network connected"),window.dispatchEvent(new CustomEvent("network-online"))):(console.log("Network disconnected - switching to offline mode"),window.dispatchEvent(new CustomEvent("network-offline")))}async hideKeyboard(){if(this.isNative)try{await Ife.hide()}catch(t){console.error("Hide keyboard error:",t)}}async getAppInfo(){if(!this.isNative)return{version:"2.0.0",build:"web"};try{return await Ca.getInfo()}catch(t){return console.error("Get app info error:",t),null}}async exitApp(){if(this.isNative)try{await Ca.exitApp()}catch(t){console.error("Exit app error:",t)}}isMobile(){return this.isNative||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}getPlatform(){return this.platform}async requestPermissions(){return this.isNative?{granted:!0}:{granted:!0}}}const kfe=new Pfe;typeof window<"u"&&document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("error",e=>{var t;console.error("GlobalError",((t=e.error)==null?void 0:t.message)||e.message||e)}),window.addEventListener("unhandledrejection",e=>{var t;console.error("UnhandledRejection",((t=e.reason)==null?void 0:t.message)||e.reason||e)})});kfe.initialize().catch(e=>{console.warn("Capacitor initialization skipped or failed:",e)});Lg.createRoot(document.getElementById("root")).render(m.jsx(X.StrictMode,{children:m.jsx(Tfe,{})}));export{OS as E,Av as I,MC as N,dT as W,$6 as b};
//# sourceMappingURL=index-Blu4j8_n.js.map

